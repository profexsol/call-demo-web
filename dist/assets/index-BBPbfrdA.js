var wR=Object.defineProperty;var Zw=r=>{throw TypeError(r)};var bR=(r,e,n)=>e in r?wR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var SR=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Fa=(r,e,n)=>bR(r,typeof e!="symbol"?e+"":e,n),eb=(r,e,n)=>e.has(r)||Zw("Cannot "+n);var ct=(r,e,n)=>(eb(r,e,"read from private field"),n?n.call(r):e.get(r)),tb=(r,e,n)=>e.has(r)?Zw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),rb=(r,e,n,t)=>(eb(r,e,"write to private field"),t?t.call(r,n):e.set(r,n),n);var N6=SR((X6,yh)=>{function w_(r,e){for(var n=0;n<e.length;n++){const t=e[n];if(typeof t!="string"&&!Array.isArray(t)){for(const s in t)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(t,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>t[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ha(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var s=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(n,t,s.get?s:{enumerable:!0,get:function(){return r[t]}})}),n}var Rm={exports:{}},dl={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Pm,nb;function b_(){if(nb)return Pm;nb=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function t(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},u=0;u<10;u++)a["_"+String.fromCharCode(u)]=u;var p=Object.getOwnPropertyNames(a).map(function(f){return a[f]});if(p.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(f){c[f]=f}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Pm=s()?Object.assign:function(i,a){for(var u,p=t(i),c,f=1;f<arguments.length;f++){u=Object(arguments[f]);for(var d in u)e.call(u,d)&&(p[d]=u[d]);if(r){c=r(u);for(var h=0;h<c.length;h++)n.call(u,c[h])&&(p[c[h]]=u[c[h]])}}return p},Pm}var Om={exports:{}},Kt={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function CR(){if(ib)return Kt;ib=1;var r=b_(),e=60103,n=60106;Kt.Fragment=60107,Kt.StrictMode=60108,Kt.Profiler=60114;var t=60109,s=60110,i=60112;Kt.Suspense=60113;var a=60115,u=60116;if(typeof Symbol=="function"&&Symbol.for){var p=Symbol.for;e=p("react.element"),n=p("react.portal"),Kt.Fragment=p("react.fragment"),Kt.StrictMode=p("react.strict_mode"),Kt.Profiler=p("react.profiler"),t=p("react.provider"),s=p("react.context"),i=p("react.forward_ref"),Kt.Suspense=p("react.suspense"),a=p("react.memo"),u=p("react.lazy")}var c=typeof Symbol=="function"&&Symbol.iterator;function f(q){return q===null||typeof q!="object"?null:(q=c&&q[c]||q["@@iterator"],typeof q=="function"?q:null)}function d(q){for(var ee="https://reactjs.org/docs/error-decoder.html?invariant="+q,ce=1;ce<arguments.length;ce++)ee+="&args[]="+encodeURIComponent(arguments[ce]);return"Minified React error #"+q+"; visit "+ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function R(q,ee,ce){this.props=q,this.context=ee,this.refs=w,this.updater=ce||h}R.prototype.isReactComponent={},R.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error(d(85));this.updater.enqueueSetState(this,q,ee,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=R.prototype;function _(q,ee,ce){this.props=q,this.context=ee,this.refs=w,this.updater=ce||h}var v=_.prototype=new S;v.constructor=_,r(v,R.prototype),v.isPureReactComponent=!0;var C={current:null},T=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function k(q,ee,ce){var ve,fe={},ke=null,Re=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Re=ee.ref),ee.key!==void 0&&(ke=""+ee.key),ee)T.call(ee,ve)&&!M.hasOwnProperty(ve)&&(fe[ve]=ee[ve]);var Ue=arguments.length-2;if(Ue===1)fe.children=ce;else if(1<Ue){for(var qe=Array(Ue),Je=0;Je<Ue;Je++)qe[Je]=arguments[Je+2];fe.children=qe}if(q&&q.defaultProps)for(ve in Ue=q.defaultProps,Ue)fe[ve]===void 0&&(fe[ve]=Ue[ve]);return{$$typeof:e,type:q,key:ke,ref:Re,props:fe,_owner:C.current}}function N(q,ee){return{$$typeof:e,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function y(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ce){return ee[ce]})}var I=/\/+/g;function U(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):ee.toString(36)}function K(q,ee,ce,ve,fe){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Re=!1;if(q===null)Re=!0;else switch(ke){case"string":case"number":Re=!0;break;case"object":switch(q.$$typeof){case e:case n:Re=!0}}if(Re)return Re=q,fe=fe(Re),q=ve===""?"."+U(Re,0):ve,Array.isArray(fe)?(ce="",q!=null&&(ce=q.replace(I,"$&/")+"/"),K(fe,ee,ce,"",function(Je){return Je})):fe!=null&&(y(fe)&&(fe=N(fe,ce+(!fe.key||Re&&Re.key===fe.key?"":(""+fe.key).replace(I,"$&/")+"/")+q)),ee.push(fe)),1;if(Re=0,ve=ve===""?".":ve+":",Array.isArray(q))for(var Ue=0;Ue<q.length;Ue++){ke=q[Ue];var qe=ve+U(ke,Ue);Re+=K(ke,ee,ce,qe,fe)}else if(qe=f(q),typeof qe=="function")for(q=qe.call(q),Ue=0;!(ke=q.next()).done;)ke=ke.value,qe=ve+U(ke,Ue++),Re+=K(ke,ee,ce,qe,fe);else if(ke==="object")throw ee=""+q,Error(d(31,ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee));return Re}function Q(q,ee,ce){if(q==null)return q;var ve=[],fe=0;return K(q,ve,"","",function(ke){return ee.call(ce,ke,fe++)}),ve}function oe(q){if(q._status===-1){var ee=q._result;ee=ee(),q._status=0,q._result=ee,ee.then(function(ce){q._status===0&&(ce=ce.default,q._status=1,q._result=ce)},function(ce){q._status===0&&(q._status=2,q._result=ce)})}if(q._status===1)return q._result;throw q._result}var Z={current:null};function de(){var q=Z.current;if(q===null)throw Error(d(321));return q}var ye={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};return Kt.Children={map:Q,forEach:function(q,ee,ce){Q(q,function(){ee.apply(this,arguments)},ce)},count:function(q){var ee=0;return Q(q,function(){ee++}),ee},toArray:function(q){return Q(q,function(ee){return ee})||[]},only:function(q){if(!y(q))throw Error(d(143));return q}},Kt.Component=R,Kt.PureComponent=_,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Kt.cloneElement=function(q,ee,ce){if(q==null)throw Error(d(267,q));var ve=r({},q.props),fe=q.key,ke=q.ref,Re=q._owner;if(ee!=null){if(ee.ref!==void 0&&(ke=ee.ref,Re=C.current),ee.key!==void 0&&(fe=""+ee.key),q.type&&q.type.defaultProps)var Ue=q.type.defaultProps;for(qe in ee)T.call(ee,qe)&&!M.hasOwnProperty(qe)&&(ve[qe]=ee[qe]===void 0&&Ue!==void 0?Ue[qe]:ee[qe])}var qe=arguments.length-2;if(qe===1)ve.children=ce;else if(1<qe){Ue=Array(qe);for(var Je=0;Je<qe;Je++)Ue[Je]=arguments[Je+2];ve.children=Ue}return{$$typeof:e,type:q.type,key:fe,ref:ke,props:ve,_owner:Re}},Kt.createContext=function(q,ee){return ee===void 0&&(ee=null),q={$$typeof:s,_calculateChangedBits:ee,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider={$$typeof:t,_context:q},q.Consumer=q},Kt.createElement=k,Kt.createFactory=function(q){var ee=k.bind(null,q);return ee.type=q,ee},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(q){return{$$typeof:i,render:q}},Kt.isValidElement=y,Kt.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:oe}},Kt.memo=function(q,ee){return{$$typeof:a,type:q,compare:ee===void 0?null:ee}},Kt.useCallback=function(q,ee){return de().useCallback(q,ee)},Kt.useContext=function(q,ee){return de().useContext(q,ee)},Kt.useDebugValue=function(){},Kt.useEffect=function(q,ee){return de().useEffect(q,ee)},Kt.useImperativeHandle=function(q,ee,ce){return de().useImperativeHandle(q,ee,ce)},Kt.useLayoutEffect=function(q,ee){return de().useLayoutEffect(q,ee)},Kt.useMemo=function(q,ee){return de().useMemo(q,ee)},Kt.useReducer=function(q,ee,ce){return de().useReducer(q,ee,ce)},Kt.useRef=function(q){return de().useRef(q)},Kt.useState=function(q){return de().useState(q)},Kt.version="17.0.2",Kt}var sb;function S_(){return sb||(sb=1,Om.exports=CR()),Om.exports}/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function kR(){if(ob)return dl;ob=1,b_();var r=S_(),e=60103;if(dl.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var n=Symbol.for;e=n("react.element"),dl.Fragment=n("react.fragment")}var t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,p,c){var f,d={},h=null,w=null;c!==void 0&&(h=""+c),p.key!==void 0&&(h=""+p.key),p.ref!==void 0&&(w=p.ref);for(f in p)s.call(p,f)&&!i.hasOwnProperty(f)&&(d[f]=p[f]);if(u&&u.defaultProps)for(f in p=u.defaultProps,p)d[f]===void 0&&(d[f]=p[f]);return{$$typeof:e,type:u,key:h,ref:w,props:d,_owner:t.current}}return dl.jsx=a,dl.jsxs=a,dl}var ab;function $h(){return ab||(ab=1,Rm.exports=kR()),Rm.exports}var A=$h(),le=S_();const $e=Ei(le),od=w_({__proto__:null,default:$e},[le]);var Dm={exports:{}},$i={},Mm={exports:{}},Am={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function xR(){return cb||(cb=1,function(r){var e,n,t,s;if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();r.unstable_now=function(){return a.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var p=null,c=null,f=function(){if(p!==null)try{var fe=r.unstable_now();p(!0,fe),p=null}catch(ke){throw setTimeout(f,0),ke}};e=function(fe){p!==null?setTimeout(e,0,fe):(p=fe,setTimeout(f,0))},n=function(fe,ke){c=setTimeout(fe,ke)},t=function(){clearTimeout(c)},r.unstable_shouldYield=function(){return!1},s=r.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var w=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof w!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var R=!1,S=null,_=-1,v=5,C=0;r.unstable_shouldYield=function(){return r.unstable_now()>=C},s=function(){},r.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<fe?Math.floor(1e3/fe):5};var T=new MessageChannel,M=T.port2;T.port1.onmessage=function(){if(S!==null){var fe=r.unstable_now();C=fe+v;try{S(!0,fe)?M.postMessage(null):(R=!1,S=null)}catch(ke){throw M.postMessage(null),ke}}else R=!1},e=function(fe){S=fe,R||(R=!0,M.postMessage(null))},n=function(fe,ke){_=d(function(){fe(r.unstable_now())},ke)},t=function(){h(_),_=-1}}function k(fe,ke){var Re=fe.length;fe.push(ke);e:for(;;){var Ue=Re-1>>>1,qe=fe[Ue];if(qe!==void 0&&0<F(qe,ke))fe[Ue]=ke,fe[Re]=qe,Re=Ue;else break e}}function N(fe){return fe=fe[0],fe===void 0?null:fe}function y(fe){var ke=fe[0];if(ke!==void 0){var Re=fe.pop();if(Re!==ke){fe[0]=Re;e:for(var Ue=0,qe=fe.length;Ue<qe;){var Je=2*(Ue+1)-1,kt=fe[Je],Xt=Je+1,qt=fe[Xt];if(kt!==void 0&&0>F(kt,Re))qt!==void 0&&0>F(qt,kt)?(fe[Ue]=qt,fe[Xt]=Re,Ue=Xt):(fe[Ue]=kt,fe[Je]=Re,Ue=Je);else if(qt!==void 0&&0>F(qt,Re))fe[Ue]=qt,fe[Xt]=Re,Ue=Xt;else break e}}return ke}return null}function F(fe,ke){var Re=fe.sortIndex-ke.sortIndex;return Re!==0?Re:fe.id-ke.id}var I=[],U=[],K=1,Q=null,oe=3,Z=!1,de=!1,ye=!1;function q(fe){for(var ke=N(U);ke!==null;){if(ke.callback===null)y(U);else if(ke.startTime<=fe)y(U),ke.sortIndex=ke.expirationTime,k(I,ke);else break;ke=N(U)}}function ee(fe){if(ye=!1,q(fe),!de)if(N(I)!==null)de=!0,e(ce);else{var ke=N(U);ke!==null&&n(ee,ke.startTime-fe)}}function ce(fe,ke){de=!1,ye&&(ye=!1,t()),Z=!0;var Re=oe;try{for(q(ke),Q=N(I);Q!==null&&(!(Q.expirationTime>ke)||fe&&!r.unstable_shouldYield());){var Ue=Q.callback;if(typeof Ue=="function"){Q.callback=null,oe=Q.priorityLevel;var qe=Ue(Q.expirationTime<=ke);ke=r.unstable_now(),typeof qe=="function"?Q.callback=qe:Q===N(I)&&y(I),q(ke)}else y(I);Q=N(I)}if(Q!==null)var Je=!0;else{var kt=N(U);kt!==null&&n(ee,kt.startTime-ke),Je=!1}return Je}finally{Q=null,oe=Re,Z=!1}}var ve=s;r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(fe){fe.callback=null},r.unstable_continueExecution=function(){de||Z||(de=!0,e(ce))},r.unstable_getCurrentPriorityLevel=function(){return oe},r.unstable_getFirstCallbackNode=function(){return N(I)},r.unstable_next=function(fe){switch(oe){case 1:case 2:case 3:var ke=3;break;default:ke=oe}var Re=oe;oe=ke;try{return fe()}finally{oe=Re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=ve,r.unstable_runWithPriority=function(fe,ke){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Re=oe;oe=fe;try{return ke()}finally{oe=Re}},r.unstable_scheduleCallback=function(fe,ke,Re){var Ue=r.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Ue+Re:Ue):Re=Ue,fe){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Re+qe,fe={id:K++,callback:ke,priorityLevel:fe,startTime:Re,expirationTime:qe,sortIndex:-1},Re>Ue?(fe.sortIndex=Re,k(U,fe),N(I)===null&&fe===N(U)&&(ye?t():ye=!0,n(ee,Re-Ue))):(fe.sortIndex=qe,k(I,fe),de||Z||(de=!0,e(ce))),fe},r.unstable_wrapCallback=function(fe){var ke=oe;return function(){var Re=oe;oe=ke;try{return fe.apply(this,arguments)}finally{oe=Re}}}}(Am)),Am}var lb;function ER(){return lb||(lb=1,Mm.exports=xR()),Mm.exports}/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function TR(){if(ub)return $i;ub=1;var r=S_(),e=b_(),n=ER();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(t(227));var s=new Set,i={};function a(o,l){u(o,l),u(o+"Capture",l)}function u(o,l){for(i[o]=l,o=0;o<l.length;o++)s.add(l[o])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,d={},h={};function w(o){return f.call(h,o)?!0:f.call(d,o)?!1:c.test(o)?h[o]=!0:(d[o]=!0,!1)}function R(o,l,m,x){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,l,m,x){if(l===null||typeof l>"u"||R(o,l,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(o,l,m,x,j,W,X){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=j,this.mustUseProperty=m,this.propertyName=o,this.type=l,this.sanitizeURL=W,this.removeEmptyString=X}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){v[o]=new _(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];v[l]=new _(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){v[o]=new _(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){v[o]=new _(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){v[o]=new _(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){v[o]=new _(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){v[o]=new _(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){v[o]=new _(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){v[o]=new _(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,T);v[l]=new _(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,T);v[l]=new _(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,T);v[l]=new _(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){v[o]=new _(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){v[o]=new _(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,m,x){var j=v.hasOwnProperty(l)?v[l]:null,W=j!==null?j.type===0:x?!1:!(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N");W||(S(l,m,j,x)&&(m=null),x||j===null?w(l)&&(m===null?o.removeAttribute(l):o.setAttribute(l,""+m)):j.mustUseProperty?o[j.propertyName]=m===null?j.type===3?!1:"":m:(l=j.attributeName,x=j.attributeNamespace,m===null?o.removeAttribute(l):(j=j.type,m=j===3||j===4&&m===!0?"":""+m,x?o.setAttributeNS(x,l,m):o.setAttribute(l,m))))}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=60103,y=60106,F=60107,I=60108,U=60114,K=60109,Q=60110,oe=60112,Z=60113,de=60120,ye=60115,q=60116,ee=60121,ce=60128,ve=60129,fe=60130,ke=60131;if(typeof Symbol=="function"&&Symbol.for){var Re=Symbol.for;N=Re("react.element"),y=Re("react.portal"),F=Re("react.fragment"),I=Re("react.strict_mode"),U=Re("react.profiler"),K=Re("react.provider"),Q=Re("react.context"),oe=Re("react.forward_ref"),Z=Re("react.suspense"),de=Re("react.suspense_list"),ye=Re("react.memo"),q=Re("react.lazy"),ee=Re("react.block"),Re("react.scope"),ce=Re("react.opaque.id"),ve=Re("react.debug_trace_mode"),fe=Re("react.offscreen"),ke=Re("react.legacy_hidden")}var Ue=typeof Symbol=="function"&&Symbol.iterator;function qe(o){return o===null||typeof o!="object"?null:(o=Ue&&o[Ue]||o["@@iterator"],typeof o=="function"?o:null)}var Je;function kt(o){if(Je===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);Je=l&&l[1]||""}return`
`+Je+o}var Xt=!1;function qt(o,l){if(!o||Xt)return"";Xt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(pe){var x=pe}Reflect.construct(o,[],l)}else{try{l.call()}catch(pe){x=pe}o.call(l.prototype)}else{try{throw Error()}catch(pe){x=pe}o()}}catch(pe){if(pe&&x&&typeof pe.stack=="string"){for(var j=pe.stack.split(`
`),W=x.stack.split(`
`),X=j.length-1,ne=W.length-1;1<=X&&0<=ne&&j[X]!==W[ne];)ne--;for(;1<=X&&0<=ne;X--,ne--)if(j[X]!==W[ne]){if(X!==1||ne!==1)do if(X--,ne--,0>ne||j[X]!==W[ne])return`
`+j[X].replace(" at new "," at ");while(1<=X&&0<=ne);break}}}finally{Xt=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?kt(o):""}function pr(o){switch(o.tag){case 5:return kt(o.type);case 16:return kt("Lazy");case 13:return kt("Suspense");case 19:return kt("SuspenseList");case 0:case 2:case 15:return o=qt(o.type,!1),o;case 11:return o=qt(o.type.render,!1),o;case 22:return o=qt(o.type._render,!1),o;case 1:return o=qt(o.type,!0),o;default:return""}}function kn(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case F:return"Fragment";case y:return"Portal";case U:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case de:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case K:return(o._context.displayName||"Context")+".Provider";case oe:var l=o.render;return l=l.displayName||l.name||"",o.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case ye:return kn(o.type);case ee:return kn(o._render);case q:l=o._payload,o=o._init;try{return kn(o(l))}catch{}}return null}function Jt(o){switch(typeof o){case"boolean":case"number":case"object":case"string":case"undefined":return o;default:return""}}function br(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Qt(o){var l=br(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var j=m.get,W=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return j.call(this)},set:function(X){x=""+X,W.call(this,X)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(X){x=""+X},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function on(o){o._valueTracker||(o._valueTracker=Qt(o))}function cr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var m=l.getValue(),x="";return o&&(x=br(o)?o.checked?"true":"false":o.value),o=x,o!==m?(l.setValue(o),!0):!1}function xr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function en(o,l){var m=l.checked;return e({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function jr(o,l){var m=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;m=Jt(l.value!=null?l.value:m),o._wrapperState={initialChecked:x,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function vn(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function xn(o,l){vn(o,l);var m=Jt(l.value),x=l.type;if(m!=null)x==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ct(o,l.type,m):l.hasOwnProperty("defaultValue")&&Ct(o,l.type,Jt(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Ir(o,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,m||l===o.value||(o.value=l),o.defaultValue=l}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Ct(o,l,m){(l!=="number"||xr(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}function nr(o){var l="";return r.Children.forEach(o,function(m){m!=null&&(l+=m)}),l}function Qe(o,l){return o=e({children:void 0},l),(l=nr(l.children))&&(o.children=l),o}function Yt(o,l,m,x){if(o=o.options,l){l={};for(var j=0;j<m.length;j++)l["$"+m[j]]=!0;for(m=0;m<o.length;m++)j=l.hasOwnProperty("$"+o[m].value),o[m].selected!==j&&(o[m].selected=j),j&&x&&(o[m].defaultSelected=!0)}else{for(m=""+Jt(m),l=null,j=0;j<o.length;j++){if(o[j].value===m){o[j].selected=!0,x&&(o[j].defaultSelected=!0);return}l!==null||o[j].disabled||(l=o[j])}l!==null&&(l.selected=!0)}}function mr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return e({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function lr(o,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(t(92));if(Array.isArray(m)){if(!(1>=m.length))throw Error(t(93));m=m[0]}l=m}l==null&&(l=""),m=l}o._wrapperState={initialValue:Jt(m)}}function $n(o,l){var m=Jt(l.value),x=Jt(l.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),l.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),x!=null&&(o.defaultValue=""+x)}function Gi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}var Vr={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Bt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Bt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var zr,_n=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,x,j){MSApp.execUnsafeLocalFunction(function(){return o(l,m,x,j)})}:o}(function(o,l){if(o.namespaceURI!==Vr.svg||"innerHTML"in o)o.innerHTML=l;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=zr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Xn(o,l){if(l){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=l;return}}o.textContent=l}var pt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qn=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(o){Qn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),pt[l]=pt[o]})});function Ti(o,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||pt.hasOwnProperty(o)&&pt[o]?(""+l).trim():l+"px"}function ps(o,l){o=o.style;for(var m in l)if(l.hasOwnProperty(m)){var x=m.indexOf("--")===0,j=Ti(m,l[m],x);m==="float"&&(m="cssFloat"),x?o.setProperty(m,j):o[m]=j}}var Wr=e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(o,l){if(l){if(Wr[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(!(typeof l.dangerouslySetInnerHTML=="object"&&"__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ms(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ri(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Yr=null,gr=null,En=null;function va(o){if(o=te(o)){if(typeof Yr!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Ye(l),Yr(o.stateNode,o.type,l))}}function ro(o){gr?En?En.push(o):En=[o]:gr=o}function gs(){if(gr){var o=gr,l=En;if(En=gr=null,va(o),l)for(o=0;o<l.length;o++)va(l[o])}}function di(o,l){return o(l)}function fi(o,l,m,x,j){return o(l,m,x,j)}function hi(){}var Pi=di,Oi=!1,Bo=!1;function vs(){(gr!==null||En!==null)&&(hi(),gs())}function no(o,l,m){if(Bo)return o(l,m);Bo=!0;try{return Pi(o,l,m)}finally{Bo=!1,vs()}}function _s(o,l){var m=o.stateNode;if(m===null)return null;var x=Ye(m);if(x===null)return null;m=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(t(231,l,typeof m));return m}var Vt=!1;if(p)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Vt=!1}function $o(o,l,m,x,j,W,X,ne,pe){var Pe=Array.prototype.slice.call(arguments,3);try{l.apply(m,Pe)}catch(rt){this.onError(rt)}}var Tn=!1,ys=null,Zn=!1,pi=null,Rn={onError:function(o){Tn=!0,ys=o}};function ei(o,l,m,x,j,W,X,ne,pe){Tn=!1,ys=null,$o.apply(Rn,arguments)}function _a(o,l,m,x,j,W,X,ne,pe){if(ei.apply(this,arguments),Tn){if(Tn){var Pe=ys;Tn=!1,ys=null}else throw Error(t(198));Zn||(Zn=!0,pi=Pe)}}function tn(o){var l=o,m=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&1026)!==0&&(m=l.return),o=l.return;while(o)}return l.tag===3?m:null}function Zt(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function an(o){if(tn(o)!==o)throw Error(t(188))}function Uo(o){var l=o.alternate;if(!l){if(l=tn(o),l===null)throw Error(t(188));return l!==o?null:o}for(var m=o,x=l;;){var j=m.return;if(j===null)break;var W=j.alternate;if(W===null){if(x=j.return,x!==null){m=x;continue}break}if(j.child===W.child){for(W=j.child;W;){if(W===m)return an(j),o;if(W===x)return an(j),l;W=W.sibling}throw Error(t(188))}if(m.return!==x.return)m=j,x=W;else{for(var X=!1,ne=j.child;ne;){if(ne===m){X=!0,m=j,x=W;break}if(ne===x){X=!0,x=j,m=W;break}ne=ne.sibling}if(!X){for(ne=W.child;ne;){if(ne===m){X=!0,m=W,x=j;break}if(ne===x){X=!0,x=W,m=j;break}ne=ne.sibling}if(!X)throw Error(t(189))}}if(m.alternate!==x)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?o:l}function io(o){if(o=Uo(o),!o)return null;for(var l=o;;){if(l.tag===5||l.tag===6)return l;if(l.child)l.child.return=l,l=l.child;else{if(l===o)break;for(;!l.sibling;){if(!l.return||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}}return null}function so(o,l){for(var m=o.alternate;l!==null;){if(l===o||l===m)return!0;l=l.return}return!1}var Mi,oo,ws,Ji,ao=!1,cn=[],Fr=null,er=null,rn=null,Un=new Map,Pn=new Map,ti=[],bs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ss(o,l,m,x,j){return{blockedOn:o,domEventName:l,eventSystemFlags:m|16,nativeEvent:j,targetContainers:[x]}}function ri(o,l){switch(o){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Un.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(l.pointerId)}}function yn(o,l,m,x,j,W){return o===null||o.nativeEvent!==W?(o=Ss(l,m,x,j,W),l!==null&&(l=te(l),l!==null&&oo(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,j!==null&&l.indexOf(j)===-1&&l.push(j),o)}function Cs(o,l,m,x,j){switch(l){case"focusin":return Fr=yn(Fr,o,l,m,x,j),!0;case"dragenter":return er=yn(er,o,l,m,x,j),!0;case"mouseover":return rn=yn(rn,o,l,m,x,j),!0;case"pointerover":var W=j.pointerId;return Un.set(W,yn(Un.get(W)||null,o,l,m,x,j)),!0;case"gotpointercapture":return W=j.pointerId,Pn.set(W,yn(Pn.get(W)||null,o,l,m,x,j)),!0}return!1}function co(o){var l=H(o.target);if(l!==null){var m=tn(l);if(m!==null){if(l=m.tag,l===13){if(l=Zt(m),l!==null){o.blockedOn=l,Ji(o.lanePriority,function(){n.unstable_runWithPriority(o.priority,function(){ws(m)})});return}}else if(l===3&&m.stateNode.hydrate){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Kr(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var m=go(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(m!==null)return l=te(m),l!==null&&oo(l),o.blockedOn=m,!1;l.shift()}return!0}function lo(o,l,m){Kr(o)&&m.delete(l)}function Xi(){for(ao=!1;0<cn.length;){var o=cn[0];if(o.blockedOn!==null){o=te(o.blockedOn),o!==null&&Mi(o);break}for(var l=o.targetContainers;0<l.length;){var m=go(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(m!==null){o.blockedOn=m;break}l.shift()}o.blockedOn===null&&cn.shift()}Fr!==null&&Kr(Fr)&&(Fr=null),er!==null&&Kr(er)&&(er=null),rn!==null&&Kr(rn)&&(rn=null),Un.forEach(lo),Pn.forEach(lo)}function Ai(o,l){o.blockedOn===l&&(o.blockedOn=null,ao||(ao=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Xi)))}function ya(o){function l(j){return Ai(j,o)}if(0<cn.length){Ai(cn[0],o);for(var m=1;m<cn.length;m++){var x=cn[m];x.blockedOn===o&&(x.blockedOn=null)}}for(Fr!==null&&Ai(Fr,o),er!==null&&Ai(er,o),rn!==null&&Ai(rn,o),Un.forEach(l),Pn.forEach(l),m=0;m<ti.length;m++)x=ti[m],x.blockedOn===o&&(x.blockedOn=null);for(;0<ti.length&&(m=ti[0],m.blockedOn===null);)co(m),m.blockedOn===null&&ti.shift()}function nn(o,l){var m={};return m[o.toLowerCase()]=l.toLowerCase(),m["Webkit"+o]="webkit"+l,m["Moz"+o]="moz"+l,m}var ln={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionend:nn("Transition","TransitionEnd")},ks={},qo={};p&&(qo=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function ni(o){if(ks[o])return ks[o];if(!ln[o])return o;var l=ln[o],m;for(m in l)if(l.hasOwnProperty(m)&&m in qo)return ks[o]=l[m];return o}var uo=ni("animationend"),On=ni("animationiteration"),fo=ni("animationstart"),Ho=ni("transitionend"),ho=new Map,mi=new Map,po=["abort","abort",uo,"animationEnd",On,"animationIteration",fo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ho,"transitionEnd","waiting","waiting"];function ji(o,l){for(var m=0;m<o.length;m+=2){var x=o[m],j=o[m+1];j="on"+(j[0].toUpperCase()+j.slice(1)),mi.set(x,l),ho.set(x,j),a(j,[x])}}var xs=n.unstable_now;xs();var zt=8;function Li(o){if((1&o)!==0)return zt=15,1;if((2&o)!==0)return zt=14,2;if((4&o)!==0)return zt=13,4;var l=24&o;return l!==0?(zt=12,l):(o&32)!==0?(zt=11,32):(l=192&o,l!==0?(zt=10,l):(o&256)!==0?(zt=9,256):(l=3584&o,l!==0?(zt=8,l):(o&4096)!==0?(zt=7,4096):(l=4186112&o,l!==0?(zt=6,l):(l=62914560&o,l!==0?(zt=5,l):o&67108864?(zt=4,67108864):(o&134217728)!==0?(zt=3,134217728):(l=805306368&o,l!==0?(zt=2,l):(1073741824&o)!==0?(zt=1,1073741824):(zt=8,o))))))}function tc(o){switch(o){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Qi(o){switch(o){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(t(358,o))}}function Es(o,l){var m=o.pendingLanes;if(m===0)return zt=0;var x=0,j=0,W=o.expiredLanes,X=o.suspendedLanes,ne=o.pingedLanes;if(W!==0)x=W,j=zt=15;else if(W=m&134217727,W!==0){var pe=W&~X;pe!==0?(x=Li(pe),j=zt):(ne&=W,ne!==0&&(x=Li(ne),j=zt))}else W=m&~X,W!==0?(x=Li(W),j=zt):ne!==0&&(x=Li(ne),j=zt);if(x===0)return 0;if(x=31-qn(x),x=m&((0>x?0:1<<x)<<1)-1,l!==0&&l!==x&&(l&X)===0){if(Li(l),j<=zt)return l;zt=j}if(l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)m=31-qn(l),j=1<<m,x|=o[m],l&=~j;return x}function Vo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Dn(o,l){switch(o){case 15:return 1;case 14:return 2;case 12:return o=ii(24&~l),o===0?Dn(10,l):o;case 10:return o=ii(192&~l),o===0?Dn(8,l):o;case 8:return o=ii(3584&~l),o===0&&(o=ii(4186112&~l),o===0&&(o=512)),o;case 2:return l=ii(805306368&~l),l===0&&(l=268435456),l}throw Error(t(358,o))}function ii(o){return o&-o}function Ts(o){for(var l=[],m=0;31>m;m++)l.push(o);return l}function Rs(o,l,m){o.pendingLanes|=l;var x=l-1;o.suspendedLanes&=x,o.pingedLanes&=x,o=o.eventTimes,l=31-qn(l),o[l]=m}var qn=Math.clz32?Math.clz32:Zi,wa=Math.log,ba=Math.LN2;function Zi(o){return o===0?32:31-(wa(o)/ba|0)|0}var wn=n.unstable_UserBlockingPriority,zo=n.unstable_runWithPriority,mo=!0;function bn(o,l,m,x){Oi||hi();var j=un,W=Oi;Oi=!0;try{fi(j,o,l,m,x)}finally{(Oi=W)||vs()}}function Wo(o,l,m,x){zo(wn,un.bind(null,o,l,m,x))}function un(o,l,m,x){if(mo){var j;if((j=(l&4)===0)&&0<cn.length&&-1<bs.indexOf(o))o=Ss(null,o,l,m,x),cn.push(o);else{var W=go(o,l,m,x);if(W===null)j&&ri(o,x);else{if(j){if(-1<bs.indexOf(o)){o=Ss(W,o,l,m,x),cn.push(o);return}if(Cs(W,o,l,m,x))return;ri(o,x)}ac(o,l,x,null,m)}}}}function go(o,l,m,x){var j=Ri(x);if(j=H(j),j!==null){var W=tn(j);if(W===null)j=null;else{var X=W.tag;if(X===13){if(j=Zt(W),j!==null)return j;j=null}else if(X===3){if(W.stateNode.hydrate)return W.tag===3?W.stateNode.containerInfo:null;j=null}else W!==j&&(j=null)}}return ac(o,l,x,j,m),null}var si=null,Mn=null,g=null;function b(){if(g)return g;var o,l=Mn,m=l.length,x,j="value"in si?si.value:si.textContent,W=j.length;for(o=0;o<m&&l[o]===j[o];o++);var X=m-o;for(x=1;x<=X&&l[m-x]===j[W-x];x++);return g=j.slice(o,1<x?1-x:void 0)}function D(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function L(){return!0}function z(){return!1}function V(o){function l(m,x,j,W,X){this._reactName=m,this._targetInst=j,this.type=x,this.nativeEvent=W,this.target=X,this.currentTarget=null;for(var ne in o)o.hasOwnProperty(ne)&&(m=o[ne],this[ne]=m?m(W):W[ne]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?L:z,this.isPropagationStopped=z,this}return e(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=L)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=L)},persist:function(){},isPersistent:L}),l}var G={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ue=V(G),ae=e({},G,{view:0,detail:0}),ge=V(ae),Te,Oe,be,Ie=e({},ae,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==be&&(be&&o.type==="mousemove"?(Te=o.screenX-be.screenX,Oe=o.screenY-be.screenY):Oe=Te=0,be=o),Te)},movementY:function(o){return"movementY"in o?o.movementY:Oe}}),vt=V(Ie),Dt=e({},Ie,{dataTransfer:0}),wt=V(Dt),$=e({},ae,{relatedTarget:0}),Y=V($),P=e({},G,{animationName:0,elapsedTime:0,pseudoElement:0}),B=V(P),J=e({},G,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ie=V(J),se=e({},G,{data:0}),Se=V(se),De={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},We={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ge(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Ke[o])?!!l[o]:!1}function tt(){return Ge}var mt=e({},ae,{key:function(o){if(o.key){var l=De[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=D(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?We[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tt,charCode:function(o){return o.type==="keypress"?D(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?D(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),At=V(mt),Ft=e({},Ie,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=V(Ft),Cr=e({},ae,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tt}),Wt=V(Cr),dr=e({},G,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pr=V(dr),Sn=e({},Ie,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=V(Sn),Br=[9,13,27,32],ir=p&&"CompositionEvent"in window,dn=null;p&&"documentMode"in document&&(dn=document.documentMode);var Ps=p&&"TextEvent"in window&&!dn,Os=p&&(!ir||dn&&8<dn&&11>=dn),Ni=" ",fn=!1;function Cn(o,l){switch(o){case"keyup":return Br.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var gi=!1;function es(o,l){switch(o){case"compositionend":return An(l);case"keypress":return l.which!==32?null:(fn=!0,Ni);case"textInput":return o=l.data,o===Ni&&fn?null:o;default:return null}}function Sa(o,l){if(gi)return o==="compositionend"||!ir&&Cn(o,l)?(o=b(),g=Mn=si=null,gi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Os&&l.locale!=="ko"?null:l.data;default:return null}}var Yo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Yo[o.type]:l==="textarea"}function Kc(o,l,m,x){ro(x),l=Jc(l,"onChange"),0<l.length&&(m=new ue("onChange","change",null,m,x),o.push({event:m,listeners:l}))}var ts=null,Ds=null;function rc(o){Wd(o,0)}function Ms(o){var l=xe(o);if(cr(l))return o}function nc(o,l){if(o==="change")return l}var ic=!1;if(p){var re;if(p){var he="oninput"in document;if(!he){var Ce=document.createElement("div");Ce.setAttribute("oninput","return;"),he=typeof Ce.oninput=="function"}re=he}else re=!1;ic=re&&(!document.documentMode||9<document.documentMode)}function Ee(){ts&&(ts.detachEvent("onpropertychange",Me),Ds=ts=null)}function Me(o){if(o.propertyName==="value"&&Ms(Ds)){var l=[];if(Kc(l,Ds,o,Ri(o)),o=rc,Oi)o(l);else{Oi=!0;try{di(o,l)}finally{Oi=!1,vs()}}}}function ze(o,l,m){o==="focusin"?(Ee(),ts=l,Ds=m,ts.attachEvent("onpropertychange",Me)):o==="focusout"&&Ee()}function et(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ms(Ds)}function ot(o,l){if(o==="click")return Ms(l)}function Ze(o,l){if(o==="input"||o==="change")return Ms(l)}function Nt(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var lt=typeof Object.is=="function"?Object.is:Nt,bt=Object.prototype.hasOwnProperty;function xt(o,l){if(lt(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var m=Object.keys(o),x=Object.keys(l);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++)if(!bt.call(l,m[x])||!lt(o[m[x]],l[m[x]]))return!1;return!0}function dt(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sr(o,l){var m=dt(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=l&&x>=l)return{node:m,offset:l-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=dt(m)}}function hn(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?hn(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Gr(){for(var o=window,l=xr();l instanceof o.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)o=l.contentWindow;else break;l=xr(o.document)}return l}function jn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var Ii=p&&"documentMode"in document&&11>=document.documentMode,vi=null,Jr=null,sc=null,Gc=!1;function Hd(o,l,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Gc||vi==null||vi!==xr(x)||(x=vi,"selectionStart"in x&&jn(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),sc&&xt(sc,x)||(sc=x,x=Jc(Jr,"onSelect"),0<x.length&&(l=new ue("onSelect","select",null,l,m),o.push({event:l,listeners:x}),l.target=vi)))}ji("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ji("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ji(po,2);for(var Vd="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vl=0;Vl<Vd.length;Vl++)mi.set(Vd[Vl],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function zd(o,l,m){var x=o.type||"unknown-event";o.currentTarget=m,_a(x,l,void 0,o),o.currentTarget=null}function Wd(o,l){l=(l&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],j=x.event;x=x.listeners;e:{var W=void 0;if(l)for(var X=x.length-1;0<=X;X--){var ne=x[X],pe=ne.instance,Pe=ne.currentTarget;if(ne=ne.listener,pe!==W&&j.isPropagationStopped())break e;zd(j,ne,Pe),W=pe}else for(X=0;X<x.length;X++){if(ne=x[X],pe=ne.instance,Pe=ne.currentTarget,ne=ne.listener,pe!==W&&j.isPropagationStopped())break e;zd(j,ne,Pe),W=pe}}}if(Zn)throw o=pi,Zn=!1,pi=null,o}function kr(o,l){var m=Mt(l),x=o+"__bubble";m.has(x)||(Kd(l,o,2,!1),m.add(x))}var Yd="_reactListening"+Math.random().toString(36).slice(2);function _o(o){o[Yd]||(o[Yd]=!0,s.forEach(function(l){Pp.has(l)||zl(l,!1,o,null),zl(l,!0,o,null)}))}function zl(o,l,m,x){var j=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,W=m;o==="selectionchange"&&m.nodeType!==9&&(W=m.ownerDocument);var X=Mt(W),ne=o+"__"+(l?"capture":"bubble");X.has(ne)||(l&&(j|=4),Kd(W,o,j,l),X.add(ne))}function Kd(o,l,m,x){var j=mi.get(l);switch(j===void 0?2:j){case 0:j=bn;break;case 1:j=Wo;break;default:j=un}m=j.bind(null,l,m,o),j=void 0,!Vt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(j=!0),x?j!==void 0?o.addEventListener(l,m,{capture:!0,passive:j}):o.addEventListener(l,m,!0):j!==void 0?o.addEventListener(l,m,{passive:j}):o.addEventListener(l,m,!1)}function ac(o,l,m,x,j){var W=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var X=x.tag;if(X===3||X===4){var ne=x.stateNode.containerInfo;if(ne===j||ne.nodeType===8&&ne.parentNode===j)break;if(X===4)for(X=x.return;X!==null;){var pe=X.tag;if((pe===3||pe===4)&&(pe=X.stateNode.containerInfo,pe===j||pe.nodeType===8&&pe.parentNode===j))return;X=X.return}for(;ne!==null;){if(X=H(ne),X===null)return;if(pe=X.tag,pe===5||pe===6){x=W=X;continue e}ne=ne.parentNode}}x=x.return}no(function(){var Pe=W,rt=Ri(m),Rt=[];e:{var Be=ho.get(o);if(Be!==void 0){var ft=ue,Tt=o;switch(o){case"keypress":if(D(m)===0)break e;case"keydown":case"keyup":ft=At;break;case"focusin":Tt="focus",ft=Y;break;case"focusout":Tt="blur",ft=Y;break;case"beforeblur":case"afterblur":ft=Y;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=vt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Wt;break;case uo:case On:case fo:ft=B;break;case Ho:ft=Pr;break;case"scroll":ft=ge;break;case"wheel":ft=_t;break;case"copy":case"cut":case"paste":ft=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=ur}var St=(l&4)!==0,we=!St&&o==="scroll",me=St?Be!==null?Be+"Capture":null:Be;St=[];for(var _e=Pe,Le;_e!==null;){Le=_e;var Ne=Le.stateNode;if(Le.tag===5&&Ne!==null&&(Le=Ne,me!==null&&(Ne=_s(_e,me),Ne!=null&&St.push(cc(_e,Ne,Le)))),we)break;_e=_e.return}0<St.length&&(Be=new ft(Be,Tt,null,m,rt),Rt.push({event:Be,listeners:St}))}}if((l&7)===0){e:{if(Be=o==="mouseover"||o==="pointerover",ft=o==="mouseout"||o==="pointerout",Be&&(l&16)===0&&(Tt=m.relatedTarget||m.fromElement)&&(H(Tt)||Tt[E]))break e;if((ft||Be)&&(Be=rt.window===rt?rt:(Be=rt.ownerDocument)?Be.defaultView||Be.parentWindow:window,ft?(Tt=m.relatedTarget||m.toElement,ft=Pe,Tt=Tt?H(Tt):null,Tt!==null&&(we=tn(Tt),Tt!==we||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(ft=null,Tt=Pe),ft!==Tt)){if(St=vt,Ne="onMouseLeave",me="onMouseEnter",_e="mouse",(o==="pointerout"||o==="pointerover")&&(St=ur,Ne="onPointerLeave",me="onPointerEnter",_e="pointer"),we=ft==null?Be:xe(ft),Le=Tt==null?Be:xe(Tt),Be=new St(Ne,_e+"leave",ft,m,rt),Be.target=we,Be.relatedTarget=Le,Ne=null,H(rt)===Pe&&(St=new St(me,_e+"enter",Tt,m,rt),St.target=Le,St.relatedTarget=we,Ne=St),we=Ne,ft&&Tt)t:{for(St=ft,me=Tt,_e=0,Le=St;Le;Le=Ca(Le))_e++;for(Le=0,Ne=me;Ne;Ne=Ca(Ne))Le++;for(;0<_e-Le;)St=Ca(St),_e--;for(;0<Le-_e;)me=Ca(me),Le--;for(;_e--;){if(St===me||me!==null&&St===me.alternate)break t;St=Ca(St),me=Ca(me)}St=null}else St=null;ft!==null&&Wl(Rt,Be,ft,St,!1),Tt!==null&&we!==null&&Wl(Rt,we,Tt,St,!0)}}e:{if(Be=Pe?xe(Pe):window,ft=Be.nodeName&&Be.nodeName.toLowerCase(),ft==="select"||ft==="input"&&Be.type==="file")var Pt=nc;else if(vo(Be))if(ic)Pt=Ze;else{Pt=et;var ut=ze}else(ft=Be.nodeName)&&ft.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(Pt=ot);if(Pt&&(Pt=Pt(o,Pe))){Kc(Rt,Pt,m,rt);break e}ut&&ut(o,Be,Pe),o==="focusout"&&(ut=Be._wrapperState)&&ut.controlled&&Be.type==="number"&&Ct(Be,"number",Be.value)}switch(ut=Pe?xe(Pe):window,o){case"focusin":(vo(ut)||ut.contentEditable==="true")&&(vi=ut,Jr=Pe,sc=null);break;case"focusout":sc=Jr=vi=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Hd(Rt,m,rt);break;case"selectionchange":if(Ii)break;case"keydown":case"keyup":Hd(Rt,m,rt)}var Ot;if(ir)e:{switch(o){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else gi?Cn(o,m)&&(Ut="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Ut="onCompositionStart");Ut&&(Os&&m.locale!=="ko"&&(gi||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&gi&&(Ot=b()):(si=rt,Mn="value"in si?si.value:si.textContent,gi=!0)),ut=Jc(Pe,Ut),0<ut.length&&(Ut=new Se(Ut,o,null,m,rt),Rt.push({event:Ut,listeners:ut}),Ot?Ut.data=Ot:(Ot=An(m),Ot!==null&&(Ut.data=Ot)))),(Ot=Ps?es(o,m):Sa(o,m))&&(Pe=Jc(Pe,"onBeforeInput"),0<Pe.length&&(rt=new Se("onBeforeInput","beforeinput",null,m,rt),Rt.push({event:rt,listeners:Pe}),rt.data=Ot))}Wd(Rt,l)})}function cc(o,l,m){return{instance:o,listener:l,currentTarget:m}}function Jc(o,l){for(var m=l+"Capture",x=[];o!==null;){var j=o,W=j.stateNode;j.tag===5&&W!==null&&(j=W,W=_s(o,m),W!=null&&x.unshift(cc(o,W,j)),W=_s(o,l),W!=null&&x.push(cc(o,W,j))),o=o.return}return x}function Ca(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Wl(o,l,m,x,j){for(var W=l._reactName,X=[];m!==null&&m!==x;){var ne=m,pe=ne.alternate,Pe=ne.stateNode;if(pe!==null&&pe===x)break;ne.tag===5&&Pe!==null&&(ne=Pe,j?(pe=_s(m,W),pe!=null&&X.unshift(cc(m,pe,ne))):j||(pe=_s(m,W),pe!=null&&X.push(cc(m,pe,ne)))),m=m.return}X.length!==0&&o.push({event:l,listeners:X})}function Xc(){}var Yl=null,Kl=null;function Fi(o,l){switch(o){case"button":case"input":case"select":case"textarea":return!!l.autoFocus}return!1}function ka(o,l){return o==="textarea"||o==="option"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Or=typeof setTimeout=="function"?setTimeout:void 0,Op=typeof clearTimeout=="function"?clearTimeout:void 0;function Gl(o){o.nodeType===1?o.textContent="":o.nodeType===9&&(o=o.body,o!=null&&(o.textContent=""))}function xa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break}return o}function Gd(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return o;l--}else m==="/$"&&l++}o=o.previousSibling}return null}var Jl=0;function Dp(o){return{$$typeof:ce,toString:o,valueOf:o}}var Qc=Math.random().toString(36).slice(2),yo="__reactFiber$"+Qc,Ko="__reactProps$"+Qc,E="__reactContainer$"+Qc,O="__reactEvents$"+Qc;function H(o){var l=o[yo];if(l)return l;for(var m=o.parentNode;m;){if(l=m[E]||m[yo]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(o=Gd(o);o!==null;){if(m=o[yo])return m;o=Gd(o)}return l}o=m,m=o.parentNode}return null}function te(o){return o=o[yo]||o[E],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function xe(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Ye(o){return o[Ko]||null}function Mt(o){var l=o[O];return l===void 0&&(l=o[O]=new Set),l}var $t=[],fr=-1;function oi(o){return{current:o}}function vr(o){0>fr||(o.current=$t[fr],$t[fr]=null,fr--)}function $r(o,l){fr++,$t[fr]=o.current,o.current=l}var Ea={},Hn=oi(Ea),_i=oi(!1),lc=Ea;function Zc(o,l){var m=o.type.contextTypes;if(!m)return Ea;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var j={},W;for(W in m)j[W]=l[W];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=j),j}function yi(o){return o=o.childContextTypes,o!=null}function Jd(){vr(_i),vr(Hn)}function Ly(o,l,m){if(Hn.current!==Ea)throw Error(t(168));$r(Hn,l),$r(_i,m)}function Ny(o,l,m){var x=o.stateNode;if(o=l.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var j in x)if(!(j in o))throw Error(t(108,kn(l)||"Unknown",j));return e({},m,x)}function Xd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ea,lc=Hn.current,$r(Hn,o),$r(_i,_i.current),!0}function Iy(o,l,m){var x=o.stateNode;if(!x)throw Error(t(169));m?(o=Ny(o,l,lc),x.__reactInternalMemoizedMergedChildContext=o,vr(_i),vr(Hn),$r(Hn,o)):vr(_i),$r(_i,m)}var Mp=null,uc=null,FT=n.unstable_runWithPriority,Ap=n.unstable_scheduleCallback,jp=n.unstable_cancelCallback,BT=n.unstable_shouldYield,Fy=n.unstable_requestPaint,Lp=n.unstable_now,$T=n.unstable_getCurrentPriorityLevel,Qd=n.unstable_ImmediatePriority,By=n.unstable_UserBlockingPriority,$y=n.unstable_NormalPriority,Uy=n.unstable_LowPriority,qy=n.unstable_IdlePriority,Np={},UT=Fy!==void 0?Fy:function(){},Go=null,Zd=null,Ip=!1,Hy=Lp(),Vn=1e4>Hy?Lp:function(){return Lp()-Hy};function el(){switch($T()){case Qd:return 99;case By:return 98;case $y:return 97;case Uy:return 96;case qy:return 95;default:throw Error(t(332))}}function Vy(o){switch(o){case 99:return Qd;case 98:return By;case 97:return $y;case 96:return Uy;case 95:return qy;default:throw Error(t(332))}}function dc(o,l){return o=Vy(o),FT(o,l)}function Xl(o,l,m){return o=Vy(o),Ap(o,l,m)}function wo(){if(Zd!==null){var o=Zd;Zd=null,jp(o)}zy()}function zy(){if(!Ip&&Go!==null){Ip=!0;var o=0;try{var l=Go;dc(99,function(){for(;o<l.length;o++){var m=l[o];do m=m(!0);while(m!==null)}}),Go=null}catch(m){throw Go!==null&&(Go=Go.slice(o+1)),Ap(Qd,wo),m}finally{Ip=!1}}}var qT=k.ReactCurrentBatchConfig;function As(o,l){if(o&&o.defaultProps){l=e({},l),o=o.defaultProps;for(var m in o)l[m]===void 0&&(l[m]=o[m]);return l}return l}var ef=oi(null),tf=null,tl=null,rf=null;function Fp(){rf=tl=tf=null}function Bp(o){var l=ef.current;vr(ef),o.type._context._currentValue=l}function Wy(o,l){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)===l){if(m===null||(m.childLanes&l)===l)break;m.childLanes|=l}else o.childLanes|=l,m!==null&&(m.childLanes|=l);o=o.return}}function rl(o,l){tf=o,rf=tl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(js=!0),o.firstContext=null)}function rs(o,l){if(rf!==o&&l!==!1&&l!==0)if((typeof l!="number"||l===1073741823)&&(rf=o,l=1073741823),l={context:o,observedBits:l,next:null},tl===null){if(tf===null)throw Error(t(308));tl=l,tf.dependencies={lanes:0,firstContext:l,responders:null}}else tl=tl.next=l;return o._currentValue}var Ta=!1;function $p(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Yy(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ra(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Pa(o,l){if(o=o.updateQueue,o!==null){o=o.shared;var m=o.pending;m===null?l.next=l:(l.next=m.next,m.next=l),o.pending=l}}function Ky(o,l){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var j=null,W=null;if(m=m.firstBaseUpdate,m!==null){do{var X={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};W===null?j=W=X:W=W.next=X,m=m.next}while(m!==null);W===null?j=W=l:W=W.next=l}else j=W=l;m={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:W,shared:x.shared,effects:x.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=l:o.next=l,m.lastBaseUpdate=l}function Ql(o,l,m,x){var j=o.updateQueue;Ta=!1;var W=j.firstBaseUpdate,X=j.lastBaseUpdate,ne=j.shared.pending;if(ne!==null){j.shared.pending=null;var pe=ne,Pe=pe.next;pe.next=null,X===null?W=Pe:X.next=Pe,X=pe;var rt=o.alternate;if(rt!==null){rt=rt.updateQueue;var Rt=rt.lastBaseUpdate;Rt!==X&&(Rt===null?rt.firstBaseUpdate=Pe:Rt.next=Pe,rt.lastBaseUpdate=pe)}}if(W!==null){Rt=j.baseState,X=0,rt=Pe=pe=null;do{ne=W.lane;var Be=W.eventTime;if((x&ne)===ne){rt!==null&&(rt=rt.next={eventTime:Be,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ft=o,Tt=W;switch(ne=l,Be=m,Tt.tag){case 1:if(ft=Tt.payload,typeof ft=="function"){Rt=ft.call(Be,Rt,ne);break e}Rt=ft;break e;case 3:ft.flags=ft.flags&-4097|64;case 0:if(ft=Tt.payload,ne=typeof ft=="function"?ft.call(Be,Rt,ne):ft,ne==null)break e;Rt=e({},Rt,ne);break e;case 2:Ta=!0}}W.callback!==null&&(o.flags|=32,ne=j.effects,ne===null?j.effects=[W]:ne.push(W))}else Be={eventTime:Be,lane:ne,tag:W.tag,payload:W.payload,callback:W.callback,next:null},rt===null?(Pe=rt=Be,pe=Rt):rt=rt.next=Be,X|=ne;if(W=W.next,W===null){if(ne=j.shared.pending,ne===null)break;W=ne.next,ne.next=null,j.lastBaseUpdate=ne,j.shared.pending=null}}while(!0);rt===null&&(pe=Rt),j.baseState=pe,j.firstBaseUpdate=Pe,j.lastBaseUpdate=rt,uu|=X,o.lanes=X,o.memoizedState=Rt}}function Gy(o,l,m){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],j=x.callback;if(j!==null){if(x.callback=null,x=m,typeof j!="function")throw Error(t(191,j));j.call(x)}}}var Jy=new r.Component().refs;function nf(o,l,m,x){l=o.memoizedState,m=m(x,l),m=m==null?l:e({},l,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var sf={isMounted:function(o){return(o=o._reactInternals)?tn(o)===o:!1},enqueueSetState:function(o,l,m){o=o._reactInternals;var x=Bi(),j=Ma(o),W=Ra(x,j);W.payload=l,m!=null&&(W.callback=m),Pa(o,W),Aa(o,j,x)},enqueueReplaceState:function(o,l,m){o=o._reactInternals;var x=Bi(),j=Ma(o),W=Ra(x,j);W.tag=1,W.payload=l,m!=null&&(W.callback=m),Pa(o,W),Aa(o,j,x)},enqueueForceUpdate:function(o,l){o=o._reactInternals;var m=Bi(),x=Ma(o),j=Ra(m,x);j.tag=2,l!=null&&(j.callback=l),Pa(o,j),Aa(o,x,m)}};function Xy(o,l,m,x,j,W,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,W,X):l.prototype&&l.prototype.isPureReactComponent?!xt(m,x)||!xt(j,W):!0}function Qy(o,l,m){var x=!1,j=Ea,W=l.contextType;return typeof W=="object"&&W!==null?W=rs(W):(j=yi(l)?lc:Hn.current,x=l.contextTypes,W=(x=x!=null)?Zc(o,j):Ea),l=new l(m,W),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sf,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=W),l}function Zy(o,l,m,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,x),l.state!==o&&sf.enqueueReplaceState(l,l.state,null)}function Up(o,l,m,x){var j=o.stateNode;j.props=m,j.state=o.memoizedState,j.refs=Jy,$p(o);var W=l.contextType;typeof W=="object"&&W!==null?j.context=rs(W):(W=yi(l)?lc:Hn.current,j.context=Zc(o,W)),Ql(o,m,j,x),j.state=o.memoizedState,W=l.getDerivedStateFromProps,typeof W=="function"&&(nf(o,l,W,m),j.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(l=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),l!==j.state&&sf.enqueueReplaceState(j,j.state,null),Ql(o,m,j,x),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4)}var of=Array.isArray;function Zl(o,l,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var x=m.stateNode}if(!x)throw Error(t(147,o));var j=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(W){var X=x.refs;X===Jy&&(X=x.refs={}),W===null?delete X[j]:X[j]=W},l._stringRef=j,l)}if(typeof o!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,o))}return o}function af(o,l){if(o.type!=="textarea")throw Error(t(31,Object.prototype.toString.call(l)==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":l))}function ew(o){function l(we,me){if(o){var _e=we.lastEffect;_e!==null?(_e.nextEffect=me,we.lastEffect=me):we.firstEffect=we.lastEffect=me,me.nextEffect=null,me.flags=8}}function m(we,me){if(!o)return null;for(;me!==null;)l(we,me),me=me.sibling;return null}function x(we,me){for(we=new Map;me!==null;)me.key!==null?we.set(me.key,me):we.set(me.index,me),me=me.sibling;return we}function j(we,me){return we=Na(we,me),we.index=0,we.sibling=null,we}function W(we,me,_e){return we.index=_e,o?(_e=we.alternate,_e!==null?(_e=_e.index,_e<me?(we.flags=2,me):_e):(we.flags=2,me)):me}function X(we){return o&&we.alternate===null&&(we.flags=2),we}function ne(we,me,_e,Le){return me===null||me.tag!==6?(me=Cm(_e,we.mode,Le),me.return=we,me):(me=j(me,_e),me.return=we,me)}function pe(we,me,_e,Le){return me!==null&&me.elementType===_e.type?(Le=j(me,_e.props),Le.ref=Zl(we,me,_e),Le.return=we,Le):(Le=xf(_e.type,_e.key,_e.props,null,we.mode,Le),Le.ref=Zl(we,me,_e),Le.return=we,Le)}function Pe(we,me,_e,Le){return me===null||me.tag!==4||me.stateNode.containerInfo!==_e.containerInfo||me.stateNode.implementation!==_e.implementation?(me=km(_e,we.mode,Le),me.return=we,me):(me=j(me,_e.children||[]),me.return=we,me)}function rt(we,me,_e,Le,Ne){return me===null||me.tag!==7?(me=ul(_e,we.mode,Le,Ne),me.return=we,me):(me=j(me,_e),me.return=we,me)}function Rt(we,me,_e){if(typeof me=="string"||typeof me=="number")return me=Cm(""+me,we.mode,_e),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case N:return _e=xf(me.type,me.key,me.props,null,we.mode,_e),_e.ref=Zl(we,null,me),_e.return=we,_e;case y:return me=km(me,we.mode,_e),me.return=we,me}if(of(me)||qe(me))return me=ul(me,we.mode,_e,null),me.return=we,me;af(we,me)}return null}function Be(we,me,_e,Le){var Ne=me!==null?me.key:null;if(typeof _e=="string"||typeof _e=="number")return Ne!==null?null:ne(we,me,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case N:return _e.key===Ne?_e.type===F?rt(we,me,_e.props.children,Le,Ne):pe(we,me,_e,Le):null;case y:return _e.key===Ne?Pe(we,me,_e,Le):null}if(of(_e)||qe(_e))return Ne!==null?null:rt(we,me,_e,Le,null);af(we,_e)}return null}function ft(we,me,_e,Le,Ne){if(typeof Le=="string"||typeof Le=="number")return we=we.get(_e)||null,ne(me,we,""+Le,Ne);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case N:return we=we.get(Le.key===null?_e:Le.key)||null,Le.type===F?rt(me,we,Le.props.children,Ne,Le.key):pe(me,we,Le,Ne);case y:return we=we.get(Le.key===null?_e:Le.key)||null,Pe(me,we,Le,Ne)}if(of(Le)||qe(Le))return we=we.get(_e)||null,rt(me,we,Le,Ne,null);af(me,Le)}return null}function Tt(we,me,_e,Le){for(var Ne=null,Pt=null,ut=me,Ot=me=0,Ut=null;ut!==null&&Ot<_e.length;Ot++){ut.index>Ot?(Ut=ut,ut=null):Ut=ut.sibling;var jt=Be(we,ut,_e[Ot],Le);if(jt===null){ut===null&&(ut=Ut);break}o&&ut&&jt.alternate===null&&l(we,ut),me=W(jt,me,Ot),Pt===null?Ne=jt:Pt.sibling=jt,Pt=jt,ut=Ut}if(Ot===_e.length)return m(we,ut),Ne;if(ut===null){for(;Ot<_e.length;Ot++)ut=Rt(we,_e[Ot],Le),ut!==null&&(me=W(ut,me,Ot),Pt===null?Ne=ut:Pt.sibling=ut,Pt=ut);return Ne}for(ut=x(we,ut);Ot<_e.length;Ot++)Ut=ft(ut,we,Ot,_e[Ot],Le),Ut!==null&&(o&&Ut.alternate!==null&&ut.delete(Ut.key===null?Ot:Ut.key),me=W(Ut,me,Ot),Pt===null?Ne=Ut:Pt.sibling=Ut,Pt=Ut);return o&&ut.forEach(function(Ia){return l(we,Ia)}),Ne}function St(we,me,_e,Le){var Ne=qe(_e);if(typeof Ne!="function")throw Error(t(150));if(_e=Ne.call(_e),_e==null)throw Error(t(151));for(var Pt=Ne=null,ut=me,Ot=me=0,Ut=null,jt=_e.next();ut!==null&&!jt.done;Ot++,jt=_e.next()){ut.index>Ot?(Ut=ut,ut=null):Ut=ut.sibling;var Ia=Be(we,ut,jt.value,Le);if(Ia===null){ut===null&&(ut=Ut);break}o&&ut&&Ia.alternate===null&&l(we,ut),me=W(Ia,me,Ot),Pt===null?Ne=Ia:Pt.sibling=Ia,Pt=Ia,ut=Ut}if(jt.done)return m(we,ut),Ne;if(ut===null){for(;!jt.done;Ot++,jt=_e.next())jt=Rt(we,jt.value,Le),jt!==null&&(me=W(jt,me,Ot),Pt===null?Ne=jt:Pt.sibling=jt,Pt=jt);return Ne}for(ut=x(we,ut);!jt.done;Ot++,jt=_e.next())jt=ft(ut,we,Ot,jt.value,Le),jt!==null&&(o&&jt.alternate!==null&&ut.delete(jt.key===null?Ot:jt.key),me=W(jt,me,Ot),Pt===null?Ne=jt:Pt.sibling=jt,Pt=jt);return o&&ut.forEach(function(yR){return l(we,yR)}),Ne}return function(we,me,_e,Le){var Ne=typeof _e=="object"&&_e!==null&&_e.type===F&&_e.key===null;Ne&&(_e=_e.props.children);var Pt=typeof _e=="object"&&_e!==null;if(Pt)switch(_e.$$typeof){case N:e:{for(Pt=_e.key,Ne=me;Ne!==null;){if(Ne.key===Pt){switch(Ne.tag){case 7:if(_e.type===F){m(we,Ne.sibling),me=j(Ne,_e.props.children),me.return=we,we=me;break e}break;default:if(Ne.elementType===_e.type){m(we,Ne.sibling),me=j(Ne,_e.props),me.ref=Zl(we,Ne,_e),me.return=we,we=me;break e}}m(we,Ne);break}else l(we,Ne);Ne=Ne.sibling}_e.type===F?(me=ul(_e.props.children,we.mode,Le,_e.key),me.return=we,we=me):(Le=xf(_e.type,_e.key,_e.props,null,we.mode,Le),Le.ref=Zl(we,me,_e),Le.return=we,we=Le)}return X(we);case y:e:{for(Ne=_e.key;me!==null;){if(me.key===Ne)if(me.tag===4&&me.stateNode.containerInfo===_e.containerInfo&&me.stateNode.implementation===_e.implementation){m(we,me.sibling),me=j(me,_e.children||[]),me.return=we,we=me;break e}else{m(we,me);break}else l(we,me);me=me.sibling}me=km(_e,we.mode,Le),me.return=we,we=me}return X(we)}if(typeof _e=="string"||typeof _e=="number")return _e=""+_e,me!==null&&me.tag===6?(m(we,me.sibling),me=j(me,_e),me.return=we,we=me):(m(we,me),me=Cm(_e,we.mode,Le),me.return=we,we=me),X(we);if(of(_e))return Tt(we,me,_e,Le);if(qe(_e))return St(we,me,_e,Le);if(Pt&&af(we,_e),typeof _e>"u"&&!Ne)switch(we.tag){case 1:case 22:case 0:case 11:case 15:throw Error(t(152,kn(we.type)||"Component"))}return m(we,me)}}var cf=ew(!0),tw=ew(!1),eu={},bo=oi(eu),tu=oi(eu),ru=oi(eu);function fc(o){if(o===eu)throw Error(t(174));return o}function qp(o,l){switch($r(ru,l),$r(tu,o),$r(bo,eu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Sr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Sr(l,o)}vr(bo),$r(bo,l)}function nl(){vr(bo),vr(tu),vr(ru)}function rw(o){fc(ru.current);var l=fc(bo.current),m=Sr(l,o.type);l!==m&&($r(tu,o),$r(bo,m))}function Hp(o){tu.current===o&&(vr(bo),vr(tu))}var Ur=oi(0);function lf(o){for(var l=o;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&64)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Jo=null,Oa=null,So=!1;function nw(o,l){var m=ss(5,null,null,0);m.elementType="DELETED",m.type="DELETED",m.stateNode=l,m.return=o,m.flags=8,o.lastEffect!==null?(o.lastEffect.nextEffect=m,o.lastEffect=m):o.firstEffect=o.lastEffect=m}function iw(o,l){switch(o.tag){case 5:var m=o.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,!0):!1;case 13:return!1;default:return!1}}function Vp(o){if(So){var l=Oa;if(l){var m=l;if(!iw(o,l)){if(l=xa(m.nextSibling),!l||!iw(o,l)){o.flags=o.flags&-1025|2,So=!1,Jo=o;return}nw(Jo,m)}Jo=o,Oa=xa(l.firstChild)}else o.flags=o.flags&-1025|2,So=!1,Jo=o}}function sw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Jo=o}function uf(o){if(o!==Jo)return!1;if(!So)return sw(o),So=!0,!1;var l=o.type;if(o.tag!==5||l!=="head"&&l!=="body"&&!ka(l,o.memoizedProps))for(l=Oa;l;)nw(o,l),l=xa(l.nextSibling);if(sw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(l===0){Oa=xa(o.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}o=o.nextSibling}Oa=null}}else Oa=Jo?xa(o.stateNode.nextSibling):null;return!0}function zp(){Oa=Jo=null,So=!1}var il=[];function Wp(){for(var o=0;o<il.length;o++)il[o]._workInProgressVersionPrimary=null;il.length=0}var nu=k.ReactCurrentDispatcher,ns=k.ReactCurrentBatchConfig,iu=0,Xr=null,zn=null,Ln=null,df=!1,su=!1;function wi(){throw Error(t(321))}function Yp(o,l){if(l===null)return!1;for(var m=0;m<l.length&&m<o.length;m++)if(!lt(o[m],l[m]))return!1;return!0}function Kp(o,l,m,x,j,W){if(iu=W,Xr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,nu.current=o===null||o.memoizedState===null?VT:zT,o=m(x,j),su){W=0;do{if(su=!1,!(25>W))throw Error(t(301));W+=1,Ln=zn=null,l.updateQueue=null,nu.current=WT,o=m(x,j)}while(su)}if(nu.current=mf,l=zn!==null&&zn.next!==null,iu=0,Ln=zn=Xr=null,df=!1,l)throw Error(t(300));return o}function hc(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Xr.memoizedState=Ln=o:Ln=Ln.next=o,Ln}function pc(){if(zn===null){var o=Xr.alternate;o=o!==null?o.memoizedState:null}else o=zn.next;var l=Ln===null?Xr.memoizedState:Ln.next;if(l!==null)Ln=l,zn=o;else{if(o===null)throw Error(t(310));zn=o,o={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Ln===null?Xr.memoizedState=Ln=o:Ln=Ln.next=o}return Ln}function Co(o,l){return typeof l=="function"?l(o):l}function ou(o){var l=pc(),m=l.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var x=zn,j=x.baseQueue,W=m.pending;if(W!==null){if(j!==null){var X=j.next;j.next=W.next,W.next=X}x.baseQueue=j=W,m.pending=null}if(j!==null){j=j.next,x=x.baseState;var ne=X=W=null,pe=j;do{var Pe=pe.lane;if((iu&Pe)===Pe)ne!==null&&(ne=ne.next={lane:0,action:pe.action,eagerReducer:pe.eagerReducer,eagerState:pe.eagerState,next:null}),x=pe.eagerReducer===o?pe.eagerState:o(x,pe.action);else{var rt={lane:Pe,action:pe.action,eagerReducer:pe.eagerReducer,eagerState:pe.eagerState,next:null};ne===null?(X=ne=rt,W=x):ne=ne.next=rt,Xr.lanes|=Pe,uu|=Pe}pe=pe.next}while(pe!==null&&pe!==j);ne===null?W=x:ne.next=X,lt(x,l.memoizedState)||(js=!0),l.memoizedState=x,l.baseState=W,l.baseQueue=ne,m.lastRenderedState=x}return[l.memoizedState,m.dispatch]}function au(o){var l=pc(),m=l.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var x=m.dispatch,j=m.pending,W=l.memoizedState;if(j!==null){m.pending=null;var X=j=j.next;do W=o(W,X.action),X=X.next;while(X!==j);lt(W,l.memoizedState)||(js=!0),l.memoizedState=W,l.baseQueue===null&&(l.baseState=W),m.lastRenderedState=W}return[W,x]}function ow(o,l,m){var x=l._getVersion;x=x(l._source);var j=l._workInProgressVersionPrimary;if(j!==null?o=j===x:(o=o.mutableReadLanes,(o=(iu&o)===o)&&(l._workInProgressVersionPrimary=x,il.push(l))),o)return m(l._source);throw il.push(l),Error(t(350))}function aw(o,l,m,x){var j=ai;if(j===null)throw Error(t(349));var W=l._getVersion,X=W(l._source),ne=nu.current,pe=ne.useState(function(){return ow(j,l,m)}),Pe=pe[1],rt=pe[0];pe=Ln;var Rt=o.memoizedState,Be=Rt.refs,ft=Be.getSnapshot,Tt=Rt.source;Rt=Rt.subscribe;var St=Xr;return o.memoizedState={refs:Be,source:l,subscribe:x},ne.useEffect(function(){Be.getSnapshot=m,Be.setSnapshot=Pe;var we=W(l._source);if(!lt(X,we)){we=m(l._source),lt(rt,we)||(Pe(we),we=Ma(St),j.mutableReadLanes|=we&j.pendingLanes),we=j.mutableReadLanes,j.entangledLanes|=we;for(var me=j.entanglements,_e=we;0<_e;){var Le=31-qn(_e),Ne=1<<Le;me[Le]|=we,_e&=~Ne}}},[m,l,x]),ne.useEffect(function(){return x(l._source,function(){var we=Be.getSnapshot,me=Be.setSnapshot;try{me(we(l._source));var _e=Ma(St);j.mutableReadLanes|=_e&j.pendingLanes}catch(Le){me(function(){throw Le})}})},[l,x]),lt(ft,m)&&lt(Tt,l)&&lt(Rt,x)||(o={pending:null,dispatch:null,lastRenderedReducer:Co,lastRenderedState:rt},o.dispatch=Pe=Qp.bind(null,Xr,o),pe.queue=o,pe.baseQueue=null,rt=ow(j,l,m),pe.memoizedState=pe.baseState=rt),rt}function cw(o,l,m){var x=pc();return aw(x,o,l,m)}function cu(o){var l=hc();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o=l.queue={pending:null,dispatch:null,lastRenderedReducer:Co,lastRenderedState:o},o=o.dispatch=Qp.bind(null,Xr,o),[l.memoizedState,o]}function ff(o,l,m,x){return o={tag:o,create:l,destroy:m,deps:x,next:null},l=Xr.updateQueue,l===null?(l={lastEffect:null},Xr.updateQueue=l,l.lastEffect=o.next=o):(m=l.lastEffect,m===null?l.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,l.lastEffect=o)),o}function lw(o){var l=hc();return o={current:o},l.memoizedState=o}function hf(){return pc().memoizedState}function Gp(o,l,m,x){var j=hc();Xr.flags|=o,j.memoizedState=ff(1|l,m,void 0,x===void 0?null:x)}function Jp(o,l,m,x){var j=pc();x=x===void 0?null:x;var W=void 0;if(zn!==null){var X=zn.memoizedState;if(W=X.destroy,x!==null&&Yp(x,X.deps)){ff(l,m,W,x);return}}Xr.flags|=o,j.memoizedState=ff(1|l,m,W,x)}function uw(o,l){return Gp(516,4,o,l)}function pf(o,l){return Jp(516,4,o,l)}function dw(o,l){return Jp(4,2,o,l)}function fw(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function hw(o,l,m){return m=m!=null?m.concat([o]):null,Jp(4,2,fw.bind(null,l,o),m)}function Xp(){}function pw(o,l){var m=pc();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&Yp(l,x[1])?x[0]:(m.memoizedState=[o,l],o)}function mw(o,l){var m=pc();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&Yp(l,x[1])?x[0]:(o=o(),m.memoizedState=[o,l],o)}function HT(o,l){var m=el();dc(98>m?98:m,function(){o(!0)}),dc(97<m?97:m,function(){var x=ns.transition;ns.transition=1;try{o(!1),l()}finally{ns.transition=x}})}function Qp(o,l,m){var x=Bi(),j=Ma(o),W={lane:j,action:m,eagerReducer:null,eagerState:null,next:null},X=l.pending;if(X===null?W.next=W:(W.next=X.next,X.next=W),l.pending=W,X=o.alternate,o===Xr||X!==null&&X===Xr)su=df=!0;else{if(o.lanes===0&&(X===null||X.lanes===0)&&(X=l.lastRenderedReducer,X!==null))try{var ne=l.lastRenderedState,pe=X(ne,m);if(W.eagerReducer=X,W.eagerState=pe,lt(pe,ne))return}catch{}finally{}Aa(o,j,x)}}var mf={readContext:rs,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useOpaqueIdentifier:wi,unstable_isNewReconciler:!1},VT={readContext:rs,useCallback:function(o,l){return hc().memoizedState=[o,l===void 0?null:l],o},useContext:rs,useEffect:uw,useImperativeHandle:function(o,l,m){return m=m!=null?m.concat([o]):null,Gp(4,2,fw.bind(null,l,o),m)},useLayoutEffect:function(o,l){return Gp(4,2,o,l)},useMemo:function(o,l){var m=hc();return l=l===void 0?null:l,o=o(),m.memoizedState=[o,l],o},useReducer:function(o,l,m){var x=hc();return l=m!==void 0?m(l):l,x.memoizedState=x.baseState=l,o=x.queue={pending:null,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},o=o.dispatch=Qp.bind(null,Xr,o),[x.memoizedState,o]},useRef:lw,useState:cu,useDebugValue:Xp,useDeferredValue:function(o){var l=cu(o),m=l[0],x=l[1];return uw(function(){var j=ns.transition;ns.transition=1;try{x(o)}finally{ns.transition=j}},[o]),m},useTransition:function(){var o=cu(!1),l=o[0];return o=HT.bind(null,o[1]),lw(o),[o,l]},useMutableSource:function(o,l,m){var x=hc();return x.memoizedState={refs:{getSnapshot:l,setSnapshot:null},source:o,subscribe:m},aw(x,o,l,m)},useOpaqueIdentifier:function(){if(So){var o=!1,l=Dp(function(){throw o||(o=!0,m("r:"+(Jl++).toString(36))),Error(t(355))}),m=cu(l)[1];return(Xr.mode&2)===0&&(Xr.flags|=516,ff(5,function(){m("r:"+(Jl++).toString(36))},void 0,null)),l}return l="r:"+(Jl++).toString(36),cu(l),l},unstable_isNewReconciler:!1},zT={readContext:rs,useCallback:pw,useContext:rs,useEffect:pf,useImperativeHandle:hw,useLayoutEffect:dw,useMemo:mw,useReducer:ou,useRef:hf,useState:function(){return ou(Co)},useDebugValue:Xp,useDeferredValue:function(o){var l=ou(Co),m=l[0],x=l[1];return pf(function(){var j=ns.transition;ns.transition=1;try{x(o)}finally{ns.transition=j}},[o]),m},useTransition:function(){var o=ou(Co)[0];return[hf().current,o]},useMutableSource:cw,useOpaqueIdentifier:function(){return ou(Co)[0]},unstable_isNewReconciler:!1},WT={readContext:rs,useCallback:pw,useContext:rs,useEffect:pf,useImperativeHandle:hw,useLayoutEffect:dw,useMemo:mw,useReducer:au,useRef:hf,useState:function(){return au(Co)},useDebugValue:Xp,useDeferredValue:function(o){var l=au(Co),m=l[0],x=l[1];return pf(function(){var j=ns.transition;ns.transition=1;try{x(o)}finally{ns.transition=j}},[o]),m},useTransition:function(){var o=au(Co)[0];return[hf().current,o]},useMutableSource:cw,useOpaqueIdentifier:function(){return au(Co)[0]},unstable_isNewReconciler:!1},YT=k.ReactCurrentOwner,js=!1;function bi(o,l,m,x){l.child=o===null?tw(l,null,m,x):cf(l,o.child,m,x)}function gw(o,l,m,x,j){m=m.render;var W=l.ref;return rl(l,j),x=Kp(o,l,m,x,W,j),o!==null&&!js?(l.updateQueue=o.updateQueue,l.flags&=-517,o.lanes&=~j,Xo(o,l,j)):(l.flags|=1,bi(o,l,x,j),l.child)}function vw(o,l,m,x,j,W){if(o===null){var X=m.type;return typeof X=="function"&&!bm(X)&&X.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=X,_w(o,l,X,x,j,W)):(o=xf(m.type,null,x,l,l.mode,W),o.ref=l.ref,o.return=l,l.child=o)}return X=o.child,(j&W)===0&&(j=X.memoizedProps,m=m.compare,m=m!==null?m:xt,m(j,x)&&o.ref===l.ref)?Xo(o,l,W):(l.flags|=1,o=Na(X,x),o.ref=l.ref,o.return=l,l.child=o)}function _w(o,l,m,x,j,W){if(o!==null&&xt(o.memoizedProps,x)&&o.ref===l.ref)if(js=!1,(W&j)!==0)(o.flags&16384)!==0&&(js=!0);else return l.lanes=o.lanes,Xo(o,l,W);return em(o,l,m,x,W)}function Zp(o,l,m){var x=l.pendingProps,j=x.children,W=o!==null?o.memoizedState:null;if(x.mode==="hidden"||x.mode==="unstable-defer-without-hiding")if((l.mode&4)===0)l.memoizedState={baseLanes:0},kf(l,m);else if((m&1073741824)!==0)l.memoizedState={baseLanes:0},kf(l,W!==null?W.baseLanes:m);else return o=W!==null?W.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o},kf(l,o),null;else W!==null?(x=W.baseLanes|m,l.memoizedState=null):x=m,kf(l,x);return bi(o,l,j,m),l.child}function yw(o,l){var m=l.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(l.flags|=128)}function em(o,l,m,x,j){var W=yi(m)?lc:Hn.current;return W=Zc(l,W),rl(l,j),m=Kp(o,l,m,x,W,j),o!==null&&!js?(l.updateQueue=o.updateQueue,l.flags&=-517,o.lanes&=~j,Xo(o,l,j)):(l.flags|=1,bi(o,l,m,j),l.child)}function ww(o,l,m,x,j){if(yi(m)){var W=!0;Xd(l)}else W=!1;if(rl(l,j),l.stateNode===null)o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),Qy(l,m,x),Up(l,m,x,j),x=!0;else if(o===null){var X=l.stateNode,ne=l.memoizedProps;X.props=ne;var pe=X.context,Pe=m.contextType;typeof Pe=="object"&&Pe!==null?Pe=rs(Pe):(Pe=yi(m)?lc:Hn.current,Pe=Zc(l,Pe));var rt=m.getDerivedStateFromProps,Rt=typeof rt=="function"||typeof X.getSnapshotBeforeUpdate=="function";Rt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ne!==x||pe!==Pe)&&Zy(l,X,x,Pe),Ta=!1;var Be=l.memoizedState;X.state=Be,Ql(l,x,X,j),pe=l.memoizedState,ne!==x||Be!==pe||_i.current||Ta?(typeof rt=="function"&&(nf(l,m,rt,x),pe=l.memoizedState),(ne=Ta||Xy(l,m,ne,x,Be,pe,Pe))?(Rt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(l.flags|=4)):(typeof X.componentDidMount=="function"&&(l.flags|=4),l.memoizedProps=x,l.memoizedState=pe),X.props=x,X.state=pe,X.context=Pe,x=ne):(typeof X.componentDidMount=="function"&&(l.flags|=4),x=!1)}else{X=l.stateNode,Yy(o,l),ne=l.memoizedProps,Pe=l.type===l.elementType?ne:As(l.type,ne),X.props=Pe,Rt=l.pendingProps,Be=X.context,pe=m.contextType,typeof pe=="object"&&pe!==null?pe=rs(pe):(pe=yi(m)?lc:Hn.current,pe=Zc(l,pe));var ft=m.getDerivedStateFromProps;(rt=typeof ft=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ne!==Rt||Be!==pe)&&Zy(l,X,x,pe),Ta=!1,Be=l.memoizedState,X.state=Be,Ql(l,x,X,j);var Tt=l.memoizedState;ne!==Rt||Be!==Tt||_i.current||Ta?(typeof ft=="function"&&(nf(l,m,ft,x),Tt=l.memoizedState),(Pe=Ta||Xy(l,m,Pe,x,Be,Tt,pe))?(rt||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(x,Tt,pe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(x,Tt,pe)),typeof X.componentDidUpdate=="function"&&(l.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(l.flags|=256)):(typeof X.componentDidUpdate!="function"||ne===o.memoizedProps&&Be===o.memoizedState||(l.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Be===o.memoizedState||(l.flags|=256),l.memoizedProps=x,l.memoizedState=Tt),X.props=x,X.state=Tt,X.context=pe,x=Pe):(typeof X.componentDidUpdate!="function"||ne===o.memoizedProps&&Be===o.memoizedState||(l.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Be===o.memoizedState||(l.flags|=256),x=!1)}return tm(o,l,m,x,W,j)}function tm(o,l,m,x,j,W){yw(o,l);var X=(l.flags&64)!==0;if(!x&&!X)return j&&Iy(l,m,!1),Xo(o,l,W);x=l.stateNode,YT.current=l;var ne=X&&typeof m.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&X?(l.child=cf(l,o.child,null,W),l.child=cf(l,null,ne,W)):bi(o,l,ne,W),l.memoizedState=x.state,j&&Iy(l,m,!0),l.child}function bw(o){var l=o.stateNode;l.pendingContext?Ly(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Ly(o,l.context,!1),qp(o,l.containerInfo)}var gf={dehydrated:null,retryLane:0};function Sw(o,l,m){var x=l.pendingProps,j=Ur.current,W=!1,X;return(X=(l.flags&64)!==0)||(X=o!==null&&o.memoizedState===null?!1:(j&2)!==0),X?(W=!0,l.flags&=-65):o!==null&&o.memoizedState===null||x.fallback===void 0||x.unstable_avoidThisFallback===!0||(j|=1),$r(Ur,j&1),o===null?(x.fallback!==void 0&&Vp(l),o=x.children,j=x.fallback,W?(o=Cw(l,o,j,m),l.child.memoizedState={baseLanes:m},l.memoizedState=gf,o):typeof x.unstable_expectedLoadTime=="number"?(o=Cw(l,o,j,m),l.child.memoizedState={baseLanes:m},l.memoizedState=gf,l.lanes=33554432,o):(m=Sm({mode:"visible",children:o},l.mode,m,null),m.return=l,l.child=m)):o.memoizedState!==null?W?(x=xw(o,l,x.children,x.fallback,m),W=l.child,j=o.child.memoizedState,W.memoizedState=j===null?{baseLanes:m}:{baseLanes:j.baseLanes|m},W.childLanes=o.childLanes&~m,l.memoizedState=gf,x):(m=kw(o,l,x.children,m),l.memoizedState=null,m):W?(x=xw(o,l,x.children,x.fallback,m),W=l.child,j=o.child.memoizedState,W.memoizedState=j===null?{baseLanes:m}:{baseLanes:j.baseLanes|m},W.childLanes=o.childLanes&~m,l.memoizedState=gf,x):(m=kw(o,l,x.children,m),l.memoizedState=null,m)}function Cw(o,l,m,x){var j=o.mode,W=o.child;return l={mode:"hidden",children:l},(j&2)===0&&W!==null?(W.childLanes=0,W.pendingProps=l):W=Sm(l,j,0,null),m=ul(m,j,x,null),W.return=o,m.return=o,W.sibling=m,o.child=W,m}function kw(o,l,m,x){var j=o.child;return o=j.sibling,m=Na(j,{mode:"visible",children:m}),(l.mode&2)===0&&(m.lanes=x),m.return=l,m.sibling=null,o!==null&&(o.nextEffect=null,o.flags=8,l.firstEffect=l.lastEffect=o),l.child=m}function xw(o,l,m,x,j){var W=l.mode,X=o.child;o=X.sibling;var ne={mode:"hidden",children:m};return(W&2)===0&&l.child!==X?(m=l.child,m.childLanes=0,m.pendingProps=ne,X=m.lastEffect,X!==null?(l.firstEffect=m.firstEffect,l.lastEffect=X,X.nextEffect=null):l.firstEffect=l.lastEffect=null):m=Na(X,ne),o!==null?x=Na(o,x):(x=ul(x,W,j,null),x.flags|=2),x.return=l,m.return=l,m.sibling=x,l.child=m,x}function Ew(o,l){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Wy(o.return,l)}function rm(o,l,m,x,j,W){var X=o.memoizedState;X===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:j,lastEffect:W}:(X.isBackwards=l,X.rendering=null,X.renderingStartTime=0,X.last=x,X.tail=m,X.tailMode=j,X.lastEffect=W)}function Tw(o,l,m){var x=l.pendingProps,j=x.revealOrder,W=x.tail;if(bi(o,l,x.children,m),x=Ur.current,(x&2)!==0)x=x&1|2,l.flags|=64;else{if(o!==null&&(o.flags&64)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ew(o,m);else if(o.tag===19)Ew(o,m);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if($r(Ur,x),(l.mode&2)===0)l.memoizedState=null;else switch(j){case"forwards":for(m=l.child,j=null;m!==null;)o=m.alternate,o!==null&&lf(o)===null&&(j=m),m=m.sibling;m=j,m===null?(j=l.child,l.child=null):(j=m.sibling,m.sibling=null),rm(l,!1,j,m,W,l.lastEffect);break;case"backwards":for(m=null,j=l.child,l.child=null;j!==null;){if(o=j.alternate,o!==null&&lf(o)===null){l.child=j;break}o=j.sibling,j.sibling=m,m=j,j=o}rm(l,!0,m,null,W,l.lastEffect);break;case"together":rm(l,!1,null,null,void 0,l.lastEffect);break;default:l.memoizedState=null}return l.child}function Xo(o,l,m){if(o!==null&&(l.dependencies=o.dependencies),uu|=l.lanes,(m&l.childLanes)!==0){if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,m=Na(o,o.pendingProps),l.child=m,m.return=l;o.sibling!==null;)o=o.sibling,m=m.sibling=Na(o,o.pendingProps),m.return=l;m.sibling=null}return l.child}return null}var Rw,nm,Pw,Ow;Rw=function(o,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},nm=function(){},Pw=function(o,l,m,x){var j=o.memoizedProps;if(j!==x){o=l.stateNode,fc(bo.current);var W=null;switch(m){case"input":j=en(o,j),x=en(o,x),W=[];break;case"option":j=Qe(o,j),x=Qe(o,x),W=[];break;case"select":j=e({},j,{value:void 0}),x=e({},x,{value:void 0}),W=[];break;case"textarea":j=mr(o,j),x=mr(o,x),W=[];break;default:typeof j.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Xc)}ui(m,x);var X;m=null;for(Pe in j)if(!x.hasOwnProperty(Pe)&&j.hasOwnProperty(Pe)&&j[Pe]!=null)if(Pe==="style"){var ne=j[Pe];for(X in ne)ne.hasOwnProperty(X)&&(m||(m={}),m[X]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?W||(W=[]):(W=W||[]).push(Pe,null));for(Pe in x){var pe=x[Pe];if(ne=j!=null?j[Pe]:void 0,x.hasOwnProperty(Pe)&&pe!==ne&&(pe!=null||ne!=null))if(Pe==="style")if(ne){for(X in ne)!ne.hasOwnProperty(X)||pe&&pe.hasOwnProperty(X)||(m||(m={}),m[X]="");for(X in pe)pe.hasOwnProperty(X)&&ne[X]!==pe[X]&&(m||(m={}),m[X]=pe[X])}else m||(W||(W=[]),W.push(Pe,m)),m=pe;else Pe==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ne=ne?ne.__html:void 0,pe!=null&&ne!==pe&&(W=W||[]).push(Pe,pe)):Pe==="children"?typeof pe!="string"&&typeof pe!="number"||(W=W||[]).push(Pe,""+pe):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(pe!=null&&Pe==="onScroll"&&kr("scroll",o),W||ne===pe||(W=[])):typeof pe=="object"&&pe!==null&&pe.$$typeof===ce?pe.toString():(W=W||[]).push(Pe,pe))}m&&(W=W||[]).push("style",m);var Pe=W;(l.updateQueue=Pe)&&(l.flags|=4)}},Ow=function(o,l,m,x){m!==x&&(l.flags|=4)};function lu(o,l){if(!So)switch(o.tailMode){case"hidden":l=o.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function KT(o,l,m){var x=l.pendingProps;switch(l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yi(l.type)&&Jd(),null;case 3:return nl(),vr(_i),vr(Hn),Wp(),x=l.stateNode,x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(uf(l)?l.flags|=4:x.hydrate||(l.flags|=256)),nm(l),null;case 5:Hp(l);var j=fc(ru.current);if(m=l.type,o!==null&&l.stateNode!=null)Pw(o,l,m,x,j),o.ref!==l.ref&&(l.flags|=128);else{if(!x){if(l.stateNode===null)throw Error(t(166));return null}if(o=fc(bo.current),uf(l)){x=l.stateNode,m=l.type;var W=l.memoizedProps;switch(x[yo]=l,x[Ko]=W,m){case"dialog":kr("cancel",x),kr("close",x);break;case"iframe":case"object":case"embed":kr("load",x);break;case"video":case"audio":for(o=0;o<oc.length;o++)kr(oc[o],x);break;case"source":kr("error",x);break;case"img":case"image":case"link":kr("error",x),kr("load",x);break;case"details":kr("toggle",x);break;case"input":jr(x,W),kr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!W.multiple},kr("invalid",x);break;case"textarea":lr(x,W),kr("invalid",x)}ui(m,W),o=null;for(var X in W)W.hasOwnProperty(X)&&(j=W[X],X==="children"?typeof j=="string"?x.textContent!==j&&(o=["children",j]):typeof j=="number"&&x.textContent!==""+j&&(o=["children",""+j]):i.hasOwnProperty(X)&&j!=null&&X==="onScroll"&&kr("scroll",x));switch(m){case"input":on(x),Ir(x,W,!0);break;case"textarea":on(x),Gi(x);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(x.onclick=Xc)}x=o,l.updateQueue=x,x!==null&&(l.flags|=4)}else{switch(X=j.nodeType===9?j:j.ownerDocument,o===Vr.html&&(o=Bt(m)),o===Vr.html?m==="script"?(o=X.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=X.createElement(m,{is:x.is}):(o=X.createElement(m),m==="select"&&(X=o,x.multiple?X.multiple=!0:x.size&&(X.size=x.size))):o=X.createElementNS(o,m),o[yo]=l,o[Ko]=x,Rw(o,l,!1,!1),l.stateNode=o,X=ms(m,x),m){case"dialog":kr("cancel",o),kr("close",o),j=x;break;case"iframe":case"object":case"embed":kr("load",o),j=x;break;case"video":case"audio":for(j=0;j<oc.length;j++)kr(oc[j],o);j=x;break;case"source":kr("error",o),j=x;break;case"img":case"image":case"link":kr("error",o),kr("load",o),j=x;break;case"details":kr("toggle",o),j=x;break;case"input":jr(o,x),j=en(o,x),kr("invalid",o);break;case"option":j=Qe(o,x);break;case"select":o._wrapperState={wasMultiple:!!x.multiple},j=e({},x,{value:void 0}),kr("invalid",o);break;case"textarea":lr(o,x),j=mr(o,x),kr("invalid",o);break;default:j=x}ui(m,j);var ne=j;for(W in ne)if(ne.hasOwnProperty(W)){var pe=ne[W];W==="style"?ps(o,pe):W==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&_n(o,pe)):W==="children"?typeof pe=="string"?(m!=="textarea"||pe!=="")&&Xn(o,pe):typeof pe=="number"&&Xn(o,""+pe):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?pe!=null&&W==="onScroll"&&kr("scroll",o):pe!=null&&M(o,W,pe,X))}switch(m){case"input":on(o),Ir(o,x,!1);break;case"textarea":on(o),Gi(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Jt(x.value));break;case"select":o.multiple=!!x.multiple,W=x.value,W!=null?Yt(o,!!x.multiple,W,!1):x.defaultValue!=null&&Yt(o,!!x.multiple,x.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Xc)}Fi(m,x)&&(l.flags|=4)}l.ref!==null&&(l.flags|=128)}return null;case 6:if(o&&l.stateNode!=null)Ow(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(t(166));m=fc(ru.current),fc(bo.current),uf(l)?(x=l.stateNode,m=l.memoizedProps,x[yo]=l,x.nodeValue!==m&&(l.flags|=4)):(x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[yo]=l,l.stateNode=x)}return null;case 13:return vr(Ur),x=l.memoizedState,(l.flags&64)!==0?(l.lanes=m,l):(x=x!==null,m=!1,o===null?l.memoizedProps.fallback!==void 0&&uf(l):m=o.memoizedState!==null,x&&!m&&(l.mode&2)!==0&&(o===null&&l.memoizedProps.unstable_avoidThisFallback!==!0||(Ur.current&1)!==0?Nn===0&&(Nn=3):((Nn===0||Nn===3)&&(Nn=4),ai===null||(uu&134217727)===0&&(ol&134217727)===0||cl(ai,Wn))),(x||m)&&(l.flags|=4),null);case 4:return nl(),nm(l),o===null&&_o(l.stateNode.containerInfo),null;case 10:return Bp(l),null;case 17:return yi(l.type)&&Jd(),null;case 19:if(vr(Ur),x=l.memoizedState,x===null)return null;if(W=(l.flags&64)!==0,X=x.rendering,X===null)if(W)lu(x,!1);else{if(Nn!==0||o!==null&&(o.flags&64)!==0)for(o=l.child;o!==null;){if(X=lf(o),X!==null){for(l.flags|=64,lu(x,!1),W=X.updateQueue,W!==null&&(l.updateQueue=W,l.flags|=4),x.lastEffect===null&&(l.firstEffect=null),l.lastEffect=x.lastEffect,x=m,m=l.child;m!==null;)W=m,o=x,W.flags&=2,W.nextEffect=null,W.firstEffect=null,W.lastEffect=null,X=W.alternate,X===null?(W.childLanes=0,W.lanes=o,W.child=null,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=X.childLanes,W.lanes=X.lanes,W.child=X.child,W.memoizedProps=X.memoizedProps,W.memoizedState=X.memoizedState,W.updateQueue=X.updateQueue,W.type=X.type,o=X.dependencies,W.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return $r(Ur,Ur.current&1|2),l.child}o=o.sibling}x.tail!==null&&Vn()>pm&&(l.flags|=64,W=!0,lu(x,!1),l.lanes=33554432)}else{if(!W)if(o=lf(X),o!==null){if(l.flags|=64,W=!0,m=o.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),lu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!X.alternate&&!So)return l=l.lastEffect=x.lastEffect,l!==null&&(l.nextEffect=null),null}else 2*Vn()-x.renderingStartTime>pm&&m!==1073741824&&(l.flags|=64,W=!0,lu(x,!1),l.lanes=33554432);x.isBackwards?(X.sibling=l.child,l.child=X):(m=x.last,m!==null?m.sibling=X:l.child=X,x.last=X)}return x.tail!==null?(m=x.tail,x.rendering=m,x.tail=m.sibling,x.lastEffect=l.lastEffect,x.renderingStartTime=Vn(),m.sibling=null,l=Ur.current,$r(Ur,W?l&1|2:l&1),m):null;case 23:case 24:return wm(),o!==null&&o.memoizedState!==null!=(l.memoizedState!==null)&&x.mode!=="unstable-defer-without-hiding"&&(l.flags|=4),null}throw Error(t(156,l.tag))}function GT(o){switch(o.tag){case 1:yi(o.type)&&Jd();var l=o.flags;return l&4096?(o.flags=l&-4097|64,o):null;case 3:if(nl(),vr(_i),vr(Hn),Wp(),l=o.flags,(l&64)!==0)throw Error(t(285));return o.flags=l&-4097|64,o;case 5:return Hp(o),null;case 13:return vr(Ur),l=o.flags,l&4096?(o.flags=l&-4097|64,o):null;case 19:return vr(Ur),null;case 4:return nl(),null;case 10:return Bp(o),null;case 23:case 24:return wm(),null;default:return null}}function im(o,l){try{var m="",x=l;do m+=pr(x),x=x.return;while(x);var j=m}catch(W){j=`
Error generating stack: `+W.message+`
`+W.stack}return{value:o,source:l,stack:j}}function sm(o,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function Dw(o,l,m){m=Ra(-1,m),m.tag=3,m.payload={element:null};var x=l.value;return m.callback=function(){yf||(yf=!0,mm=x),sm(o,l)},m}function Mw(o,l,m){m=Ra(-1,m),m.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var j=l.value;m.payload=function(){return sm(o,l),x(j)}}var W=o.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(m.callback=function(){typeof x!="function"&&(ko===null?ko=new Set([this]):ko.add(this),sm(o,l));var X=l.stack;this.componentDidCatch(l.value,{componentStack:X!==null?X:""})}),m}var XT=typeof WeakSet=="function"?WeakSet:Set;function Aw(o){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){La(o,m)}else l.current=null}function QT(o,l){switch(l.tag){case 0:case 11:case 15:case 22:return;case 1:if(l.flags&256&&o!==null){var m=o.memoizedProps,x=o.memoizedState;o=l.stateNode,l=o.getSnapshotBeforeUpdate(l.elementType===l.type?m:As(l.type,m),x),o.__reactInternalSnapshotBeforeUpdate=l}return;case 3:l.flags&256&&Gl(l.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(t(163))}function ZT(o,l,m){switch(m.tag){case 0:case 11:case 15:case 22:if(l=m.updateQueue,l=l!==null?l.lastEffect:null,l!==null){o=l=l.next;do{if((o.tag&3)===3){var x=o.create;o.destroy=x()}o=o.next}while(o!==l)}if(l=m.updateQueue,l=l!==null?l.lastEffect:null,l!==null){o=l=l.next;do{var j=o;x=j.next,j=j.tag,(j&4)!==0&&(j&1)!==0&&(Kw(m,o),aR(m,o)),o=x}while(o!==l)}return;case 1:o=m.stateNode,m.flags&4&&(l===null?o.componentDidMount():(x=m.elementType===m.type?l.memoizedProps:As(m.type,l.memoizedProps),o.componentDidUpdate(x,l.memoizedState,o.__reactInternalSnapshotBeforeUpdate))),l=m.updateQueue,l!==null&&Gy(m,l,o);return;case 3:if(l=m.updateQueue,l!==null){if(o=null,m.child!==null)switch(m.child.tag){case 5:o=m.child.stateNode;break;case 1:o=m.child.stateNode}Gy(m,l,o)}return;case 5:o=m.stateNode,l===null&&m.flags&4&&Fi(m.type,m.memoizedProps)&&o.focus();return;case 6:return;case 4:return;case 12:return;case 13:m.memoizedState===null&&(m=m.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&ya(m))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(t(163))}function jw(o,l){for(var m=o;;){if(m.tag===5){var x=m.stateNode;if(l)x=x.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{x=m.stateNode;var j=m.memoizedProps.style;j=j!=null&&j.hasOwnProperty("display")?j.display:null,x.style.display=Ti("display",j)}}else if(m.tag===6)m.stateNode.nodeValue=l?"":m.memoizedProps;else if((m.tag!==23&&m.tag!==24||m.memoizedState===null||m===o)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break;for(;m.sibling===null;){if(m.return===null||m.return===o)return;m=m.return}m.sibling.return=m.return,m=m.sibling}}function Lw(o,l){if(uc&&typeof uc.onCommitFiberUnmount=="function")try{uc.onCommitFiberUnmount(Mp,l)}catch{}switch(l.tag){case 0:case 11:case 14:case 15:case 22:if(o=l.updateQueue,o!==null&&(o=o.lastEffect,o!==null)){var m=o=o.next;do{var x=m,j=x.destroy;if(x=x.tag,j!==void 0)if((x&4)!==0)Kw(l,m);else{x=l;try{j()}catch(W){La(x,W)}}m=m.next}while(m!==o)}break;case 1:if(Aw(l),o=l.stateNode,typeof o.componentWillUnmount=="function")try{o.props=l.memoizedProps,o.state=l.memoizedState,o.componentWillUnmount()}catch(W){La(l,W)}break;case 5:Aw(l);break;case 4:Bw(o,l)}}function Nw(o){o.alternate=null,o.child=null,o.dependencies=null,o.firstEffect=null,o.lastEffect=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.return=null,o.updateQueue=null}function Iw(o){return o.tag===5||o.tag===3||o.tag===4}function Fw(o){e:{for(var l=o.return;l!==null;){if(Iw(l))break e;l=l.return}throw Error(t(160))}var m=l;switch(l=m.stateNode,m.tag){case 5:var x=!1;break;case 3:l=l.containerInfo,x=!0;break;case 4:l=l.containerInfo,x=!0;break;default:throw Error(t(161))}m.flags&16&&(Xn(l,""),m.flags&=-17);e:t:for(m=o;;){for(;m.sibling===null;){if(m.return===null||Iw(m.return)){m=null;break e}m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue t;m.child.return=m,m=m.child}if(!(m.flags&2)){m=m.stateNode;break e}}x?om(o,m,l):am(o,m,l)}function om(o,l,m){var x=o.tag,j=x===5||x===6;if(j)o=j?o.stateNode:o.stateNode.instance,l?m.nodeType===8?m.parentNode.insertBefore(o,l):m.insertBefore(o,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(o,m)):(l=m,l.appendChild(o)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Xc));else if(x!==4&&(o=o.child,o!==null))for(om(o,l,m),o=o.sibling;o!==null;)om(o,l,m),o=o.sibling}function am(o,l,m){var x=o.tag,j=x===5||x===6;if(j)o=j?o.stateNode:o.stateNode.instance,l?m.insertBefore(o,l):m.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(am(o,l,m),o=o.sibling;o!==null;)am(o,l,m),o=o.sibling}function Bw(o,l){for(var m=l,x=!1,j,W;;){if(!x){x=m.return;e:for(;;){if(x===null)throw Error(t(160));switch(j=x.stateNode,x.tag){case 5:W=!1;break e;case 3:j=j.containerInfo,W=!0;break e;case 4:j=j.containerInfo,W=!0;break e}x=x.return}x=!0}if(m.tag===5||m.tag===6){e:for(var X=o,ne=m,pe=ne;;)if(Lw(X,pe),pe.child!==null&&pe.tag!==4)pe.child.return=pe,pe=pe.child;else{if(pe===ne)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===ne)break e;pe=pe.return}pe.sibling.return=pe.return,pe=pe.sibling}W?(X=j,ne=m.stateNode,X.nodeType===8?X.parentNode.removeChild(ne):X.removeChild(ne)):j.removeChild(m.stateNode)}else if(m.tag===4){if(m.child!==null){j=m.stateNode.containerInfo,W=!0,m.child.return=m,m=m.child;continue}}else if(Lw(o,m),m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return,m.tag===4&&(x=!1)}m.sibling.return=m.return,m=m.sibling}}function cm(o,l){switch(l.tag){case 0:case 11:case 14:case 15:case 22:var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do(x.tag&3)===3&&(o=x.destroy,x.destroy=void 0,o!==void 0&&o()),x=x.next;while(x!==m)}return;case 1:return;case 5:if(m=l.stateNode,m!=null){x=l.memoizedProps;var j=o!==null?o.memoizedProps:x;o=l.type;var W=l.updateQueue;if(l.updateQueue=null,W!==null){for(m[Ko]=x,o==="input"&&x.type==="radio"&&x.name!=null&&vn(m,x),ms(o,j),l=ms(o,x),j=0;j<W.length;j+=2){var X=W[j],ne=W[j+1];X==="style"?ps(m,ne):X==="dangerouslySetInnerHTML"?_n(m,ne):X==="children"?Xn(m,ne):M(m,X,ne,l)}switch(o){case"input":xn(m,x);break;case"textarea":$n(m,x);break;case"select":o=m._wrapperState.wasMultiple,m._wrapperState.wasMultiple=!!x.multiple,W=x.value,W!=null?Yt(m,!!x.multiple,W,!1):o!==!!x.multiple&&(x.defaultValue!=null?Yt(m,!!x.multiple,x.defaultValue,!0):Yt(m,!!x.multiple,x.multiple?[]:"",!1))}}}return;case 6:if(l.stateNode===null)throw Error(t(162));l.stateNode.nodeValue=l.memoizedProps;return;case 3:m=l.stateNode,m.hydrate&&(m.hydrate=!1,ya(m.containerInfo));return;case 12:return;case 13:l.memoizedState!==null&&(hm=Vn(),jw(l.child,!0)),$w(l);return;case 19:$w(l);return;case 17:return;case 23:case 24:jw(l,l.memoizedState!==null);return}throw Error(t(163))}function $w(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new XT),l.forEach(function(x){var j=uR.bind(null,o,x);m.has(x)||(m.add(x),x.then(j,j))})}}function eR(o,l){return o!==null&&(o=o.memoizedState,o===null||o.dehydrated!==null)?(l=l.memoizedState,l!==null&&l.dehydrated===null):!1}var tR=Math.ceil,vf=k.ReactCurrentDispatcher,lm=k.ReactCurrentOwner,Et=0,ai=null,pn=null,Wn=0,mc=0,um=oi(0),Nn=0,_f=null,sl=0,uu=0,ol=0,dm=0,fm=null,hm=0,pm=1/0;function al(){pm=Vn()+500}var at=null,yf=!1,mm=null,ko=null,Da=!1,du=null,fu=90,gm=[],vm=[],Qo=null,hu=0,_m=null,wf=-1,Zo=0,bf=0,pu=null,Sf=!1;function Bi(){return(Et&48)!==0?Vn():wf!==-1?wf:wf=Vn()}function Ma(o){if(o=o.mode,(o&2)===0)return 1;if((o&4)===0)return el()===99?1:2;if(Zo===0&&(Zo=sl),qT.transition!==0){bf!==0&&(bf=fm!==null?fm.pendingLanes:0),o=Zo;var l=4186112&~bf;return l&=-l,l===0&&(o=4186112&~o,l=o&-o,l===0&&(l=8192)),l}return o=el(),(Et&4)!==0&&o===98?o=Dn(12,Zo):(o=tc(o),o=Dn(o,Zo)),o}function Aa(o,l,m){if(50<hu)throw hu=0,_m=null,Error(t(185));if(o=Cf(o,l),o===null)return null;Rs(o,l,m),o===ai&&(ol|=l,Nn===4&&cl(o,Wn));var x=el();l===1?(Et&8)!==0&&(Et&48)===0?ym(o):(is(o,m),Et===0&&(al(),wo())):((Et&4)===0||x!==98&&x!==99||(Qo===null?Qo=new Set([o]):Qo.add(o)),is(o,m)),fm=o}function Cf(o,l){o.lanes|=l;var m=o.alternate;for(m!==null&&(m.lanes|=l),m=o,o=o.return;o!==null;)o.childLanes|=l,m=o.alternate,m!==null&&(m.childLanes|=l),m=o,o=o.return;return m.tag===3?m.stateNode:null}function is(o,l){for(var m=o.callbackNode,x=o.suspendedLanes,j=o.pingedLanes,W=o.expirationTimes,X=o.pendingLanes;0<X;){var ne=31-qn(X),pe=1<<ne,Pe=W[ne];if(Pe===-1){if((pe&x)===0||(pe&j)!==0){Pe=l,Li(pe);var rt=zt;W[ne]=10<=rt?Pe+250:6<=rt?Pe+5e3:-1}}else Pe<=l&&(o.expiredLanes|=pe);X&=~pe}if(x=Es(o,o===ai?Wn:0),l=zt,x===0)m!==null&&(m!==Np&&jp(m),o.callbackNode=null,o.callbackPriority=0);else{if(m!==null){if(o.callbackPriority===l)return;m!==Np&&jp(m)}l===15?(m=ym.bind(null,o),Go===null?(Go=[m],Zd=Ap(Qd,zy)):Go.push(m),m=Np):l===14?m=Xl(99,ym.bind(null,o)):(m=Qi(l),m=Xl(m,Uw.bind(null,o))),o.callbackPriority=l,o.callbackNode=m}}function Uw(o){if(wf=-1,bf=Zo=0,(Et&48)!==0)throw Error(t(327));var l=o.callbackNode;if(ja()&&o.callbackNode!==l)return null;var m=Es(o,o===ai?Wn:0);if(m===0)return null;var x=m,j=Et;Et|=16;var W=zw();(ai!==o||Wn!==x)&&(al(),ll(o,x));do try{iR();break}catch(ne){Vw(o,ne)}while(!0);if(Fp(),vf.current=W,Et=j,pn!==null?x=0:(ai=null,Wn=0,x=Nn),(sl&ol)!==0)ll(o,0);else if(x!==0){if(x===2&&(Et|=64,o.hydrate&&(o.hydrate=!1,Gl(o.containerInfo)),m=Vo(o),m!==0&&(x=mu(o,m))),x===1)throw l=_f,ll(o,0),cl(o,m),is(o,Vn()),l;switch(o.finishedWork=o.current.alternate,o.finishedLanes=m,x){case 0:case 1:throw Error(t(345));case 2:gc(o);break;case 3:if(cl(o,m),(m&62914560)===m&&(x=hm+500-Vn(),10<x)){if(Es(o,0)!==0)break;if(j=o.suspendedLanes,(j&m)!==m){Bi(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Or(gc.bind(null,o),x);break}gc(o);break;case 4:if(cl(o,m),(m&4186112)===m)break;for(x=o.eventTimes,j=-1;0<m;){var X=31-qn(m);W=1<<X,X=x[X],X>j&&(j=X),m&=~W}if(m=j,m=Vn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*tR(m/1960))-m,10<m){o.timeoutHandle=Or(gc.bind(null,o),m);break}gc(o);break;case 5:gc(o);break;default:throw Error(t(329))}}return is(o,Vn()),o.callbackNode===l?Uw.bind(null,o):null}function cl(o,l){for(l&=~dm,l&=~ol,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var m=31-qn(l),x=1<<m;o[m]=-1,l&=~x}}function ym(o){if((Et&48)!==0)throw Error(t(327));if(ja(),o===ai&&(o.expiredLanes&Wn)!==0){var l=Wn,m=mu(o,l);(sl&ol)!==0&&(l=Es(o,l),m=mu(o,l))}else l=Es(o,0),m=mu(o,l);if(o.tag!==0&&m===2&&(Et|=64,o.hydrate&&(o.hydrate=!1,Gl(o.containerInfo)),l=Vo(o),l!==0&&(m=mu(o,l))),m===1)throw m=_f,ll(o,0),cl(o,l),is(o,Vn()),m;return o.finishedWork=o.current.alternate,o.finishedLanes=l,gc(o),is(o,Vn()),null}function rR(){if(Qo!==null){var o=Qo;Qo=null,o.forEach(function(l){l.expiredLanes|=24&l.pendingLanes,is(l,Vn())})}wo()}function qw(o,l){var m=Et;Et|=1;try{return o(l)}finally{Et=m,Et===0&&(al(),wo())}}function Hw(o,l){var m=Et;Et&=-2,Et|=8;try{return o(l)}finally{Et=m,Et===0&&(al(),wo())}}function kf(o,l){$r(um,mc),mc|=l,sl|=l}function wm(){mc=um.current,vr(um)}function ll(o,l){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,Op(m)),pn!==null)for(m=pn.return;m!==null;){var x=m;switch(x.tag){case 1:x=x.type.childContextTypes,x!=null&&Jd();break;case 3:nl(),vr(_i),vr(Hn),Wp();break;case 5:Hp(x);break;case 4:nl();break;case 13:vr(Ur);break;case 19:vr(Ur);break;case 10:Bp(x);break;case 23:case 24:wm()}m=m.return}ai=o,pn=Na(o.current,null),Wn=mc=sl=l,Nn=0,_f=null,dm=ol=uu=0}function Vw(o,l){do{var m=pn;try{if(Fp(),nu.current=mf,df){for(var x=Xr.memoizedState;x!==null;){var j=x.queue;j!==null&&(j.pending=null),x=x.next}df=!1}if(iu=0,Ln=zn=Xr=null,su=!1,lm.current=null,m===null||m.return===null){Nn=1,_f=l,pn=null;break}e:{var W=o,X=m.return,ne=m,pe=l;if(l=Wn,ne.flags|=2048,ne.firstEffect=ne.lastEffect=null,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Pe=pe;if((ne.mode&2)===0){var rt=ne.alternate;rt?(ne.updateQueue=rt.updateQueue,ne.memoizedState=rt.memoizedState,ne.lanes=rt.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var Rt=(Ur.current&1)!==0,Be=X;do{var ft;if(ft=Be.tag===13){var Tt=Be.memoizedState;if(Tt!==null)ft=Tt.dehydrated!==null;else{var St=Be.memoizedProps;ft=St.fallback===void 0?!1:St.unstable_avoidThisFallback!==!0?!0:!Rt}}if(ft){var we=Be.updateQueue;if(we===null){var me=new Set;me.add(Pe),Be.updateQueue=me}else we.add(Pe);if((Be.mode&2)===0){if(Be.flags|=64,ne.flags|=16384,ne.flags&=-2981,ne.tag===1)if(ne.alternate===null)ne.tag=17;else{var _e=Ra(-1,1);_e.tag=2,Pa(ne,_e)}ne.lanes|=1;break e}pe=void 0,ne=l;var Le=W.pingCache;if(Le===null?(Le=W.pingCache=new JT,pe=new Set,Le.set(Pe,pe)):(pe=Le.get(Pe),pe===void 0&&(pe=new Set,Le.set(Pe,pe))),!pe.has(ne)){pe.add(ne);var Ne=lR.bind(null,W,Pe,ne);Pe.then(Ne,Ne)}Be.flags|=4096,Be.lanes=l;break e}Be=Be.return}while(Be!==null);pe=Error((kn(ne.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Nn!==5&&(Nn=2),pe=im(pe,ne),Be=X;do{switch(Be.tag){case 3:W=pe,Be.flags|=4096,l&=-l,Be.lanes|=l;var Pt=Dw(Be,W,l);Ky(Be,Pt);break e;case 1:W=pe;var ut=Be.type,Ot=Be.stateNode;if((Be.flags&64)===0&&(typeof ut.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(ko===null||!ko.has(Ot)))){Be.flags|=4096,l&=-l,Be.lanes|=l;var Ut=Mw(Be,W,l);Ky(Be,Ut);break e}}Be=Be.return}while(Be!==null)}Yw(m)}catch(jt){l=jt,pn===m&&m!==null&&(pn=m=m.return);continue}break}while(!0)}function zw(){var o=vf.current;return vf.current=mf,o===null?mf:o}function mu(o,l){var m=Et;Et|=16;var x=zw();ai===o&&Wn===l||ll(o,l);do try{nR();break}catch(j){Vw(o,j)}while(!0);if(Fp(),Et=m,vf.current=x,pn!==null)throw Error(t(261));return ai=null,Wn=0,Nn}function nR(){for(;pn!==null;)Ww(pn)}function iR(){for(;pn!==null&&!BT();)Ww(pn)}function Ww(o){var l=Jw(o.alternate,o,mc);o.memoizedProps=o.pendingProps,l===null?Yw(o):pn=l,lm.current=null}function Yw(o){var l=o;do{var m=l.alternate;if(o=l.return,(l.flags&2048)===0){if(m=KT(m,l,mc),m!==null){pn=m;return}if(m=l,m.tag!==24&&m.tag!==23||m.memoizedState===null||(mc&1073741824)!==0||(m.mode&4)===0){for(var x=0,j=m.child;j!==null;)x|=j.lanes|j.childLanes,j=j.sibling;m.childLanes=x}o!==null&&(o.flags&2048)===0&&(o.firstEffect===null&&(o.firstEffect=l.firstEffect),l.lastEffect!==null&&(o.lastEffect!==null&&(o.lastEffect.nextEffect=l.firstEffect),o.lastEffect=l.lastEffect),1<l.flags&&(o.lastEffect!==null?o.lastEffect.nextEffect=l:o.firstEffect=l,o.lastEffect=l))}else{if(m=GT(l),m!==null){m.flags&=2047,pn=m;return}o!==null&&(o.firstEffect=o.lastEffect=null,o.flags|=2048)}if(l=l.sibling,l!==null){pn=l;return}pn=l=o}while(l!==null);Nn===0&&(Nn=5)}function gc(o){var l=el();return dc(99,sR.bind(null,o,l)),null}function sR(o,l){do ja();while(du!==null);if((Et&48)!==0)throw Error(t(327));var m=o.finishedWork;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(t(177));o.callbackNode=null;var x=m.lanes|m.childLanes,j=x,W=o.pendingLanes&~j;o.pendingLanes=j,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=j,o.mutableReadLanes&=j,o.entangledLanes&=j,j=o.entanglements;for(var X=o.eventTimes,ne=o.expirationTimes;0<W;){var pe=31-qn(W),Pe=1<<pe;j[pe]=0,X[pe]=-1,ne[pe]=-1,W&=~Pe}if(Qo!==null&&(x&24)===0&&Qo.has(o)&&Qo.delete(o),o===ai&&(pn=ai=null,Wn=0),1<m.flags?m.lastEffect!==null?(m.lastEffect.nextEffect=m,x=m.firstEffect):x=m:x=m.firstEffect,x!==null){if(j=Et,Et|=32,lm.current=null,Yl=mo,X=Gr(),jn(X)){if("selectionStart"in X)ne={start:X.selectionStart,end:X.selectionEnd};else e:if(ne=(ne=X.ownerDocument)&&ne.defaultView||window,(Pe=ne.getSelection&&ne.getSelection())&&Pe.rangeCount!==0){ne=Pe.anchorNode,W=Pe.anchorOffset,pe=Pe.focusNode,Pe=Pe.focusOffset;try{ne.nodeType,pe.nodeType}catch{ne=null;break e}var rt=0,Rt=-1,Be=-1,ft=0,Tt=0,St=X,we=null;t:for(;;){for(var me;St!==ne||W!==0&&St.nodeType!==3||(Rt=rt+W),St!==pe||Pe!==0&&St.nodeType!==3||(Be=rt+Pe),St.nodeType===3&&(rt+=St.nodeValue.length),(me=St.firstChild)!==null;)we=St,St=me;for(;;){if(St===X)break t;if(we===ne&&++ft===W&&(Rt=rt),we===pe&&++Tt===Pe&&(Be=rt),(me=St.nextSibling)!==null)break;St=we,we=St.parentNode}St=me}ne=Rt===-1||Be===-1?null:{start:Rt,end:Be}}else ne=null;ne=ne||{start:0,end:0}}else ne=null;Kl={focusedElem:X,selectionRange:ne},mo=!1,pu=null,Sf=!1,at=x;do try{oR()}catch(jt){if(at===null)throw Error(t(330));La(at,jt),at=at.nextEffect}while(at!==null);pu=null,at=x;do try{for(X=o;at!==null;){var _e=at.flags;if(_e&16&&Xn(at.stateNode,""),_e&128){var Le=at.alternate;if(Le!==null){var Ne=Le.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}switch(_e&1038){case 2:Fw(at),at.flags&=-3;break;case 6:Fw(at),at.flags&=-3,cm(at.alternate,at);break;case 1024:at.flags&=-1025;break;case 1028:at.flags&=-1025,cm(at.alternate,at);break;case 4:cm(at.alternate,at);break;case 8:ne=at,Bw(X,ne);var Pt=ne.alternate;Nw(ne),Pt!==null&&Nw(Pt)}at=at.nextEffect}}catch(jt){if(at===null)throw Error(t(330));La(at,jt),at=at.nextEffect}while(at!==null);if(Ne=Kl,Le=Gr(),_e=Ne.focusedElem,X=Ne.selectionRange,Le!==_e&&_e&&_e.ownerDocument&&hn(_e.ownerDocument.documentElement,_e)){for(X!==null&&jn(_e)&&(Le=X.start,Ne=X.end,Ne===void 0&&(Ne=Le),"selectionStart"in _e?(_e.selectionStart=Le,_e.selectionEnd=Math.min(Ne,_e.value.length)):(Ne=(Le=_e.ownerDocument||document)&&Le.defaultView||window,Ne.getSelection&&(Ne=Ne.getSelection(),ne=_e.textContent.length,Pt=Math.min(X.start,ne),X=X.end===void 0?Pt:Math.min(X.end,ne),!Ne.extend&&Pt>X&&(ne=X,X=Pt,Pt=ne),ne=sr(_e,Pt),W=sr(_e,X),ne&&W&&(Ne.rangeCount!==1||Ne.anchorNode!==ne.node||Ne.anchorOffset!==ne.offset||Ne.focusNode!==W.node||Ne.focusOffset!==W.offset)&&(Le=Le.createRange(),Le.setStart(ne.node,ne.offset),Ne.removeAllRanges(),Pt>X?(Ne.addRange(Le),Ne.extend(W.node,W.offset)):(Le.setEnd(W.node,W.offset),Ne.addRange(Le)))))),Le=[],Ne=_e;Ne=Ne.parentNode;)Ne.nodeType===1&&Le.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<Le.length;_e++)Ne=Le[_e],Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}mo=!!Yl,Kl=Yl=null,o.current=m,at=x;do try{for(_e=o;at!==null;){var ut=at.flags;if(ut&36&&ZT(_e,at.alternate,at),ut&128){Le=void 0;var Ot=at.ref;if(Ot!==null){var Ut=at.stateNode;switch(at.tag){case 5:Le=Ut;break;default:Le=Ut}typeof Ot=="function"?Ot(Le):Ot.current=Le}}at=at.nextEffect}}catch(jt){if(at===null)throw Error(t(330));La(at,jt),at=at.nextEffect}while(at!==null);at=null,UT(),Et=j}else o.current=m;if(Da)Da=!1,du=o,fu=l;else for(at=x;at!==null;)l=at.nextEffect,at.nextEffect=null,at.flags&8&&(ut=at,ut.sibling=null,ut.stateNode=null),at=l;if(x=o.pendingLanes,x===0&&(ko=null),x===1?o===_m?hu++:(hu=0,_m=o):hu=0,m=m.stateNode,uc&&typeof uc.onCommitFiberRoot=="function")try{uc.onCommitFiberRoot(Mp,m,void 0,(m.current.flags&64)===64)}catch{}if(is(o,Vn()),yf)throw yf=!1,o=mm,mm=null,o;return(Et&8)!==0||wo(),null}function oR(){for(;at!==null;){var o=at.alternate;Sf||pu===null||((at.flags&8)!==0?so(at,pu)&&(Sf=!0):at.tag===13&&eR(o,at)&&so(at,pu)&&(Sf=!0));var l=at.flags;(l&256)!==0&&QT(o,at),(l&512)===0||Da||(Da=!0,Xl(97,function(){return ja(),null})),at=at.nextEffect}}function ja(){if(fu!==90){var o=97<fu?97:fu;return fu=90,dc(o,cR)}return!1}function aR(o,l){gm.push(l,o),Da||(Da=!0,Xl(97,function(){return ja(),null}))}function Kw(o,l){vm.push(l,o),Da||(Da=!0,Xl(97,function(){return ja(),null}))}function cR(){if(du===null)return!1;var o=du;if(du=null,(Et&48)!==0)throw Error(t(331));var l=Et;Et|=32;var m=vm;vm=[];for(var x=0;x<m.length;x+=2){var j=m[x],W=m[x+1],X=j.destroy;if(j.destroy=void 0,typeof X=="function")try{X()}catch(pe){if(W===null)throw Error(t(330));La(W,pe)}}for(m=gm,gm=[],x=0;x<m.length;x+=2){j=m[x],W=m[x+1];try{var ne=j.create;j.destroy=ne()}catch(pe){if(W===null)throw Error(t(330));La(W,pe)}}for(ne=o.current.firstEffect;ne!==null;)o=ne.nextEffect,ne.nextEffect=null,ne.flags&8&&(ne.sibling=null,ne.stateNode=null),ne=o;return Et=l,wo(),!0}function Gw(o,l,m){l=im(m,l),l=Dw(o,l,1),Pa(o,l),l=Bi(),o=Cf(o,1),o!==null&&(Rs(o,1,l),is(o,l))}function La(o,l){if(o.tag===3)Gw(o,o,l);else for(var m=o.return;m!==null;){if(m.tag===3){Gw(m,o,l);break}else if(m.tag===1){var x=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ko===null||!ko.has(x))){o=im(l,o);var j=Mw(m,o,1);if(Pa(m,j),j=Bi(),m=Cf(m,1),m!==null)Rs(m,1,j),is(m,j);else if(typeof x.componentDidCatch=="function"&&(ko===null||!ko.has(x)))try{x.componentDidCatch(l,o)}catch{}break}}m=m.return}}function lR(o,l,m){var x=o.pingCache;x!==null&&x.delete(l),l=Bi(),o.pingedLanes|=o.suspendedLanes&m,ai===o&&(Wn&m)===m&&(Nn===4||Nn===3&&(Wn&62914560)===Wn&&500>Vn()-hm?ll(o,0):dm|=m),is(o,l)}function uR(o,l){var m=o.stateNode;m!==null&&m.delete(l),l=0,l===0&&(l=o.mode,(l&2)===0?l=1:(l&4)===0?l=el()===99?1:2:(Zo===0&&(Zo=sl),l=ii(62914560&~Zo),l===0&&(l=4194304))),m=Bi(),o=Cf(o,l),o!==null&&(Rs(o,l,m),is(o,m))}var Jw;Jw=function(o,l,m){var x=l.lanes;if(o!==null)if(o.memoizedProps!==l.pendingProps||_i.current)js=!0;else if((m&x)!==0)js=(o.flags&16384)!==0;else{switch(js=!1,l.tag){case 3:bw(l),zp();break;case 5:rw(l);break;case 1:yi(l.type)&&Xd(l);break;case 4:qp(l,l.stateNode.containerInfo);break;case 10:x=l.memoizedProps.value;var j=l.type._context;$r(ef,j._currentValue),j._currentValue=x;break;case 13:if(l.memoizedState!==null)return(m&l.child.childLanes)!==0?Sw(o,l,m):($r(Ur,Ur.current&1),l=Xo(o,l,m),l!==null?l.sibling:null);$r(Ur,Ur.current&1);break;case 19:if(x=(m&l.childLanes)!==0,(o.flags&64)!==0){if(x)return Tw(o,l,m);l.flags|=64}if(j=l.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),$r(Ur,Ur.current),x)break;return null;case 23:case 24:return l.lanes=0,Zp(o,l,m)}return Xo(o,l,m)}else js=!1;switch(l.lanes=0,l.tag){case 2:if(x=l.type,o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps,j=Zc(l,Hn.current),rl(l,m),j=Kp(null,l,x,o,j,m),l.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0){if(l.tag=1,l.memoizedState=null,l.updateQueue=null,yi(x)){var W=!0;Xd(l)}else W=!1;l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,$p(l);var X=x.getDerivedStateFromProps;typeof X=="function"&&nf(l,x,X,o),j.updater=sf,l.stateNode=j,j._reactInternals=l,Up(l,x,o,m),l=tm(null,l,x,!0,W,m)}else l.tag=0,bi(null,l,j,m),l=l.child;return l;case 16:j=l.elementType;e:{switch(o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps,W=j._init,j=W(j._payload),l.type=j,W=l.tag=fR(j),o=As(j,o),W){case 0:l=em(null,l,j,o,m);break e;case 1:l=ww(null,l,j,o,m);break e;case 11:l=gw(null,l,j,o,m);break e;case 14:l=vw(null,l,j,As(j.type,o),x,m);break e}throw Error(t(306,j,""))}return l;case 0:return x=l.type,j=l.pendingProps,j=l.elementType===x?j:As(x,j),em(o,l,x,j,m);case 1:return x=l.type,j=l.pendingProps,j=l.elementType===x?j:As(x,j),ww(o,l,x,j,m);case 3:if(bw(l),x=l.updateQueue,o===null||x===null)throw Error(t(282));if(x=l.pendingProps,j=l.memoizedState,j=j!==null?j.element:null,Yy(o,l),Ql(l,x,null,m),x=l.memoizedState.element,x===j)zp(),l=Xo(o,l,m);else{if(j=l.stateNode,(W=j.hydrate)&&(Oa=xa(l.stateNode.containerInfo.firstChild),Jo=l,W=So=!0),W){if(o=j.mutableSourceEagerHydrationData,o!=null)for(j=0;j<o.length;j+=2)W=o[j],W._workInProgressVersionPrimary=o[j+1],il.push(W);for(m=tw(l,null,x,m),l.child=m;m;)m.flags=m.flags&-3|1024,m=m.sibling}else bi(o,l,x,m),zp();l=l.child}return l;case 5:return rw(l),o===null&&Vp(l),x=l.type,j=l.pendingProps,W=o!==null?o.memoizedProps:null,X=j.children,ka(x,j)?X=null:W!==null&&ka(x,W)&&(l.flags|=16),yw(o,l),bi(o,l,X,m),l.child;case 6:return o===null&&Vp(l),null;case 13:return Sw(o,l,m);case 4:return qp(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=cf(l,null,x,m):bi(o,l,x,m),l.child;case 11:return x=l.type,j=l.pendingProps,j=l.elementType===x?j:As(x,j),gw(o,l,x,j,m);case 7:return bi(o,l,l.pendingProps,m),l.child;case 8:return bi(o,l,l.pendingProps.children,m),l.child;case 12:return bi(o,l,l.pendingProps.children,m),l.child;case 10:e:{x=l.type._context,j=l.pendingProps,X=l.memoizedProps,W=j.value;var ne=l.type._context;if($r(ef,ne._currentValue),ne._currentValue=W,X!==null)if(ne=X.value,W=lt(ne,W)?0:(typeof x._calculateChangedBits=="function"?x._calculateChangedBits(ne,W):1073741823)|0,W===0){if(X.children===j.children&&!_i.current){l=Xo(o,l,m);break e}}else for(ne=l.child,ne!==null&&(ne.return=l);ne!==null;){var pe=ne.dependencies;if(pe!==null){X=ne.child;for(var Pe=pe.firstContext;Pe!==null;){if(Pe.context===x&&(Pe.observedBits&W)!==0){ne.tag===1&&(Pe=Ra(-1,m&-m),Pe.tag=2,Pa(ne,Pe)),ne.lanes|=m,Pe=ne.alternate,Pe!==null&&(Pe.lanes|=m),Wy(ne.return,m),pe.lanes|=m;break}Pe=Pe.next}}else X=ne.tag===10&&ne.type===l.type?null:ne.child;if(X!==null)X.return=ne;else for(X=ne;X!==null;){if(X===l){X=null;break}if(ne=X.sibling,ne!==null){ne.return=X.return,X=ne;break}X=X.return}ne=X}bi(o,l,j.children,m),l=l.child}return l;case 9:return j=l.type,W=l.pendingProps,x=W.children,rl(l,m),j=rs(j,W.unstable_observedBits),x=x(j),l.flags|=1,bi(o,l,x,m),l.child;case 14:return j=l.type,W=As(j,l.pendingProps),W=As(j.type,W),vw(o,l,j,W,x,m);case 15:return _w(o,l,l.type,l.pendingProps,x,m);case 17:return x=l.type,j=l.pendingProps,j=l.elementType===x?j:As(x,j),o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),l.tag=1,yi(x)?(o=!0,Xd(l)):o=!1,rl(l,m),Qy(l,x,j),Up(l,x,j,m),tm(null,l,x,!0,o,m);case 19:return Tw(o,l,m);case 23:return Zp(o,l,m);case 24:return Zp(o,l,m)}throw Error(t(156,l.tag))};function dR(o,l,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(o,l,m,x){return new dR(o,l,m,x)}function bm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fR(o){if(typeof o=="function")return bm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===oe)return 11;if(o===ye)return 14}return 2}function Na(o,l){var m=o.alternate;return m===null?(m=ss(o.tag,l,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=l,m.type=o.type,m.flags=0,m.nextEffect=null,m.firstEffect=null,m.lastEffect=null),m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,l=o.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function xf(o,l,m,x,j,W){var X=2;if(x=o,typeof o=="function")bm(o)&&(X=1);else if(typeof o=="string")X=5;else e:switch(o){case F:return ul(m.children,j,W,l);case ve:X=8,j|=16;break;case I:X=8,j|=1;break;case U:return o=ss(12,m,l,j|8),o.elementType=U,o.type=U,o.lanes=W,o;case Z:return o=ss(13,m,l,j),o.type=Z,o.elementType=Z,o.lanes=W,o;case de:return o=ss(19,m,l,j),o.elementType=de,o.lanes=W,o;case fe:return Sm(m,j,W,l);case ke:return o=ss(24,m,l,j),o.elementType=ke,o.lanes=W,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case K:X=10;break e;case Q:X=9;break e;case oe:X=11;break e;case ye:X=14;break e;case q:X=16,x=null;break e;case ee:X=22;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=ss(X,m,l,j),l.elementType=o,l.type=x,l.lanes=W,l}function ul(o,l,m,x){return o=ss(7,o,x,l),o.lanes=m,o}function Sm(o,l,m,x){return o=ss(23,o,x,l),o.elementType=fe,o.lanes=m,o}function Cm(o,l,m){return o=ss(6,o,null,l),o.lanes=m,o}function km(o,l,m){return l=ss(4,o.children!==null?o.children:[],o.key,l),l.lanes=m,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function hR(o,l,m){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=m,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.mutableSourceEagerHydrationData=null}function pR(o,l,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:x==null?null:""+x,children:o,containerInfo:l,implementation:m}}function Ef(o,l,m,x){var j=l.current,W=Bi(),X=Ma(j);e:if(m){m=m._reactInternals;t:{if(tn(m)!==m||m.tag!==1)throw Error(t(170));var ne=m;do{switch(ne.tag){case 3:ne=ne.stateNode.context;break t;case 1:if(yi(ne.type)){ne=ne.stateNode.__reactInternalMemoizedMergedChildContext;break t}}ne=ne.return}while(ne!==null);throw Error(t(171))}if(m.tag===1){var pe=m.type;if(yi(pe)){m=Ny(m,pe,ne);break e}}m=ne}else m=Ea;return l.context===null?l.context=m:l.pendingContext=m,l=Ra(W,X),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),Pa(j,l),Aa(j,X,W),X}function xm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Xw(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<l?m:l}}function Em(o,l){Xw(o,l),(o=o.alternate)&&Xw(o,l)}function mR(){return null}function Tm(o,l,m){var x=m!=null&&m.hydrationOptions!=null&&m.hydrationOptions.mutableSources||null;if(m=new hR(o,l,m!=null&&m.hydrate===!0),l=ss(3,null,null,l===2?7:l===1?3:0),m.current=l,l.stateNode=m,$p(l),o[E]=m.current,_o(o.nodeType===8?o.parentNode:o),x)for(o=0;o<x.length;o++){l=x[o];var j=l._getVersion;j=j(l._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[l,j]:m.mutableSourceEagerHydrationData.push(l,j)}this._internalRoot=m}Tm.prototype.render=function(o){Ef(o,this._internalRoot,null,null)},Tm.prototype.unmount=function(){var o=this._internalRoot,l=o.containerInfo;Ef(null,o,null,function(){l[E]=null})};function gu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function gR(o,l){if(l||(l=o?o.nodeType===9?o.documentElement:o.firstChild:null,l=!(!l||l.nodeType!==1||!l.hasAttribute("data-reactroot"))),!l)for(var m;m=o.lastChild;)o.removeChild(m);return new Tm(o,0,l?{hydrate:!0}:void 0)}function Tf(o,l,m,x,j){var W=m._reactRootContainer;if(W){var X=W._internalRoot;if(typeof j=="function"){var ne=j;j=function(){var Pe=xm(X);ne.call(Pe)}}Ef(l,X,o,j)}else{if(W=m._reactRootContainer=gR(m,x),X=W._internalRoot,typeof j=="function"){var pe=j;j=function(){var Pe=xm(X);pe.call(Pe)}}Hw(function(){Ef(l,X,o,j)})}return xm(X)}Mi=function(o){if(o.tag===13){var l=Bi();Aa(o,4,l),Em(o,4)}},oo=function(o){if(o.tag===13){var l=Bi();Aa(o,67108864,l),Em(o,67108864)}},ws=function(o){if(o.tag===13){var l=Bi(),m=Ma(o);Aa(o,m,l),Em(o,m)}},Ji=function(o,l){return l()},Yr=function(o,l,m){switch(l){case"input":if(xn(o,m),l=m.name,m.type==="radio"&&l!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var x=m[l];if(x!==o&&x.form===o.form){var j=Ye(x);if(!j)throw Error(t(90));cr(x),xn(x,j)}}}break;case"textarea":$n(o,m);break;case"select":l=m.value,l!=null&&Yt(o,!!m.multiple,l,!1)}},di=qw,fi=function(o,l,m,x,j){var W=Et;Et|=4;try{return dc(98,o.bind(null,l,m,x,j))}finally{Et=W,Et===0&&(al(),wo())}},hi=function(){(Et&49)===0&&(rR(),ja())},Pi=function(o,l){var m=Et;Et|=2;try{return o(l)}finally{Et=m,Et===0&&(al(),wo())}};function Qw(o,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(l))throw Error(t(200));return pR(o,l,null,m)}var vR={Events:[te,xe,Ye,ro,gs,ja,{current:!1}]},vu={findFiberByHostInstance:H,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},_R={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=io(o),o===null?null:o.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Mp=Rf.inject(_R),uc=Rf}catch{}}return $i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR,$i.createPortal=Qw,$i.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):Error(t(268,Object.keys(o)));return o=io(l),o=o===null?null:o.stateNode,o},$i.flushSync=function(o,l){var m=Et;if((m&48)!==0)return o(l);Et|=1;try{if(o)return dc(99,o.bind(null,l))}finally{Et=m,wo()}},$i.hydrate=function(o,l,m){if(!gu(l))throw Error(t(200));return Tf(null,o,l,!0,m)},$i.render=function(o,l,m){if(!gu(l))throw Error(t(200));return Tf(null,o,l,!1,m)},$i.unmountComponentAtNode=function(o){if(!gu(o))throw Error(t(40));return o._reactRootContainer?(Hw(function(){Tf(null,null,o,!1,function(){o._reactRootContainer=null,o[E]=null})}),!0):!1},$i.unstable_batchedUpdates=qw,$i.unstable_createPortal=function(o,l){return Qw(o,l,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},$i.unstable_renderSubtreeIntoContainer=function(o,l,m,x){if(!gu(m))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Tf(o,l,m,!1,x)},$i.version="17.0.2",$i}var db;function RR(){if(db)return Dm.exports;db=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=TR(),Dm.exports}var kd=RR();const zu=Ei(kd);var Pf={exports:{}},_u={},jm,fb;function Jk(){if(fb)return jm;fb=1;var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];jm=function(i){var a=i,u=i.indexOf("["),p=i.indexOf("]");u!=-1&&p!=-1&&(i=i.substring(0,u)+i.substring(u,p).replace(/:/g,";")+i.substring(p,i.length));for(var c=r.exec(i||""),f={},d=14;d--;)f[e[d]]=c[d]||"";return u!=-1&&p!=-1&&(f.source=a,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=n(f,f.path),f.queryKey=t(f,f.query),f};function n(s,i){var a=/\/{2,9}/g,u=i.replace(a,"/").split("/");return(i.substr(0,1)=="/"||i.length===0)&&u.splice(0,1),i.substr(i.length-1,1)=="/"&&u.splice(u.length-1,1),u}function t(s,i){var a={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,p,c){p&&(a[p]=c)}),a}return jm}var Of={exports:{}},Lm,hb;function C_(){if(hb)return Lm;hb=1;var r=1e3,e=r*60,n=e*60,t=n*24,s=t*7,i=t*365.25;Lm=function(f,d){d=d||{};var h=typeof f;if(h==="string"&&f.length>0)return a(f);if(h==="number"&&isFinite(f))return d.long?p(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var h=parseFloat(d[1]),w=(d[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*t;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function u(f){var d=Math.abs(f);return d>=t?Math.round(f/t)+"d":d>=n?Math.round(f/n)+"h":d>=e?Math.round(f/e)+"m":d>=r?Math.round(f/r)+"s":f+"ms"}function p(f){var d=Math.abs(f);return d>=t?c(f,d,t,"day"):d>=n?c(f,d,n,"hour"):d>=e?c(f,d,e,"minute"):d>=r?c(f,d,r,"second"):f+" ms"}function c(f,d,h,w){var R=d>=h*1.5;return Math.round(f/h)+" "+w+(R?"s":"")}return Lm}var Nm,pb;function PR(){if(pb)return Nm;pb=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=C_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Nm=r,Nm}var mb;function Uh(){return mb||(mb=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=PR()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Of,Of.exports)),Of.exports}var gb;function OR(){if(gb)return _u;gb=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.url=void 0;const r=Jk(),e=Uh()("socket.io-client:url");function n(t,s="",i){let a=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(e("protocol-less url %s",t),typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),e("parse %s",t),a=r(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const p=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+p+":"+a.port+s,a.href=a.protocol+"://"+p+(i&&i.port===a.port?"":":"+a.port),a}return _u.url=n,_u}var yu={},Ba={exports:{}},Df={},Mf={exports:{}},vb;function DR(){if(vb)return Mf.exports;vb=1;try{Mf.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Mf.exports=!1}return Mf.exports}var Im,_b;function qh(){return _b||(_b=1,Im=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()),Im}var Fm,yb;function Xk(){if(yb)return Fm;yb=1;const r=DR(),e=qh();return Fm=function(n){const t=n.xdomain,s=n.xscheme,i=n.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||r))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!s&&i)return new XDomainRequest}catch{}if(!t)try{return new e[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},Fm}var Af={exports:{}},Bm,wb;function Qk(){if(wb)return Bm;wb=1;const r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const e=Object.create(null);return Object.keys(r).forEach(t=>{e[r[t]]=t}),Bm={PACKET_TYPES:r,PACKET_TYPES_REVERSE:e,ERROR_PACKET:{type:"error",data:"parser error"}},Bm}var $m,bb;function MR(){if(bb)return $m;bb=1;const{PACKET_TYPES:r}=Qk(),e=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",n=typeof ArrayBuffer=="function",t=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,s=({type:a,data:u},p,c)=>e&&u instanceof Blob?p?c(u):i(u,c):n&&(u instanceof ArrayBuffer||t(u))?p?c(u):i(new Blob([u]),c):c(r[a]+(u||"")),i=(a,u)=>{const p=new FileReader;return p.onload=function(){const c=p.result.split(",")[1];u("b"+c)},p.readAsDataURL(a)};return $m=s,$m}var jf={},Sb;function AR(){return Sb||(Sb=1,function(r){jf.encode=function(e){var n=new Uint8Array(e),t,s=n.length,i="";for(t=0;t<s;t+=3)i+=r[n[t]>>2],i+=r[(n[t]&3)<<4|n[t+1]>>4],i+=r[(n[t+1]&15)<<2|n[t+2]>>6],i+=r[n[t+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i},jf.decode=function(e){var n=e.length*.75,t=e.length,s,i=0,a,u,p,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var f=new ArrayBuffer(n),d=new Uint8Array(f);for(s=0;s<t;s+=4)a=r.indexOf(e[s]),u=r.indexOf(e[s+1]),p=r.indexOf(e[s+2]),c=r.indexOf(e[s+3]),d[i++]=a<<2|u>>4,d[i++]=(u&15)<<4|p>>2,d[i++]=(p&3)<<6|c&63;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),jf}var Um,Cb;function jR(){if(Cb)return Um;Cb=1;const{PACKET_TYPES_REVERSE:r,ERROR_PACKET:e}=Qk(),n=typeof ArrayBuffer=="function";let t;n&&(t=AR());const s=(u,p)=>{if(typeof u!="string")return{type:"message",data:a(u,p)};const c=u.charAt(0);return c==="b"?{type:"message",data:i(u.substring(1),p)}:r[c]?u.length>1?{type:r[c],data:u.substring(1)}:{type:r[c]}:e},i=(u,p)=>{if(t){const c=t.decode(u);return a(c,p)}else return{base64:!0,data:u}},a=(u,p)=>{switch(p){case"blob":return u instanceof ArrayBuffer?new Blob([u]):u;case"arraybuffer":default:return u}};return Um=s,Um}var qm,kb;function xd(){if(kb)return qm;kb=1;const r=MR(),e=jR(),n="";return qm={protocol:4,encodePacket:r,encodePayload:(i,a)=>{const u=i.length,p=new Array(u);let c=0;i.forEach((f,d)=>{r(f,!1,h=>{p[d]=h,++c===u&&a(p.join(n))})})},decodePacket:e,decodePayload:(i,a)=>{const u=i.split(n),p=[];for(let c=0;c<u.length;c++){const f=e(u[c],a);if(p.push(f),f.type==="error")break}return p}},qm}var Hm={exports:{}},xb;function Nl(){return xb||(xb=1,function(r){r.exports=e;function e(t){if(t)return n(t)}function n(t){for(var s in e.prototype)t[s]=e.prototype[s];return t}e.prototype.on=e.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this},e.prototype.once=function(t,s){function i(){this.off(t,i),s.apply(this,arguments)}return i.fn=s,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,u=0;u<i.length;u++)if(a=i[u],a===s||a.fn===s){i.splice(u,1);break}return i.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),i=this._callbacks["$"+t],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(i){i=i.slice(0);for(var a=0,u=i.length;a<u;++a)i[a].apply(this,s)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Hm)),Hm.exports}var Lf={exports:{}},Vm,Eb;function LR(){if(Eb)return Vm;Eb=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=C_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Vm=r,Vm}var Tb;function Ed(){return Tb||(Tb=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=LR()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Lf,Lf.exports)),Lf.exports}var zm,Rb;function k_(){if(Rb)return zm;Rb=1;const r=xd(),e=Nl(),n=Ed()("engine.io-client:transport");class t extends e{constructor(i){super(),this.opts=i,this.query=i.query,this.readyState="",this.socket=i.socket}onError(i,a){const u=new Error(i);return u.type="TransportError",u.description=a,this.emit("error",u),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(i){this.readyState==="open"?this.write(i):n("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(i){const a=r.decodePacket(i,this.socket.binaryType);this.onPacket(a)}onPacket(i){this.emit("packet",i)}onClose(){this.readyState="closed",this.emit("close")}}return zm=t,zm}var Nf={},Pb;function x_(){return Pb||(Pb=1,Nf.encode=function(r){var e="";for(var n in r)r.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e},Nf.decode=function(r){for(var e={},n=r.split("&"),t=0,s=n.length;t<s;t++){var i=n[t].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}),Nf}var Wm,Ob;function Zk(){if(Ob)return Wm;Ob=1;var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),e=64,n={},t=0,s=0,i;function a(c){var f="";do f=r[c%e]+f,c=Math.floor(c/e);while(c>0);return f}function u(c){var f=0;for(s=0;s<c.length;s++)f=f*e+n[c.charAt(s)];return f}function p(){var c=a(+new Date);return c!==i?(t=0,i=c):c+"."+a(t++)}for(;s<e;s++)n[r[s]]=s;return p.encode=a,p.decode=u,Wm=p,Wm}var Ym,Db;function ex(){if(Db)return Ym;Db=1;const r=k_(),e=x_(),n=xd(),t=Zk(),s=Ed()("engine.io-client:polling");class i extends r{get name(){return"polling"}doOpen(){this.poll()}pause(u){const p=this;this.readyState="pausing";function c(){s("paused"),p.readyState="paused",u()}if(this.polling||!this.writable){let f=0;this.polling&&(s("we are currently polling - waiting to pause"),f++,this.once("pollComplete",function(){s("pre-pause polling complete"),--f||c()})),this.writable||(s("we are currently writing - waiting to pause"),f++,this.once("drain",function(){s("pre-pause writing complete"),--f||c()}))}else c()}poll(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(u){const p=this;s("polling got data %s",u);const c=function(f,d,h){if(p.readyState==="opening"&&f.type==="open"&&p.onOpen(),f.type==="close")return p.onClose(),!1;p.onPacket(f)};n.decodePayload(u,this.socket.binaryType).forEach(c),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():s('ignoring poll - transport state "%s"',this.readyState))}doClose(){const u=this;function p(){s("writing close packet"),u.write([{type:"close"}])}this.readyState==="open"?(s("transport open - closing"),p()):(s("transport not open - deferring close"),this.once("open",p))}write(u){this.writable=!1,n.encodePayload(u,p=>{this.doWrite(p,()=>{this.writable=!0,this.emit("drain")})})}uri(){let u=this.query||{};const p=this.opts.secure?"https":"http";let c="";this.opts.timestampRequests!==!1&&(u[this.opts.timestampParam]=t()),!this.supportsBinary&&!u.sid&&(u.b64=1),u=e.encode(u),this.opts.port&&(p==="https"&&Number(this.opts.port)!==443||p==="http"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port),u.length&&(u="?"+u);const f=this.opts.hostname.indexOf(":")!==-1;return p+"://"+(f?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+u}}return Ym=i,Ym}var Km={},Mb;function tx(){return Mb||(Mb=1,Km.pick=(r,...e)=>e.reduce((n,t)=>(r.hasOwnProperty(t)&&(n[t]=r[t]),n),{})),Km}var Ab;function NR(){if(Ab)return Af.exports;Ab=1;const r=Xk(),e=ex(),n=Nl(),{pick:t}=tx(),s=qh(),i=Ed()("engine.io-client:polling-xhr");function a(){}const u=function(){return new r({xdomain:!1}).responseType!=null}();class p extends e{constructor(h){if(super(h),typeof location<"u"){const R=location.protocol==="https:";let S=location.port;S||(S=R?443:80),this.xd=typeof location<"u"&&h.hostname!==location.hostname||S!==h.port,this.xs=h.secure!==R}const w=h&&h.forceBase64;this.supportsBinary=u&&!w}request(h={}){return Object.assign(h,{xd:this.xd,xs:this.xs},this.opts),new c(this.uri(),h)}doWrite(h,w){const R=this.request({method:"POST",data:h}),S=this;R.on("success",w),R.on("error",function(_){S.onError("xhr post error",_)})}doPoll(){i("xhr poll");const h=this.request(),w=this;h.on("data",function(R){w.onData(R)}),h.on("error",function(R){w.onError("xhr poll error",R)}),this.pollXhr=h}}class c extends n{constructor(h,w){super(),this.opts=w,this.method=w.method||"GET",this.uri=h,this.async=w.async!==!1,this.data=w.data!==void 0?w.data:null,this.create()}create(){const h=t(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");h.xdomain=!!this.opts.xd,h.xscheme=!!this.opts.xs;const w=this.xhr=new r(h),R=this;try{i("xhr open %s: %s",this.method,this.uri),w.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){w.setDisableHeaderCheck&&w.setDisableHeaderCheck(!0);for(let S in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(S)&&w.setRequestHeader(S,this.opts.extraHeaders[S])}}catch{}if(this.method==="POST")try{w.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{w.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in w&&(w.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(w.timeout=this.opts.requestTimeout),this.hasXDR()?(w.onload=function(){R.onLoad()},w.onerror=function(){R.onError(w.responseText)}):w.onreadystatechange=function(){w.readyState===4&&(w.status===200||w.status===1223?R.onLoad():setTimeout(function(){R.onError(typeof w.status=="number"?w.status:0)},0))},i("xhr data %s",this.data),w.send(this.data)}catch(S){setTimeout(function(){R.onError(S)},0);return}typeof document<"u"&&(this.index=c.requestsCount++,c.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(h){this.emit("data",h),this.onSuccess()}onError(h){this.emit("error",h),this.cleanup(!0)}cleanup(h){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,h)try{this.xhr.abort()}catch{}typeof document<"u"&&delete c.requests[this.index],this.xhr=null}}onLoad(){const h=this.xhr.responseText;h!==null&&this.onData(h)}hasXDR(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(c.requestsCount=0,c.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",f);else if(typeof addEventListener=="function"){const d="onpagehide"in s?"pagehide":"unload";addEventListener(d,f,!1)}}function f(){for(let d in c.requests)c.requests.hasOwnProperty(d)&&c.requests[d].abort()}return Af.exports=p,Af.exports.Request=c,Af.exports}var Gm,jb;function IR(){if(jb)return Gm;jb=1;const r=ex(),e=qh(),n=/\n/g,t=/\\n/g;let s;class i extends r{constructor(u){super(u),this.query=this.query||{},s||(s=e.___eio=e.___eio||[]),this.index=s.length;const p=this;s.push(function(c){p.onData(c)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const u=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(d){u.onError("jsonp poll error",d)};const c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(p,c):(document.head||document.body).appendChild(p),this.script=p,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const d=document.createElement("iframe");document.body.appendChild(d),document.body.removeChild(d)},100)}doWrite(u,p){const c=this;let f;if(!this.form){const w=document.createElement("form"),R=document.createElement("textarea"),S=this.iframeId="eio_iframe_"+this.index;w.className="socketio",w.style.position="absolute",w.style.top="-1000px",w.style.left="-1000px",w.target=S,w.method="POST",w.setAttribute("accept-charset","utf-8"),R.name="d",w.appendChild(R),document.body.appendChild(w),this.form=w,this.area=R}this.form.action=this.uri();function d(){h(),p()}function h(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(w){c.onError("jsonp polling iframe removal error",w)}try{const w='<iframe src="javascript:0" name="'+c.iframeId+'">';f=document.createElement(w)}catch{f=document.createElement("iframe"),f.name=c.iframeId,f.src="javascript:0"}f.id=c.iframeId,c.form.appendChild(f),c.iframe=f}h(),u=u.replace(t,`\\
`),this.area.value=u.replace(n,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){c.iframe.readyState==="complete"&&d()}:this.iframe.onload=d}}return Gm=i,Gm}var Jm,Lb;function FR(){if(Lb)return Jm;Lb=1;const r=qh();return Jm={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"},Jm}var Xm,Nb;function BR(){if(Nb)return Xm;Nb=1;const r=k_(),e=xd(),n=x_(),t=Zk(),{pick:s}=tx(),{WebSocket:i,usingBrowserWebSocket:a,defaultBinaryType:u}=FR(),p=Ed()("engine.io-client:websocket"),c=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class f extends r{constructor(h){super(h),this.supportsBinary=!h.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const h=this.uri(),w=this.opts.protocols,R=c?{}:s(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(R.headers=this.opts.extraHeaders);try{this.ws=a&&!c?w?new i(h,w):new i(h):new i(h,w,R)}catch(S){return this.emit("error",S)}this.ws.binaryType=this.socket.binaryType||u,this.addEventListeners()}addEventListeners(){const h=this;this.ws.onopen=function(){h.onOpen()},this.ws.onclose=function(){h.onClose()},this.ws.onmessage=function(w){h.onData(w.data)},this.ws.onerror=function(w){h.onError("websocket error",w)}}write(h){const w=this;this.writable=!1;let R=h.length,S=0;const _=R;for(;S<_;S++)(function(C){e.encodePacket(C,w.supportsBinary,function(T){const M={};a||(C.options&&(M.compress=C.options.compress),w.opts.perMessageDeflate&&(typeof T=="string"?Buffer.byteLength(T):T.length)<w.opts.perMessageDeflate.threshold&&(M.compress=!1));try{a?w.ws.send(T):w.ws.send(T,M)}catch{p("websocket closed before onclose event")}--R||v()})})(h[S]);function v(){w.emit("flush"),setTimeout(function(){w.writable=!0,w.emit("drain")},0)}}onClose(){r.prototype.onClose.call(this)}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let h=this.query||{};const w=this.opts.secure?"wss":"ws";let R="";this.opts.port&&(w==="wss"&&Number(this.opts.port)!==443||w==="ws"&&Number(this.opts.port)!==80)&&(R=":"+this.opts.port),this.opts.timestampRequests&&(h[this.opts.timestampParam]=t()),this.supportsBinary||(h.b64=1),h=n.encode(h),h.length&&(h="?"+h);const S=this.opts.hostname.indexOf(":")!==-1;return w+"://"+(S?"["+this.opts.hostname+"]":this.opts.hostname)+R+this.opts.path+h}check(){return!!i&&!("__initialize"in i&&this.name===f.prototype.name)}}return Xm=f,Xm}var Ib;function rx(){if(Ib)return Df;Ib=1;const r=Xk(),e=NR(),n=IR(),t=BR();Df.polling=s,Df.websocket=t;function s(i){let a,u=!1,p=!1;const c=i.jsonp!==!1;if(typeof location<"u"){const f=location.protocol==="https:";let d=location.port;d||(d=f?443:80),u=i.hostname!==location.hostname||d!==i.port,p=i.secure!==f}if(i.xdomain=u,i.xscheme=p,a=new r(i),"open"in a&&!i.forceJSONP)return new e(i);if(!c)throw new Error("JSONP disabled");return new n(i)}return Df}var Qm,Fb;function $R(){if(Fb)return Qm;Fb=1;const r=rx(),e=Nl(),n=Ed()("engine.io-client:socket"),t=xd(),s=Jk(),i=x_();class a extends e{constructor(c,f={}){super(),c&&typeof c=="object"&&(f=c,c=null),c?(c=s(c),f.hostname=c.host,f.secure=c.protocol==="https"||c.protocol==="wss",f.port=c.port,c.query&&(f.query=c.query)):f.host&&(f.hostname=s(f.host).host),this.secure=f.secure!=null?f.secure:typeof location<"u"&&location.protocol==="https:",f.hostname&&!f.port&&(f.port=this.secure?"443":"80"),this.hostname=f.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=f.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.transports=f.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},f),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=i.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.open()}createTransport(c){n('creating transport "%s"',c);const f=u(this.opts.query);f.EIO=t.protocol,f.transport=c,this.id&&(f.sid=this.id);const d=Object.assign({},this.opts.transportOptions[c],this.opts,{query:f,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return n("options: %j",d),new r[c](d)}open(){let c;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)c="websocket";else if(this.transports.length===0){const f=this;setTimeout(function(){f.emit("error","No transports available")},0);return}else c=this.transports[0];this.readyState="opening";try{c=this.createTransport(c)}catch(f){n("error while creating transport: %s",f),this.transports.shift(),this.open();return}c.open(),this.setTransport(c)}setTransport(c){n("setting transport %s",c.name);const f=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=c,c.on("drain",function(){f.onDrain()}).on("packet",function(d){f.onPacket(d)}).on("error",function(d){f.onError(d)}).on("close",function(){f.onClose("transport close")})}probe(c){n('probing transport "%s"',c);let f=this.createTransport(c,{probe:1}),d=!1;const h=this;a.priorWebsocketSuccess=!1;function w(){if(h.onlyBinaryUpgrades){const M=!this.supportsBinary&&h.transport.supportsBinary;d=d||M}d||(n('probe transport "%s" opened',c),f.send([{type:"ping",data:"probe"}]),f.once("packet",function(M){if(!d)if(M.type==="pong"&&M.data==="probe"){if(n('probe transport "%s" pong',c),h.upgrading=!0,h.emit("upgrading",f),!f)return;a.priorWebsocketSuccess=f.name==="websocket",n('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||h.readyState!=="closed"&&(n("changing transport and sending upgrade packet"),T(),h.setTransport(f),f.send([{type:"upgrade"}]),h.emit("upgrade",f),f=null,h.upgrading=!1,h.flush())})}else{n('probe transport "%s" failed',c);const k=new Error("probe error");k.transport=f.name,h.emit("upgradeError",k)}}))}function R(){d||(d=!0,T(),f.close(),f=null)}function S(M){const k=new Error("probe error: "+M);k.transport=f.name,R(),n('probe transport "%s" failed because of error: %s',c,M),h.emit("upgradeError",k)}function _(){S("transport closed")}function v(){S("socket closed")}function C(M){f&&M.name!==f.name&&(n('"%s" works - aborting "%s"',M.name,f.name),R())}function T(){f.removeListener("open",w),f.removeListener("error",S),f.removeListener("close",_),h.removeListener("close",v),h.removeListener("upgrading",C)}f.once("open",w),f.once("error",S),f.once("close",_),this.once("close",v),this.once("upgrading",C),f.open()}onOpen(){if(n("socket open"),this.readyState="open",a.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){n("starting upgrade probes");let c=0;const f=this.upgrades.length;for(;c<f;c++)this.probe(this.upgrades[c])}}onPacket(c){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(n('socket receive: type "%s", data "%s"',c.type,c.data),this.emit("packet",c),this.emit("heartbeat"),c.type){case"open":this.onHandshake(JSON.parse(c.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const f=new Error("server error");f.code=c.data,this.onError(f);break;case"message":this.emit("data",c.data),this.emit("message",c.data);break}else n('packet received with socket readyState "%s"',this.readyState)}onHandshake(c){this.emit("handshake",c),this.id=c.sid,this.transport.query.sid=c.sid,this.upgrades=this.filterUpgrades(c.upgrades),this.pingInterval=c.pingInterval,this.pingTimeout=c.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(c,f,d){return this.sendPacket("message",c,f,d),this}send(c,f,d){return this.sendPacket("message",c,f,d),this}sendPacket(c,f,d,h){if(typeof f=="function"&&(h=f,f=void 0),typeof d=="function"&&(h=d,d=null),this.readyState==="closing"||this.readyState==="closed")return;d=d||{},d.compress=d.compress!==!1;const w={type:c,data:f,options:d};this.emit("packetCreate",w),this.writeBuffer.push(w),h&&this.once("flush",h),this.flush()}close(){const c=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?h():f()}):this.upgrading?h():f());function f(){c.onClose("forced close"),n("socket closing - telling transport to close"),c.transport.close()}function d(){c.removeListener("upgrade",d),c.removeListener("upgradeError",d),f()}function h(){c.once("upgrade",d),c.once("upgradeError",d)}return this}onError(c){n("socket error %j",c),a.priorWebsocketSuccess=!1,this.emit("error",c),this.onClose("transport error",c)}onClose(c,f){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){n('socket close with reason: "%s"',c);const d=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",c,f),d.writeBuffer=[],d.prevBufferLen=0}}filterUpgrades(c){const f=[];let d=0;const h=c.length;for(;d<h;d++)~this.transports.indexOf(c[d])&&f.push(c[d]);return f}}a.priorWebsocketSuccess=!1,a.protocol=t.protocol;function u(p){const c={};for(let f in p)p.hasOwnProperty(f)&&(c[f]=p[f]);return c}return Qm=a,Qm}var Bb;function UR(){if(Bb)return Ba.exports;Bb=1;const r=$R();return Ba.exports=(e,n)=>new r(e,n),Ba.exports.Socket=r,Ba.exports.protocol=r.protocol,Ba.exports.Transport=k_(),Ba.exports.transports=rx(),Ba.exports.parser=xd(),Ba.exports}var wu={},Zm={},vc={},_c={},$b;function nx(){if($b)return _c;$b=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.hasBinary=_c.isBinary=void 0;const r=typeof ArrayBuffer=="function",e=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,n=Object.prototype.toString,t=typeof Blob=="function"||typeof Blob<"u"&&n.call(Blob)==="[object BlobConstructor]",s=typeof File=="function"||typeof File<"u"&&n.call(File)==="[object FileConstructor]";function i(u){return r&&(u instanceof ArrayBuffer||e(u))||t&&u instanceof Blob||s&&u instanceof File}_c.isBinary=i;function a(u,p){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let c=0,f=u.length;c<f;c++)if(a(u[c]))return!0;return!1}if(i(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return a(u.toJSON(),!0);for(const c in u)if(Object.prototype.hasOwnProperty.call(u,c)&&a(u[c]))return!0;return!1}return _c.hasBinary=a,_c}var Ub;function qR(){if(Ub)return vc;Ub=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.reconstructPacket=vc.deconstructPacket=void 0;const r=nx();function e(i){const a=[],u=i.data,p=i;return p.data=n(u,a),p.attachments=a.length,{packet:p,buffers:a}}vc.deconstructPacket=e;function n(i,a){if(!i)return i;if(r.isBinary(i)){const u={_placeholder:!0,num:a.length};return a.push(i),u}else if(Array.isArray(i)){const u=new Array(i.length);for(let p=0;p<i.length;p++)u[p]=n(i[p],a);return u}else if(typeof i=="object"&&!(i instanceof Date)){const u={};for(const p in i)i.hasOwnProperty(p)&&(u[p]=n(i[p],a));return u}return i}function t(i,a){return i.data=s(i.data,a),i.attachments=void 0,i}vc.reconstructPacket=t;function s(i,a){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<a.length)return a[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let u=0;u<i.length;u++)i[u]=s(i[u],a);else if(typeof i=="object")for(const u in i)i.hasOwnProperty(u)&&(i[u]=s(i[u],a));return i}return vc}var If={exports:{}},eg,qb;function HR(){if(qb)return eg;qb=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=C_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return eg=r,eg}var Hb;function VR(){return Hb||(Hb=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=HR()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(If,If.exports)),If.exports}var Vb;function E_(){return Vb||(Vb=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Decoder=r.Encoder=r.PacketType=r.protocol=void 0;const e=Nl(),n=qR(),t=nx(),s=VR()("socket.io-parser");r.protocol=5;var i;(function(f){f[f.CONNECT=0]="CONNECT",f[f.DISCONNECT=1]="DISCONNECT",f[f.EVENT=2]="EVENT",f[f.ACK=3]="ACK",f[f.CONNECT_ERROR=4]="CONNECT_ERROR",f[f.BINARY_EVENT=5]="BINARY_EVENT",f[f.BINARY_ACK=6]="BINARY_ACK"})(i=r.PacketType||(r.PacketType={}));class a{encode(d){return s("encoding packet %j",d),(d.type===i.EVENT||d.type===i.ACK)&&t.hasBinary(d)?(d.type=d.type===i.EVENT?i.BINARY_EVENT:i.BINARY_ACK,this.encodeAsBinary(d)):[this.encodeAsString(d)]}encodeAsString(d){let h=""+d.type;return(d.type===i.BINARY_EVENT||d.type===i.BINARY_ACK)&&(h+=d.attachments+"-"),d.nsp&&d.nsp!=="/"&&(h+=d.nsp+","),d.id!=null&&(h+=d.id),d.data!=null&&(h+=JSON.stringify(d.data)),s("encoded %j as %s",d,h),h}encodeAsBinary(d){const h=n.deconstructPacket(d),w=this.encodeAsString(h.packet),R=h.buffers;return R.unshift(w),R}}r.Encoder=a;class u extends e{constructor(){super()}add(d){let h;if(typeof d=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");h=this.decodeString(d),h.type===i.BINARY_EVENT||h.type===i.BINARY_ACK?(this.reconstructor=new c(h),h.attachments===0&&super.emit("decoded",h)):super.emit("decoded",h)}else if(t.isBinary(d)||d.base64)if(this.reconstructor)h=this.reconstructor.takeBinaryData(d),h&&(this.reconstructor=null,super.emit("decoded",h));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+d)}decodeString(d){let h=0;const w={type:Number(d.charAt(0))};if(i[w.type]===void 0)throw new Error("unknown packet type "+w.type);if(w.type===i.BINARY_EVENT||w.type===i.BINARY_ACK){const S=h+1;for(;d.charAt(++h)!=="-"&&h!=d.length;);const _=d.substring(S,h);if(_!=Number(_)||d.charAt(h)!=="-")throw new Error("Illegal attachments");w.attachments=Number(_)}if(d.charAt(h+1)==="/"){const S=h+1;for(;++h&&!(d.charAt(h)===","||h===d.length););w.nsp=d.substring(S,h)}else w.nsp="/";const R=d.charAt(h+1);if(R!==""&&Number(R)==R){const S=h+1;for(;++h;){const _=d.charAt(h);if(_==null||Number(_)!=_){--h;break}if(h===d.length)break}w.id=Number(d.substring(S,h+1))}if(d.charAt(++h)){const S=p(d.substr(h));if(u.isPayloadValid(w.type,S))w.data=S;else throw new Error("invalid payload")}return s("decoded %s as %j",d,w),w}static isPayloadValid(d,h){switch(d){case i.CONNECT:return typeof h=="object";case i.DISCONNECT:return h===void 0;case i.CONNECT_ERROR:return typeof h=="string"||typeof h=="object";case i.EVENT:case i.BINARY_EVENT:return Array.isArray(h)&&h.length>0;case i.ACK:case i.BINARY_ACK:return Array.isArray(h)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}r.Decoder=u;function p(f){try{return JSON.parse(f)}catch{return!1}}class c{constructor(d){this.packet=d,this.buffers=[],this.reconPack=d}takeBinaryData(d){if(this.buffers.push(d),this.buffers.length===this.reconPack.attachments){const h=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),h}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}(Zm)),Zm}var bu={},zb;function ix(){if(zb)return bu;zb=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.on=void 0;function r(e,n,t){return e.on(n,t),function(){e.off(n,t)}}return bu.on=r,bu}var Wb;function sx(){if(Wb)return wu;Wb=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.Socket=void 0;const r=E_(),e=Nl(),n=ix(),t=Uh()("socket.io-client:socket"),s=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i extends e{constructor(u,p,c){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=u,this.nsp=p,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},c&&c.auth&&(this.auth=c.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const u=this.io;this.subs=[n.on(u,"open",this.onopen.bind(this)),n.on(u,"packet",this.onpacket.bind(this)),n.on(u,"error",this.onerror.bind(this)),n.on(u,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...u){return u.unshift("message"),this.emit.apply(this,u),this}emit(u,...p){if(s.hasOwnProperty(u))throw new Error('"'+u+'" is a reserved event name');p.unshift(u);const c={type:r.PacketType.EVENT,data:p};c.options={},c.options.compress=this.flags.compress!==!1,typeof p[p.length-1]=="function"&&(t("emitting packet with ack id %d",this.ids),this.acks[this.ids]=p.pop(),c.id=this.ids++);const f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!f||!this.connected)?t("discard packet as the transport is not currently writable"):this.connected?this.packet(c):this.sendBuffer.push(c),this.flags={},this}packet(u){u.nsp=this.nsp,this.io._packet(u)}onopen(){t("transport is open - connecting"),typeof this.auth=="function"?this.auth(u=>{this.packet({type:r.PacketType.CONNECT,data:u})}):this.packet({type:r.PacketType.CONNECT,data:this.auth})}onerror(u){this.connected||super.emit("connect_error",u)}onclose(u){t("close (%s)",u),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",u)}onpacket(u){if(u.nsp===this.nsp)switch(u.type){case r.PacketType.CONNECT:if(u.data&&u.data.sid){const f=u.data.sid;this.onconnect(f)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:this.onevent(u);break;case r.PacketType.BINARY_EVENT:this.onevent(u);break;case r.PacketType.ACK:this.onack(u);break;case r.PacketType.BINARY_ACK:this.onack(u);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:const c=new Error(u.data.message);c.data=u.data.data,super.emit("connect_error",c);break}}onevent(u){const p=u.data||[];t("emitting event %j",p),u.id!=null&&(t("attaching ack callback to event"),p.push(this.ack(u.id))),this.connected?this.emitEvent(p):this.receiveBuffer.push(Object.freeze(p))}emitEvent(u){if(this._anyListeners&&this._anyListeners.length){const p=this._anyListeners.slice();for(const c of p)c.apply(this,u)}super.emit.apply(this,u)}ack(u){const p=this;let c=!1;return function(...f){c||(c=!0,t("sending ack %j",f),p.packet({type:r.PacketType.ACK,id:u,data:f}))}}onack(u){const p=this.acks[u.id];typeof p=="function"?(t("calling ack %s with %j",u.id,u.data),p.apply(this,u.data),delete this.acks[u.id]):t("bad ack %s",u.id)}onconnect(u){t("socket connected with id %s",u),this.id=u,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(u=>this.emitEvent(u)),this.receiveBuffer=[],this.sendBuffer.forEach(u=>this.packet(u)),this.sendBuffer=[]}ondisconnect(){t("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(u=>u()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(t("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(u){return this.flags.compress=u,this}get volatile(){return this.flags.volatile=!0,this}onAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(u),this}prependAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(u),this}offAny(u){if(!this._anyListeners)return this;if(u){const p=this._anyListeners;for(let c=0;c<p.length;c++)if(u===p[c])return p.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}return wu.Socket=i,wu}var tg,Yb;function zR(){if(Yb)return tg;Yb=1,tg=r;function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}return r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*e);e=(Math.floor(n*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e},tg}var Kb;function Gb(){if(Kb)return yu;Kb=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Manager=void 0;const r=UR(),e=sx(),n=Nl(),t=E_(),s=ix(),i=zR(),a=Uh()("socket.io-client:manager");class u extends n{constructor(c,f){super(),this.nsps={},this.subs=[],c&&typeof c=="object"&&(f=c,c=void 0),f=f||{},f.path=f.path||"/socket.io",this.opts=f,this.reconnection(f.reconnection!==!1),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1e3),this.reconnectionDelayMax(f.reconnectionDelayMax||5e3),this.randomizationFactor(f.randomizationFactor||.5),this.backoff=new i({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(f.timeout==null?2e4:f.timeout),this._readyState="closed",this.uri=c;const d=f.parser||t;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=f.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection}reconnectionAttempts(c){return c===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=c,this)}reconnectionDelay(c){var f;return c===void 0?this._reconnectionDelay:(this._reconnectionDelay=c,(f=this.backoff)===null||f===void 0||f.setMin(c),this)}randomizationFactor(c){var f;return c===void 0?this._randomizationFactor:(this._randomizationFactor=c,(f=this.backoff)===null||f===void 0||f.setJitter(c),this)}reconnectionDelayMax(c){var f;return c===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=c,(f=this.backoff)===null||f===void 0||f.setMax(c),this)}timeout(c){return arguments.length?(this._timeout=c,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(c){if(a("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;a("opening %s",this.uri),this.engine=r(this.uri,this.opts);const f=this.engine,d=this;this._readyState="opening",this.skipReconnect=!1;const h=s.on(f,"open",function(){d.onopen(),c&&c()}),w=s.on(f,"error",R=>{a("error"),d.cleanup(),d._readyState="closed",super.emit("error",R),c?c(R):d.maybeReconnectOnOpen()});if(this._timeout!==!1){const R=this._timeout;a("connect attempt will timeout after %d",R),R===0&&h();const S=setTimeout(()=>{a("connect attempt timed out after %d",R),h(),f.close(),f.emit("error",new Error("timeout"))},R);this.subs.push(function(){clearTimeout(S)})}return this.subs.push(h),this.subs.push(w),this}connect(c){return this.open(c)}onopen(){a("open"),this.cleanup(),this._readyState="open",super.emit("open");const c=this.engine;this.subs.push(s.on(c,"ping",this.onping.bind(this)),s.on(c,"data",this.ondata.bind(this)),s.on(c,"error",this.onerror.bind(this)),s.on(c,"close",this.onclose.bind(this)),s.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(c){this.decoder.add(c)}ondecoded(c){super.emit("packet",c)}onerror(c){a("error",c),super.emit("error",c)}socket(c,f){let d=this.nsps[c];return d||(d=new e.Socket(this,c,f),this.nsps[c]=d),d}_destroy(c){const f=Object.keys(this.nsps);for(const d of f)if(this.nsps[d].active){a("socket %s is still active, skipping close",d);return}this._close()}_packet(c){a("writing packet %j",c);const f=this.encoder.encode(c);for(let d=0;d<f.length;d++)this.engine.write(f[d],c.options)}cleanup(){a("cleanup"),this.subs.forEach(c=>c()),this.subs.length=0,this.decoder.destroy()}_close(){a("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(c){a("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const c=this;if(this.backoff.attempts>=this._reconnectionAttempts)a("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const f=this.backoff.duration();a("will wait %dms before reconnect attempt",f),this._reconnecting=!0;const d=setTimeout(()=>{c.skipReconnect||(a("attempting reconnect"),super.emit("reconnect_attempt",c.backoff.attempts),!c.skipReconnect&&c.open(h=>{h?(a("reconnect attempt error"),c._reconnecting=!1,c.reconnect(),super.emit("reconnect_error",h)):(a("reconnect success"),c.onreconnect())}))},f);this.subs.push(function(){clearTimeout(d)})}}onreconnect(){const c=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",c)}}return yu.Manager=u,yu}var Jb;function WR(){return Jb||(Jb=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;const n=OR(),t=Gb(),s=sx();Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return s.Socket}});const i=Uh()("socket.io-client");r.exports=e=u;const a=e.managers={};function u(f,d){typeof f=="object"&&(d=f,f=void 0),d=d||{};const h=n.url(f,d.path),w=h.source,R=h.id,S=h.path,_=a[R]&&S in a[R].nsps,v=d.forceNew||d["force new connection"]||d.multiplex===!1||_;let C;return v?(i("ignoring socket cache for %s",w),C=new t.Manager(w,d)):(a[R]||(i("new io instance for %s",w),a[R]=new t.Manager(w,d)),C=a[R]),h.query&&!d.query&&(d.query=h.queryKey),C.socket(h.path,d)}e.io=u;var p=E_();Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return p.protocol}}),e.connect=u;var c=Gb();Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return c.Manager}})}(Pf,Pf.exports)),Pf.exports}var YR=WR();const ox=Ei(YR);ox.Manager;var Ff={exports:{}},Su={},rg,Xb;function ax(){if(Xb)return rg;Xb=1;var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];rg=function(i){var a=i,u=i.indexOf("["),p=i.indexOf("]");u!=-1&&p!=-1&&(i=i.substring(0,u)+i.substring(u,p).replace(/:/g,";")+i.substring(p,i.length));for(var c=r.exec(i||""),f={},d=14;d--;)f[e[d]]=c[d]||"";return u!=-1&&p!=-1&&(f.source=a,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=n(f,f.path),f.queryKey=t(f,f.query),f};function n(s,i){var a=/\/{2,9}/g,u=i.replace(a,"/").split("/");return(i.substr(0,1)=="/"||i.length===0)&&u.splice(0,1),i.substr(i.length-1,1)=="/"&&u.splice(u.length-1,1),u}function t(s,i){var a={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,p,c){p&&(a[p]=c)}),a}return rg}var Bf={exports:{}},ng,Qb;function T_(){if(Qb)return ng;Qb=1;var r=1e3,e=r*60,n=e*60,t=n*24,s=t*7,i=t*365.25;ng=function(f,d){d=d||{};var h=typeof f;if(h==="string"&&f.length>0)return a(f);if(h==="number"&&isFinite(f))return d.long?p(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var h=parseFloat(d[1]),w=(d[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*t;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function u(f){var d=Math.abs(f);return d>=t?Math.round(f/t)+"d":d>=n?Math.round(f/n)+"h":d>=e?Math.round(f/e)+"m":d>=r?Math.round(f/r)+"s":f+"ms"}function p(f){var d=Math.abs(f);return d>=t?c(f,d,t,"day"):d>=n?c(f,d,n,"hour"):d>=e?c(f,d,e,"minute"):d>=r?c(f,d,r,"second"):f+" ms"}function c(f,d,h,w){var R=d>=h*1.5;return Math.round(f/h)+" "+w+(R?"s":"")}return ng}var ig,Zb;function KR(){if(Zb)return ig;Zb=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=T_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return ig=r,ig}var eS;function Hh(){return eS||(eS=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=KR()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Bf,Bf.exports)),Bf.exports}var tS;function GR(){if(tS)return Su;tS=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.url=void 0;const r=ax(),e=Hh()("socket.io-client:url");function n(t,s="",i){let a=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(e("protocol-less url %s",t),typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),e("parse %s",t),a=r(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const p=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+p+":"+a.port+s,a.href=a.protocol+"://"+p+(i&&i.port===a.port?"":":"+a.port),a}return Su.url=n,Su}var Cu={},$a={exports:{}},$f={},Uf={exports:{}},rS;function JR(){if(rS)return Uf.exports;rS=1;try{Uf.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Uf.exports=!1}return Uf.exports}var sg,nS;function Vh(){return nS||(nS=1,sg=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()),sg}var og,iS;function cx(){if(iS)return og;iS=1;const r=JR(),e=Vh();return og=function(n){const t=n.xdomain,s=n.xscheme,i=n.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||r))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!s&&i)return new XDomainRequest}catch{}if(!t)try{return new e[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},og}var qf={exports:{}},ag,sS;function lx(){if(sS)return ag;sS=1;const r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const e=Object.create(null);return Object.keys(r).forEach(t=>{e[r[t]]=t}),ag={PACKET_TYPES:r,PACKET_TYPES_REVERSE:e,ERROR_PACKET:{type:"error",data:"parser error"}},ag}var cg,oS;function XR(){if(oS)return cg;oS=1;const{PACKET_TYPES:r}=lx(),e=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",n=typeof ArrayBuffer=="function",t=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,s=({type:a,data:u},p,c)=>e&&u instanceof Blob?p?c(u):i(u,c):n&&(u instanceof ArrayBuffer||t(u))?p?c(u):i(new Blob([u]),c):c(r[a]+(u||"")),i=(a,u)=>{const p=new FileReader;return p.onload=function(){const c=p.result.split(",")[1];u("b"+c)},p.readAsDataURL(a)};return cg=s,cg}var Hf={},aS;function QR(){return aS||(aS=1,function(r){Hf.encode=function(e){var n=new Uint8Array(e),t,s=n.length,i="";for(t=0;t<s;t+=3)i+=r[n[t]>>2],i+=r[(n[t]&3)<<4|n[t+1]>>4],i+=r[(n[t+1]&15)<<2|n[t+2]>>6],i+=r[n[t+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Hf.decode=function(e){var n=e.length*.75,t=e.length,s,i=0,a,u,p,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var f=new ArrayBuffer(n),d=new Uint8Array(f);for(s=0;s<t;s+=4)a=r.indexOf(e[s]),u=r.indexOf(e[s+1]),p=r.indexOf(e[s+2]),c=r.indexOf(e[s+3]),d[i++]=a<<2|u>>4,d[i++]=(u&15)<<4|p>>2,d[i++]=(p&3)<<6|c&63;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),Hf}var lg,cS;function ZR(){if(cS)return lg;cS=1;const{PACKET_TYPES_REVERSE:r,ERROR_PACKET:e}=lx(),n=typeof ArrayBuffer=="function";let t;n&&(t=QR());const s=(u,p)=>{if(typeof u!="string")return{type:"message",data:a(u,p)};const c=u.charAt(0);return c==="b"?{type:"message",data:i(u.substring(1),p)}:r[c]?u.length>1?{type:r[c],data:u.substring(1)}:{type:r[c]}:e},i=(u,p)=>{if(t){const c=t.decode(u);return a(c,p)}else return{base64:!0,data:u}},a=(u,p)=>{switch(p){case"blob":return u instanceof ArrayBuffer?new Blob([u]):u;case"arraybuffer":default:return u}};return lg=s,lg}var ug,lS;function Td(){if(lS)return ug;lS=1;const r=XR(),e=ZR(),n="";return ug={protocol:4,encodePacket:r,encodePayload:(i,a)=>{const u=i.length,p=new Array(u);let c=0;i.forEach((f,d)=>{r(f,!1,h=>{p[d]=h,++c===u&&a(p.join(n))})})},decodePacket:e,decodePayload:(i,a)=>{const u=i.split(n),p=[];for(let c=0;c<u.length;c++){const f=e(u[c],a);if(p.push(f),f.type==="error")break}return p}},ug}var dg={exports:{}},uS;function Il(){return uS||(uS=1,function(r){r.exports=e;function e(t){if(t)return n(t)}function n(t){for(var s in e.prototype)t[s]=e.prototype[s];return t}e.prototype.on=e.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this},e.prototype.once=function(t,s){function i(){this.off(t,i),s.apply(this,arguments)}return i.fn=s,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,u=0;u<i.length;u++)if(a=i[u],a===s||a.fn===s){i.splice(u,1);break}return i.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),i=this._callbacks["$"+t],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(i){i=i.slice(0);for(var a=0,u=i.length;a<u;++a)i[a].apply(this,s)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(dg)),dg.exports}var Vf={exports:{}},fg,dS;function eP(){if(dS)return fg;dS=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=T_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return fg=r,fg}var fS;function Rd(){return fS||(fS=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=eP()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Vf,Vf.exports)),Vf.exports}var hg,hS;function R_(){if(hS)return hg;hS=1;const r=Td(),e=Il(),n=Rd()("engine.io-client:transport");class t extends e{constructor(i){super(),this.opts=i,this.query=i.query,this.readyState="",this.socket=i.socket}onError(i,a){const u=new Error(i);return u.type="TransportError",u.description=a,this.emit("error",u),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(i){this.readyState==="open"?this.write(i):n("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(i){const a=r.decodePacket(i,this.socket.binaryType);this.onPacket(a)}onPacket(i){this.emit("packet",i)}onClose(){this.readyState="closed",this.emit("close")}}return hg=t,hg}var zf={},pS;function P_(){return pS||(pS=1,zf.encode=function(r){var e="";for(var n in r)r.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e},zf.decode=function(r){for(var e={},n=r.split("&"),t=0,s=n.length;t<s;t++){var i=n[t].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}),zf}var pg,mS;function ux(){if(mS)return pg;mS=1;var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),e=64,n={},t=0,s=0,i;function a(c){var f="";do f=r[c%e]+f,c=Math.floor(c/e);while(c>0);return f}function u(c){var f=0;for(s=0;s<c.length;s++)f=f*e+n[c.charAt(s)];return f}function p(){var c=a(+new Date);return c!==i?(t=0,i=c):c+"."+a(t++)}for(;s<e;s++)n[r[s]]=s;return p.encode=a,p.decode=u,pg=p,pg}var mg,gS;function dx(){if(gS)return mg;gS=1;const r=R_(),e=P_(),n=Td(),t=ux(),s=Rd()("engine.io-client:polling");class i extends r{get name(){return"polling"}doOpen(){this.poll()}pause(u){const p=this;this.readyState="pausing";function c(){s("paused"),p.readyState="paused",u()}if(this.polling||!this.writable){let f=0;this.polling&&(s("we are currently polling - waiting to pause"),f++,this.once("pollComplete",function(){s("pre-pause polling complete"),--f||c()})),this.writable||(s("we are currently writing - waiting to pause"),f++,this.once("drain",function(){s("pre-pause writing complete"),--f||c()}))}else c()}poll(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(u){const p=this;s("polling got data %s",u);const c=function(f,d,h){if(p.readyState==="opening"&&f.type==="open"&&p.onOpen(),f.type==="close")return p.onClose(),!1;p.onPacket(f)};n.decodePayload(u,this.socket.binaryType).forEach(c),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():s('ignoring poll - transport state "%s"',this.readyState))}doClose(){const u=this;function p(){s("writing close packet"),u.write([{type:"close"}])}this.readyState==="open"?(s("transport open - closing"),p()):(s("transport not open - deferring close"),this.once("open",p))}write(u){this.writable=!1,n.encodePayload(u,p=>{this.doWrite(p,()=>{this.writable=!0,this.emit("drain")})})}uri(){let u=this.query||{};const p=this.opts.secure?"https":"http";let c="";this.opts.timestampRequests!==!1&&(u[this.opts.timestampParam]=t()),!this.supportsBinary&&!u.sid&&(u.b64=1),u=e.encode(u),this.opts.port&&(p==="https"&&Number(this.opts.port)!==443||p==="http"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port),u.length&&(u="?"+u);const f=this.opts.hostname.indexOf(":")!==-1;return p+"://"+(f?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+u}}return mg=i,mg}var gg={},vS;function fx(){return vS||(vS=1,gg.pick=(r,...e)=>e.reduce((n,t)=>(r.hasOwnProperty(t)&&(n[t]=r[t]),n),{})),gg}var _S;function tP(){if(_S)return qf.exports;_S=1;const r=cx(),e=dx(),n=Il(),{pick:t}=fx(),s=Vh(),i=Rd()("engine.io-client:polling-xhr");function a(){}const u=function(){return new r({xdomain:!1}).responseType!=null}();class p extends e{constructor(h){if(super(h),typeof location<"u"){const R=location.protocol==="https:";let S=location.port;S||(S=R?443:80),this.xd=typeof location<"u"&&h.hostname!==location.hostname||S!==h.port,this.xs=h.secure!==R}const w=h&&h.forceBase64;this.supportsBinary=u&&!w}request(h={}){return Object.assign(h,{xd:this.xd,xs:this.xs},this.opts),new c(this.uri(),h)}doWrite(h,w){const R=this.request({method:"POST",data:h}),S=this;R.on("success",w),R.on("error",function(_){S.onError("xhr post error",_)})}doPoll(){i("xhr poll");const h=this.request(),w=this;h.on("data",function(R){w.onData(R)}),h.on("error",function(R){w.onError("xhr poll error",R)}),this.pollXhr=h}}class c extends n{constructor(h,w){super(),this.opts=w,this.method=w.method||"GET",this.uri=h,this.async=w.async!==!1,this.data=w.data!==void 0?w.data:null,this.create()}create(){const h=t(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");h.xdomain=!!this.opts.xd,h.xscheme=!!this.opts.xs;const w=this.xhr=new r(h),R=this;try{i("xhr open %s: %s",this.method,this.uri),w.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){w.setDisableHeaderCheck&&w.setDisableHeaderCheck(!0);for(let S in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(S)&&w.setRequestHeader(S,this.opts.extraHeaders[S])}}catch{}if(this.method==="POST")try{w.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{w.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in w&&(w.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(w.timeout=this.opts.requestTimeout),this.hasXDR()?(w.onload=function(){R.onLoad()},w.onerror=function(){R.onError(w.responseText)}):w.onreadystatechange=function(){w.readyState===4&&(w.status===200||w.status===1223?R.onLoad():setTimeout(function(){R.onError(typeof w.status=="number"?w.status:0)},0))},i("xhr data %s",this.data),w.send(this.data)}catch(S){setTimeout(function(){R.onError(S)},0);return}typeof document<"u"&&(this.index=c.requestsCount++,c.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(h){this.emit("data",h),this.onSuccess()}onError(h){this.emit("error",h),this.cleanup(!0)}cleanup(h){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,h)try{this.xhr.abort()}catch{}typeof document<"u"&&delete c.requests[this.index],this.xhr=null}}onLoad(){const h=this.xhr.responseText;h!==null&&this.onData(h)}hasXDR(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(c.requestsCount=0,c.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",f);else if(typeof addEventListener=="function"){const d="onpagehide"in s?"pagehide":"unload";addEventListener(d,f,!1)}}function f(){for(let d in c.requests)c.requests.hasOwnProperty(d)&&c.requests[d].abort()}return qf.exports=p,qf.exports.Request=c,qf.exports}var vg,yS;function rP(){if(yS)return vg;yS=1;const r=dx(),e=Vh(),n=/\n/g,t=/\\n/g;let s;class i extends r{constructor(u){super(u),this.query=this.query||{},s||(s=e.___eio=e.___eio||[]),this.index=s.length;const p=this;s.push(function(c){p.onData(c)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const u=this,p=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),p.async=!0,p.src=this.uri(),p.onerror=function(d){u.onError("jsonp poll error",d)};const c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(p,c):(document.head||document.body).appendChild(p),this.script=p,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const d=document.createElement("iframe");document.body.appendChild(d),document.body.removeChild(d)},100)}doWrite(u,p){const c=this;let f;if(!this.form){const w=document.createElement("form"),R=document.createElement("textarea"),S=this.iframeId="eio_iframe_"+this.index;w.className="socketio",w.style.position="absolute",w.style.top="-1000px",w.style.left="-1000px",w.target=S,w.method="POST",w.setAttribute("accept-charset","utf-8"),R.name="d",w.appendChild(R),document.body.appendChild(w),this.form=w,this.area=R}this.form.action=this.uri();function d(){h(),p()}function h(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(w){c.onError("jsonp polling iframe removal error",w)}try{const w='<iframe src="javascript:0" name="'+c.iframeId+'">';f=document.createElement(w)}catch{f=document.createElement("iframe"),f.name=c.iframeId,f.src="javascript:0"}f.id=c.iframeId,c.form.appendChild(f),c.iframe=f}h(),u=u.replace(t,`\\
`),this.area.value=u.replace(n,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){c.iframe.readyState==="complete"&&d()}:this.iframe.onload=d}}return vg=i,vg}var _g,wS;function nP(){if(wS)return _g;wS=1;const r=Vh();return _g={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"},_g}var yg,bS;function iP(){if(bS)return yg;bS=1;const r=R_(),e=Td(),n=P_(),t=ux(),{pick:s}=fx(),{WebSocket:i,usingBrowserWebSocket:a,defaultBinaryType:u}=nP(),p=Rd()("engine.io-client:websocket"),c=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class f extends r{constructor(h){super(h),this.supportsBinary=!h.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const h=this.uri(),w=this.opts.protocols,R=c?{}:s(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(R.headers=this.opts.extraHeaders);try{this.ws=a&&!c?w?new i(h,w):new i(h):new i(h,w,R)}catch(S){return this.emit("error",S)}this.ws.binaryType=this.socket.binaryType||u,this.addEventListeners()}addEventListeners(){const h=this;this.ws.onopen=function(){h.onOpen()},this.ws.onclose=function(){h.onClose()},this.ws.onmessage=function(w){h.onData(w.data)},this.ws.onerror=function(w){h.onError("websocket error",w)}}write(h){const w=this;this.writable=!1;let R=h.length,S=0;const _=R;for(;S<_;S++)(function(C){e.encodePacket(C,w.supportsBinary,function(T){const M={};a||(C.options&&(M.compress=C.options.compress),w.opts.perMessageDeflate&&(typeof T=="string"?Buffer.byteLength(T):T.length)<w.opts.perMessageDeflate.threshold&&(M.compress=!1));try{a?w.ws.send(T):w.ws.send(T,M)}catch{p("websocket closed before onclose event")}--R||v()})})(h[S]);function v(){w.emit("flush"),setTimeout(function(){w.writable=!0,w.emit("drain")},0)}}onClose(){r.prototype.onClose.call(this)}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let h=this.query||{};const w=this.opts.secure?"wss":"ws";let R="";this.opts.port&&(w==="wss"&&Number(this.opts.port)!==443||w==="ws"&&Number(this.opts.port)!==80)&&(R=":"+this.opts.port),this.opts.timestampRequests&&(h[this.opts.timestampParam]=t()),this.supportsBinary||(h.b64=1),h=n.encode(h),h.length&&(h="?"+h);const S=this.opts.hostname.indexOf(":")!==-1;return w+"://"+(S?"["+this.opts.hostname+"]":this.opts.hostname)+R+this.opts.path+h}check(){return!!i&&!("__initialize"in i&&this.name===f.prototype.name)}}return yg=f,yg}var SS;function hx(){if(SS)return $f;SS=1;const r=cx(),e=tP(),n=rP(),t=iP();$f.polling=s,$f.websocket=t;function s(i){let a,u=!1,p=!1;const c=i.jsonp!==!1;if(typeof location<"u"){const f=location.protocol==="https:";let d=location.port;d||(d=f?443:80),u=i.hostname!==location.hostname||d!==i.port,p=i.secure!==f}if(i.xdomain=u,i.xscheme=p,a=new r(i),"open"in a&&!i.forceJSONP)return new e(i);if(!c)throw new Error("JSONP disabled");return new n(i)}return $f}var wg,CS;function sP(){if(CS)return wg;CS=1;const r=hx(),e=Il(),n=Rd()("engine.io-client:socket"),t=Td(),s=ax(),i=P_();class a extends e{constructor(c,f={}){super(),c&&typeof c=="object"&&(f=c,c=null),c?(c=s(c),f.hostname=c.host,f.secure=c.protocol==="https"||c.protocol==="wss",f.port=c.port,c.query&&(f.query=c.query)):f.host&&(f.hostname=s(f.host).host),this.secure=f.secure!=null?f.secure:typeof location<"u"&&location.protocol==="https:",f.hostname&&!f.port&&(f.port=this.secure?"443":"80"),this.hostname=f.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=f.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.transports=f.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},f),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=i.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.open()}createTransport(c){n('creating transport "%s"',c);const f=u(this.opts.query);f.EIO=t.protocol,f.transport=c,this.id&&(f.sid=this.id);const d=Object.assign({},this.opts.transportOptions[c],this.opts,{query:f,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return n("options: %j",d),new r[c](d)}open(){let c;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)c="websocket";else if(this.transports.length===0){const f=this;setTimeout(function(){f.emit("error","No transports available")},0);return}else c=this.transports[0];this.readyState="opening";try{c=this.createTransport(c)}catch(f){n("error while creating transport: %s",f),this.transports.shift(),this.open();return}c.open(),this.setTransport(c)}setTransport(c){n("setting transport %s",c.name);const f=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=c,c.on("drain",function(){f.onDrain()}).on("packet",function(d){f.onPacket(d)}).on("error",function(d){f.onError(d)}).on("close",function(){f.onClose("transport close")})}probe(c){n('probing transport "%s"',c);let f=this.createTransport(c,{probe:1}),d=!1;const h=this;a.priorWebsocketSuccess=!1;function w(){if(h.onlyBinaryUpgrades){const M=!this.supportsBinary&&h.transport.supportsBinary;d=d||M}d||(n('probe transport "%s" opened',c),f.send([{type:"ping",data:"probe"}]),f.once("packet",function(M){if(!d)if(M.type==="pong"&&M.data==="probe"){if(n('probe transport "%s" pong',c),h.upgrading=!0,h.emit("upgrading",f),!f)return;a.priorWebsocketSuccess=f.name==="websocket",n('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||h.readyState!=="closed"&&(n("changing transport and sending upgrade packet"),T(),h.setTransport(f),f.send([{type:"upgrade"}]),h.emit("upgrade",f),f=null,h.upgrading=!1,h.flush())})}else{n('probe transport "%s" failed',c);const k=new Error("probe error");k.transport=f.name,h.emit("upgradeError",k)}}))}function R(){d||(d=!0,T(),f.close(),f=null)}function S(M){const k=new Error("probe error: "+M);k.transport=f.name,R(),n('probe transport "%s" failed because of error: %s',c,M),h.emit("upgradeError",k)}function _(){S("transport closed")}function v(){S("socket closed")}function C(M){f&&M.name!==f.name&&(n('"%s" works - aborting "%s"',M.name,f.name),R())}function T(){f.removeListener("open",w),f.removeListener("error",S),f.removeListener("close",_),h.removeListener("close",v),h.removeListener("upgrading",C)}f.once("open",w),f.once("error",S),f.once("close",_),this.once("close",v),this.once("upgrading",C),f.open()}onOpen(){if(n("socket open"),this.readyState="open",a.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){n("starting upgrade probes");let c=0;const f=this.upgrades.length;for(;c<f;c++)this.probe(this.upgrades[c])}}onPacket(c){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(n('socket receive: type "%s", data "%s"',c.type,c.data),this.emit("packet",c),this.emit("heartbeat"),c.type){case"open":this.onHandshake(JSON.parse(c.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const f=new Error("server error");f.code=c.data,this.onError(f);break;case"message":this.emit("data",c.data),this.emit("message",c.data);break}else n('packet received with socket readyState "%s"',this.readyState)}onHandshake(c){this.emit("handshake",c),this.id=c.sid,this.transport.query.sid=c.sid,this.upgrades=this.filterUpgrades(c.upgrades),this.pingInterval=c.pingInterval,this.pingTimeout=c.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(c,f,d){return this.sendPacket("message",c,f,d),this}send(c,f,d){return this.sendPacket("message",c,f,d),this}sendPacket(c,f,d,h){if(typeof f=="function"&&(h=f,f=void 0),typeof d=="function"&&(h=d,d=null),this.readyState==="closing"||this.readyState==="closed")return;d=d||{},d.compress=d.compress!==!1;const w={type:c,data:f,options:d};this.emit("packetCreate",w),this.writeBuffer.push(w),h&&this.once("flush",h),this.flush()}close(){const c=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?h():f()}):this.upgrading?h():f());function f(){c.onClose("forced close"),n("socket closing - telling transport to close"),c.transport.close()}function d(){c.removeListener("upgrade",d),c.removeListener("upgradeError",d),f()}function h(){c.once("upgrade",d),c.once("upgradeError",d)}return this}onError(c){n("socket error %j",c),a.priorWebsocketSuccess=!1,this.emit("error",c),this.onClose("transport error",c)}onClose(c,f){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){n('socket close with reason: "%s"',c);const d=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",c,f),d.writeBuffer=[],d.prevBufferLen=0}}filterUpgrades(c){const f=[];let d=0;const h=c.length;for(;d<h;d++)~this.transports.indexOf(c[d])&&f.push(c[d]);return f}}a.priorWebsocketSuccess=!1,a.protocol=t.protocol;function u(p){const c={};for(let f in p)p.hasOwnProperty(f)&&(c[f]=p[f]);return c}return wg=a,wg}var kS;function oP(){if(kS)return $a.exports;kS=1;const r=sP();return $a.exports=(e,n)=>new r(e,n),$a.exports.Socket=r,$a.exports.protocol=r.protocol,$a.exports.Transport=R_(),$a.exports.transports=hx(),$a.exports.parser=Td(),$a.exports}var ku={},bg={},yc={},wc={},xS;function px(){if(xS)return wc;xS=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.hasBinary=wc.isBinary=void 0;const r=typeof ArrayBuffer=="function",e=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,n=Object.prototype.toString,t=typeof Blob=="function"||typeof Blob<"u"&&n.call(Blob)==="[object BlobConstructor]",s=typeof File=="function"||typeof File<"u"&&n.call(File)==="[object FileConstructor]";function i(u){return r&&(u instanceof ArrayBuffer||e(u))||t&&u instanceof Blob||s&&u instanceof File}wc.isBinary=i;function a(u,p){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let c=0,f=u.length;c<f;c++)if(a(u[c]))return!0;return!1}if(i(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return a(u.toJSON(),!0);for(const c in u)if(Object.prototype.hasOwnProperty.call(u,c)&&a(u[c]))return!0;return!1}return wc.hasBinary=a,wc}var ES;function aP(){if(ES)return yc;ES=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.reconstructPacket=yc.deconstructPacket=void 0;const r=px();function e(i){const a=[],u=i.data,p=i;return p.data=n(u,a),p.attachments=a.length,{packet:p,buffers:a}}yc.deconstructPacket=e;function n(i,a){if(!i)return i;if(r.isBinary(i)){const u={_placeholder:!0,num:a.length};return a.push(i),u}else if(Array.isArray(i)){const u=new Array(i.length);for(let p=0;p<i.length;p++)u[p]=n(i[p],a);return u}else if(typeof i=="object"&&!(i instanceof Date)){const u={};for(const p in i)i.hasOwnProperty(p)&&(u[p]=n(i[p],a));return u}return i}function t(i,a){return i.data=s(i.data,a),i.attachments=void 0,i}yc.reconstructPacket=t;function s(i,a){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<a.length)return a[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let u=0;u<i.length;u++)i[u]=s(i[u],a);else if(typeof i=="object")for(const u in i)i.hasOwnProperty(u)&&(i[u]=s(i[u],a));return i}return yc}var Wf={exports:{}},Sg,TS;function cP(){if(TS)return Sg;TS=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=T_(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Sg=r,Sg}var RS;function lP(){return RS||(RS=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=cP()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Wf,Wf.exports)),Wf.exports}var PS;function O_(){return PS||(PS=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Decoder=r.Encoder=r.PacketType=r.protocol=void 0;const e=Il(),n=aP(),t=px(),s=lP()("socket.io-parser");r.protocol=5;var i;(function(f){f[f.CONNECT=0]="CONNECT",f[f.DISCONNECT=1]="DISCONNECT",f[f.EVENT=2]="EVENT",f[f.ACK=3]="ACK",f[f.CONNECT_ERROR=4]="CONNECT_ERROR",f[f.BINARY_EVENT=5]="BINARY_EVENT",f[f.BINARY_ACK=6]="BINARY_ACK"})(i=r.PacketType||(r.PacketType={}));class a{encode(d){return s("encoding packet %j",d),(d.type===i.EVENT||d.type===i.ACK)&&t.hasBinary(d)?(d.type=d.type===i.EVENT?i.BINARY_EVENT:i.BINARY_ACK,this.encodeAsBinary(d)):[this.encodeAsString(d)]}encodeAsString(d){let h=""+d.type;return(d.type===i.BINARY_EVENT||d.type===i.BINARY_ACK)&&(h+=d.attachments+"-"),d.nsp&&d.nsp!=="/"&&(h+=d.nsp+","),d.id!=null&&(h+=d.id),d.data!=null&&(h+=JSON.stringify(d.data)),s("encoded %j as %s",d,h),h}encodeAsBinary(d){const h=n.deconstructPacket(d),w=this.encodeAsString(h.packet),R=h.buffers;return R.unshift(w),R}}r.Encoder=a;class u extends e{constructor(){super()}add(d){let h;if(typeof d=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");h=this.decodeString(d),h.type===i.BINARY_EVENT||h.type===i.BINARY_ACK?(this.reconstructor=new c(h),h.attachments===0&&super.emit("decoded",h)):super.emit("decoded",h)}else if(t.isBinary(d)||d.base64)if(this.reconstructor)h=this.reconstructor.takeBinaryData(d),h&&(this.reconstructor=null,super.emit("decoded",h));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+d)}decodeString(d){let h=0;const w={type:Number(d.charAt(0))};if(i[w.type]===void 0)throw new Error("unknown packet type "+w.type);if(w.type===i.BINARY_EVENT||w.type===i.BINARY_ACK){const S=h+1;for(;d.charAt(++h)!=="-"&&h!=d.length;);const _=d.substring(S,h);if(_!=Number(_)||d.charAt(h)!=="-")throw new Error("Illegal attachments");w.attachments=Number(_)}if(d.charAt(h+1)==="/"){const S=h+1;for(;++h&&!(d.charAt(h)===","||h===d.length););w.nsp=d.substring(S,h)}else w.nsp="/";const R=d.charAt(h+1);if(R!==""&&Number(R)==R){const S=h+1;for(;++h;){const _=d.charAt(h);if(_==null||Number(_)!=_){--h;break}if(h===d.length)break}w.id=Number(d.substring(S,h+1))}if(d.charAt(++h)){const S=p(d.substr(h));if(u.isPayloadValid(w.type,S))w.data=S;else throw new Error("invalid payload")}return s("decoded %s as %j",d,w),w}static isPayloadValid(d,h){switch(d){case i.CONNECT:return typeof h=="object";case i.DISCONNECT:return h===void 0;case i.CONNECT_ERROR:return typeof h=="string"||typeof h=="object";case i.EVENT:case i.BINARY_EVENT:return Array.isArray(h)&&h.length>0;case i.ACK:case i.BINARY_ACK:return Array.isArray(h)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}r.Decoder=u;function p(f){try{return JSON.parse(f)}catch{return!1}}class c{constructor(d){this.packet=d,this.buffers=[],this.reconPack=d}takeBinaryData(d){if(this.buffers.push(d),this.buffers.length===this.reconPack.attachments){const h=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),h}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}(bg)),bg}var xu={},OS;function mx(){if(OS)return xu;OS=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.on=void 0;function r(e,n,t){return e.on(n,t),function(){e.off(n,t)}}return xu.on=r,xu}var DS;function gx(){if(DS)return ku;DS=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.Socket=void 0;const r=O_(),e=Il(),n=mx(),t=Hh()("socket.io-client:socket"),s=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i extends e{constructor(u,p,c){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=u,this.nsp=p,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},c&&c.auth&&(this.auth=c.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const u=this.io;this.subs=[n.on(u,"open",this.onopen.bind(this)),n.on(u,"packet",this.onpacket.bind(this)),n.on(u,"error",this.onerror.bind(this)),n.on(u,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...u){return u.unshift("message"),this.emit.apply(this,u),this}emit(u,...p){if(s.hasOwnProperty(u))throw new Error('"'+u+'" is a reserved event name');p.unshift(u);const c={type:r.PacketType.EVENT,data:p};c.options={},c.options.compress=this.flags.compress!==!1,typeof p[p.length-1]=="function"&&(t("emitting packet with ack id %d",this.ids),this.acks[this.ids]=p.pop(),c.id=this.ids++);const f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!f||!this.connected)?t("discard packet as the transport is not currently writable"):this.connected?this.packet(c):this.sendBuffer.push(c),this.flags={},this}packet(u){u.nsp=this.nsp,this.io._packet(u)}onopen(){t("transport is open - connecting"),typeof this.auth=="function"?this.auth(u=>{this.packet({type:r.PacketType.CONNECT,data:u})}):this.packet({type:r.PacketType.CONNECT,data:this.auth})}onerror(u){this.connected||super.emit("connect_error",u)}onclose(u){t("close (%s)",u),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",u)}onpacket(u){if(u.nsp===this.nsp)switch(u.type){case r.PacketType.CONNECT:if(u.data&&u.data.sid){const f=u.data.sid;this.onconnect(f)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:this.onevent(u);break;case r.PacketType.BINARY_EVENT:this.onevent(u);break;case r.PacketType.ACK:this.onack(u);break;case r.PacketType.BINARY_ACK:this.onack(u);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:const c=new Error(u.data.message);c.data=u.data.data,super.emit("connect_error",c);break}}onevent(u){const p=u.data||[];t("emitting event %j",p),u.id!=null&&(t("attaching ack callback to event"),p.push(this.ack(u.id))),this.connected?this.emitEvent(p):this.receiveBuffer.push(Object.freeze(p))}emitEvent(u){if(this._anyListeners&&this._anyListeners.length){const p=this._anyListeners.slice();for(const c of p)c.apply(this,u)}super.emit.apply(this,u)}ack(u){const p=this;let c=!1;return function(...f){c||(c=!0,t("sending ack %j",f),p.packet({type:r.PacketType.ACK,id:u,data:f}))}}onack(u){const p=this.acks[u.id];typeof p=="function"?(t("calling ack %s with %j",u.id,u.data),p.apply(this,u.data),delete this.acks[u.id]):t("bad ack %s",u.id)}onconnect(u){t("socket connected with id %s",u),this.id=u,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(u=>this.emitEvent(u)),this.receiveBuffer=[],this.sendBuffer.forEach(u=>this.packet(u)),this.sendBuffer=[]}ondisconnect(){t("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(u=>u()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(t("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(u){return this.flags.compress=u,this}get volatile(){return this.flags.volatile=!0,this}onAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(u),this}prependAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(u),this}offAny(u){if(!this._anyListeners)return this;if(u){const p=this._anyListeners;for(let c=0;c<p.length;c++)if(u===p[c])return p.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}return ku.Socket=i,ku}var Cg,MS;function uP(){if(MS)return Cg;MS=1,Cg=r;function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}return r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*e);e=(Math.floor(n*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e},Cg}var AS;function jS(){if(AS)return Cu;AS=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.Manager=void 0;const r=oP(),e=gx(),n=Il(),t=O_(),s=mx(),i=uP(),a=Hh()("socket.io-client:manager");class u extends n{constructor(c,f){super(),this.nsps={},this.subs=[],c&&typeof c=="object"&&(f=c,c=void 0),f=f||{},f.path=f.path||"/socket.io",this.opts=f,this.reconnection(f.reconnection!==!1),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1e3),this.reconnectionDelayMax(f.reconnectionDelayMax||5e3),this.randomizationFactor(f.randomizationFactor||.5),this.backoff=new i({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(f.timeout==null?2e4:f.timeout),this._readyState="closed",this.uri=c;const d=f.parser||t;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=f.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(c){return arguments.length?(this._reconnection=!!c,this):this._reconnection}reconnectionAttempts(c){return c===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=c,this)}reconnectionDelay(c){var f;return c===void 0?this._reconnectionDelay:(this._reconnectionDelay=c,(f=this.backoff)===null||f===void 0||f.setMin(c),this)}randomizationFactor(c){var f;return c===void 0?this._randomizationFactor:(this._randomizationFactor=c,(f=this.backoff)===null||f===void 0||f.setJitter(c),this)}reconnectionDelayMax(c){var f;return c===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=c,(f=this.backoff)===null||f===void 0||f.setMax(c),this)}timeout(c){return arguments.length?(this._timeout=c,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(c){if(a("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;a("opening %s",this.uri),this.engine=r(this.uri,this.opts);const f=this.engine,d=this;this._readyState="opening",this.skipReconnect=!1;const h=s.on(f,"open",function(){d.onopen(),c&&c()}),w=s.on(f,"error",R=>{a("error"),d.cleanup(),d._readyState="closed",super.emit("error",R),c?c(R):d.maybeReconnectOnOpen()});if(this._timeout!==!1){const R=this._timeout;a("connect attempt will timeout after %d",R),R===0&&h();const S=setTimeout(()=>{a("connect attempt timed out after %d",R),h(),f.close(),f.emit("error",new Error("timeout"))},R);this.subs.push(function(){clearTimeout(S)})}return this.subs.push(h),this.subs.push(w),this}connect(c){return this.open(c)}onopen(){a("open"),this.cleanup(),this._readyState="open",super.emit("open");const c=this.engine;this.subs.push(s.on(c,"ping",this.onping.bind(this)),s.on(c,"data",this.ondata.bind(this)),s.on(c,"error",this.onerror.bind(this)),s.on(c,"close",this.onclose.bind(this)),s.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(c){this.decoder.add(c)}ondecoded(c){super.emit("packet",c)}onerror(c){a("error",c),super.emit("error",c)}socket(c,f){let d=this.nsps[c];return d||(d=new e.Socket(this,c,f),this.nsps[c]=d),d}_destroy(c){const f=Object.keys(this.nsps);for(const d of f)if(this.nsps[d].active){a("socket %s is still active, skipping close",d);return}this._close()}_packet(c){a("writing packet %j",c);const f=this.encoder.encode(c);for(let d=0;d<f.length;d++)this.engine.write(f[d],c.options)}cleanup(){a("cleanup"),this.subs.forEach(c=>c()),this.subs.length=0,this.decoder.destroy()}_close(){a("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(c){a("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",c),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const c=this;if(this.backoff.attempts>=this._reconnectionAttempts)a("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const f=this.backoff.duration();a("will wait %dms before reconnect attempt",f),this._reconnecting=!0;const d=setTimeout(()=>{c.skipReconnect||(a("attempting reconnect"),super.emit("reconnect_attempt",c.backoff.attempts),!c.skipReconnect&&c.open(h=>{h?(a("reconnect attempt error"),c._reconnecting=!1,c.reconnect(),super.emit("reconnect_error",h)):(a("reconnect success"),c.onreconnect())}))},f);this.subs.push(function(){clearTimeout(d)})}}onreconnect(){const c=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",c)}}return Cu.Manager=u,Cu}var LS;function dP(){return LS||(LS=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;const n=GR(),t=jS(),s=gx();Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return s.Socket}});const i=Hh()("socket.io-client");r.exports=e=u;const a=e.managers={};function u(f,d){typeof f=="object"&&(d=f,f=void 0),d=d||{};const h=n.url(f,d.path),w=h.source,R=h.id,S=h.path,_=a[R]&&S in a[R].nsps,v=d.forceNew||d["force new connection"]||d.multiplex===!1||_;let C;return v?(i("ignoring socket cache for %s",w),C=new t.Manager(w,d)):(a[R]||(i("new io instance for %s",w),a[R]=new t.Manager(w,d)),C=a[R]),h.query&&!d.query&&(d.query=h.queryKey),C.socket(h.path,d)}e.io=u;var p=O_();Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return p.protocol}}),e.connect=u;var c=jS();Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return c.Manager}})}(Ff,Ff.exports)),Ff.exports}var fP=dP();const D_=Ei(fP);D_.Manager;var hP=$e.createContext(null);function pP(r){r()}var vx=pP,mP=function(e){return vx=e},gP=function(){return vx};function vP(){var r=gP(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){r(function(){for(var s=e;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=e;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,a=n={callback:s,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var NS={notify:function(){},get:function(){return[]}};function _P(r,e){var n,t=NS;function s(d){return p(),t.subscribe(d)}function i(){t.notify()}function a(){f.onStateChange&&f.onStateChange()}function u(){return!!n}function p(){n||(n=r.subscribe(a),t=vP())}function c(){n&&(n(),n=void 0,t.clear(),t=NS)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:u,trySubscribe:p,tryUnsubscribe:c,getListeners:function(){return t}};return f}var yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?le.useLayoutEffect:le.useEffect;function wP(r){var e=r.store,n=r.context,t=r.children,s=le.useMemo(function(){var u=_P(e);return{store:e,subscription:u}},[e]),i=le.useMemo(function(){return e.getState()},[e]);yP(function(){var u=s.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),i!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[s,i]);var a=n||hP;return $e.createElement(a.Provider,{value:s},t)}function Ve(){return Ve=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)({}).hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Ve.apply(null,arguments)}function Nr(r,e){if(r==null)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)!==-1)continue;n[t]=r[t]}return n}var kg={exports:{}},hr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function bP(){if(IS)return hr;IS=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,t=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,a=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,c=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,w=r?Symbol.for("react.memo"):60115,R=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function T(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case p:case c:case t:case i:case s:case d:return k;default:switch(k=k&&k.$$typeof,k){case u:case f:case R:case w:case a:return k;default:return N}}case n:return N}}}function M(k){return T(k)===c}return hr.AsyncMode=p,hr.ConcurrentMode=c,hr.ContextConsumer=u,hr.ContextProvider=a,hr.Element=e,hr.ForwardRef=f,hr.Fragment=t,hr.Lazy=R,hr.Memo=w,hr.Portal=n,hr.Profiler=i,hr.StrictMode=s,hr.Suspense=d,hr.isAsyncMode=function(k){return M(k)||T(k)===p},hr.isConcurrentMode=M,hr.isContextConsumer=function(k){return T(k)===u},hr.isContextProvider=function(k){return T(k)===a},hr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},hr.isForwardRef=function(k){return T(k)===f},hr.isFragment=function(k){return T(k)===t},hr.isLazy=function(k){return T(k)===R},hr.isMemo=function(k){return T(k)===w},hr.isPortal=function(k){return T(k)===n},hr.isProfiler=function(k){return T(k)===i},hr.isStrictMode=function(k){return T(k)===s},hr.isSuspense=function(k){return T(k)===d},hr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===t||k===c||k===i||k===s||k===d||k===h||typeof k=="object"&&k!==null&&(k.$$typeof===R||k.$$typeof===w||k.$$typeof===a||k.$$typeof===u||k.$$typeof===f||k.$$typeof===_||k.$$typeof===v||k.$$typeof===C||k.$$typeof===S)},hr.typeOf=T,hr}var FS;function SP(){return FS||(FS=1,kg.exports=bP()),kg.exports}var xg,BS;function CP(){if(BS)return xg;BS=1;var r=SP(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[r.ForwardRef]=t,i[r.Memo]=s;function a(R){return r.isMemo(R)?s:i[R.$$typeof]||e}var u=Object.defineProperty,p=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function w(R,S,_){if(typeof S!="string"){if(h){var v=d(S);v&&v!==h&&w(R,v,_)}var C=p(S);c&&(C=C.concat(c(S)));for(var T=a(R),M=a(S),k=0;k<C.length;++k){var N=C[k];if(!n[N]&&!(_&&_[N])&&!(M&&M[N])&&!(T&&T[N])){var y=f(S,N);try{u(R,N,y)}catch{}}}}return R}return xg=w,xg}var kP=CP();const xP=Ei(kP);var Eg={exports:{}},_r={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function EP(){if($S)return _r;$S=1;var r=60103,e=60106,n=60107,t=60108,s=60114,i=60109,a=60110,u=60112,p=60113,c=60120,f=60115,d=60116,h=60121,w=60122,R=60117,S=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;r=v("react.element"),e=v("react.portal"),n=v("react.fragment"),t=v("react.strict_mode"),s=v("react.profiler"),i=v("react.provider"),a=v("react.context"),u=v("react.forward_ref"),p=v("react.suspense"),c=v("react.suspense_list"),f=v("react.memo"),d=v("react.lazy"),h=v("react.block"),w=v("react.server.block"),R=v("react.fundamental"),S=v("react.debug_trace_mode"),_=v("react.legacy_hidden")}function C(oe){if(typeof oe=="object"&&oe!==null){var Z=oe.$$typeof;switch(Z){case r:switch(oe=oe.type,oe){case n:case s:case t:case p:case c:return oe;default:switch(oe=oe&&oe.$$typeof,oe){case a:case u:case d:case f:case i:return oe;default:return Z}}case e:return Z}}}var T=i,M=r,k=u,N=n,y=d,F=f,I=e,U=s,K=t,Q=p;return _r.ContextConsumer=a,_r.ContextProvider=T,_r.Element=M,_r.ForwardRef=k,_r.Fragment=N,_r.Lazy=y,_r.Memo=F,_r.Portal=I,_r.Profiler=U,_r.StrictMode=K,_r.Suspense=Q,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(oe){return C(oe)===a},_r.isContextProvider=function(oe){return C(oe)===i},_r.isElement=function(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===r},_r.isForwardRef=function(oe){return C(oe)===u},_r.isFragment=function(oe){return C(oe)===n},_r.isLazy=function(oe){return C(oe)===d},_r.isMemo=function(oe){return C(oe)===f},_r.isPortal=function(oe){return C(oe)===e},_r.isProfiler=function(oe){return C(oe)===s},_r.isStrictMode=function(oe){return C(oe)===t},_r.isSuspense=function(oe){return C(oe)===p},_r.isValidElementType=function(oe){return typeof oe=="string"||typeof oe=="function"||oe===n||oe===s||oe===S||oe===t||oe===p||oe===c||oe===_||typeof oe=="object"&&oe!==null&&(oe.$$typeof===d||oe.$$typeof===f||oe.$$typeof===i||oe.$$typeof===a||oe.$$typeof===u||oe.$$typeof===R||oe.$$typeof===h||oe[0]===w)},_r.typeOf=C,_r}var US;function TP(){return US||(US=1,Eg.exports=EP()),Eg.exports}TP();mP(kd.unstable_batchedUpdates);function Fn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var RP=typeof Symbol=="function"&&Symbol.observable||"@@observable",qS=RP,Tg=()=>Math.random().toString(36).substring(7).split("").join("."),PP={INIT:`@@redux/INIT${Tg()}`,REPLACE:`@@redux/REPLACE${Tg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tg()}`},wh=PP;function _x(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function yx(r,e,n){if(typeof r!="function")throw new Error(Fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(yx)(r,e)}let t=r,s=e,i=new Map,a=i,u=0,p=!1;function c(){a===i&&(a=new Map,i.forEach((_,v)=>{a.set(v,_)}))}function f(){if(p)throw new Error(Fn(3));return s}function d(_){if(typeof _!="function")throw new Error(Fn(4));if(p)throw new Error(Fn(5));let v=!0;c();const C=u++;return a.set(C,_),function(){if(v){if(p)throw new Error(Fn(6));v=!1,c(),a.delete(C),i=null}}}function h(_){if(!_x(_))throw new Error(Fn(7));if(typeof _.type>"u")throw new Error(Fn(8));if(typeof _.type!="string")throw new Error(Fn(17));if(p)throw new Error(Fn(9));try{p=!0,s=t(s,_)}finally{p=!1}return(i=a).forEach(C=>{C()}),_}function w(_){if(typeof _!="function")throw new Error(Fn(10));t=_,h({type:wh.REPLACE})}function R(){const _=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Fn(11));function C(){const M=v;M.next&&M.next(f())}return C(),{unsubscribe:_(C)}},[qS](){return this}}}return h({type:wh.INIT}),{dispatch:h,subscribe:d,getState:f,replaceReducer:w,[qS]:R}}function OP(r){Object.keys(r).forEach(e=>{const n=r[e];if(typeof n(void 0,{type:wh.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:wh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function DP(r){const e=Object.keys(r),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof r[a]=="function"&&(n[a]=r[a])}const t=Object.keys(n);let s;try{OP(n)}catch(i){s=i}return function(a={},u){if(s)throw s;let p=!1;const c={};for(let f=0;f<t.length;f++){const d=t[f],h=n[d],w=a[d],R=h(w,u);if(typeof R>"u")throw u&&u.type,new Error(Fn(14));c[d]=R,p=p||R!==w}return p=p||t.length!==Object.keys(a).length,p?c:a}}function bh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,n)=>(...t)=>e(n(...t)))}function MP(...r){return e=>(n,t)=>{const s=e(n,t);let i=()=>{throw new Error(Fn(15))};const a={getState:s.getState,dispatch:(p,...c)=>i(p,...c)},u=r.map(p=>p(a));return i=bh(...u)(s.dispatch),{...s,dispatch:i}}}function wx(r){return({dispatch:n,getState:t})=>s=>i=>typeof i=="function"?i(n,t,r):s(i)}var AP=wx(),jP=wx,LP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bh:bh.apply(null,arguments)},bx=class Wu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wu.prototype)}static get[Symbol.species](){return Wu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wu(...e[0].concat(this)):new Wu(...e.concat(this))}};function NP(r){return typeof r=="boolean"}var IP=()=>function(e){const{thunk:n=!0,immutableCheck:t=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let a=new bx;return n&&(NP(n)?a.push(AP):a.push(jP(n.extraArgument))),a},FP="RTK_autoBatch",HS=r=>e=>{setTimeout(e,r)},BP=(r={type:"raf"})=>e=>(...n)=>{const t=e(...n);let s=!0,i=!1,a=!1;const u=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HS(10):r.type==="callback"?r.queueNotification:HS(r.timeout),c=()=>{a=!1,i&&(i=!1,u.forEach(f=>f()))};return Object.assign({},t,{subscribe(f){const d=()=>s&&f(),h=t.subscribe(d);return u.add(f),()=>{h(),u.delete(f)}},dispatch(f){var d;try{return s=!((d=f==null?void 0:f.meta)!=null&&d[FP]),i=!s,i&&(a||(a=!0,p(c))),t.dispatch(f)}finally{s=!0}}})},$P=r=>function(n){const{autoBatch:t=!0}=n??{};let s=new bx(r);return t&&s.push(BP(typeof t=="object"?t:void 0)),s};function UP(r){const e=IP(),{reducer:n=void 0,middleware:t,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=r||{};let u;if(typeof n=="function")u=n;else if(_x(n))u=DP(n);else throw new Error(qP(1));let p;typeof t=="function"?p=t(e):p=e();let c=bh;s&&(c=LP({trace:!1,...typeof s=="object"&&s}));const f=MP(...p),d=$P(f);let h=typeof a=="function"?a(d):d();const w=c(...h);return yx(u,i,w)}function qP(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const HP=UP({reducer:{}}),Za=le.createContext({});function Sx(r){var e,n,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(n=Sx(r[e]))&&(t&&(t+=" "),t+=n);else for(e in r)r[e]&&(t&&(t+=" "),t+=e);return t}function Fc(){for(var r,e,n=0,t="";n<arguments.length;)(r=arguments[n++])&&(e=Sx(r))&&(t&&(t+=" "),t+=e);return t}function qc(){return qc=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},qc.apply(this,arguments)}function VP(r,e){if(r==null)return{};var n={},t=Object.keys(r),s,i;for(i=0;i<t.length;i++)s=t[i],!(e.indexOf(s)>=0)&&(n[s]=r[s]);return n}function ad(r){return typeof r=="number"&&!isNaN(r)}function Eu(r){return typeof r=="boolean"}function cd(r){return typeof r=="string"}function Ci(r){return typeof r=="function"}function ch(r){return cd(r)||Ci(r)?r:null}function Pv(r){return r===0||r}function zP(r,e){return r===!1||ad(r)&&r>0?r:e}var Cx=!!(typeof window<"u"&&window.document&&window.document.createElement);function Rg(r){return le.isValidElement(r)||cd(r)||Ci(r)||ad(r)}var kx={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ec={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default",DARK:"dark"};function WP(r,e,n){n===void 0&&(n=300);var t=r.scrollHeight,s=r.style;requestAnimationFrame(function(){s.minHeight="initial",s.height=t+"px",s.transition="all "+n+"ms",requestAnimationFrame(function(){s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function xx(r){var e=r.enter,n=r.exit,t=r.appendPosition,s=t===void 0?!1:t,i=r.collapse,a=i===void 0?!0:i,u=r.collapseDuration,p=u===void 0?300:u;return function(f){var d=f.children,h=f.position,w=f.preventExitTransition,R=f.done,S=f.nodeRef,_=f.isIn,v=s?e+"--"+h:e,C=s?n+"--"+h:n,T=le.useRef(),M=le.useRef(0);le.useLayoutEffect(function(){k()},[]),le.useEffect(function(){_||(w?F():y())},[_]);function k(){var I=S.current;T.current=I.className,I.className+=" "+v,I.addEventListener("animationend",N)}function N(){var I=S.current;I.removeEventListener("animationend",N),M.current===0&&(I.className=T.current)}function y(){M.current=1;var I=S.current;I.className+=" "+C,I.addEventListener("animationend",F)}function F(){var I=S.current;I.removeEventListener("animationend",F),a?WP(I,R,p):R()}return $e.createElement($e.Fragment,null,d)}}var Xs={list:new Map,emitQueue:new Map,on:function(e,n){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(n),this},off:function(e,n){if(n){var t=this.list.get(e).filter(function(s){return s!==n});return this.list.set(e,t),this}return this.list.delete(e),this},cancelEmit:function(e){var n=this.emitQueue.get(e);return n&&(n.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var n=this,t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach(function(a){var u=setTimeout(function(){a.apply(void 0,s)},0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(u)})}};function kl(r,e){e===void 0&&(e=!1);var n=le.useRef(r);return le.useEffect(function(){e&&(n.current=r)}),n.current}function YP(r,e){switch(e.type){case 0:return[].concat(r,[e.toastId]).filter(function(n){return n!==e.staleId});case 1:return Pv(e.toastId)?r.filter(function(n){return n!==e.toastId}):[]}}function KP(r){var e=le.useReducer(function(M){return M+1},0),n=e[1],t=le.useReducer(YP,[]),s=t[0],i=t[1],a=le.useRef(null),u=kl(0),p=kl([]),c=kl({}),f=kl({toastKey:1,displayedToast:0,props:r,containerId:null,isToastActive:d,getToast:function(k){return c[k]||null}});le.useEffect(function(){return f.containerId=r.containerId,Xs.cancelEmit(3).on(0,_).on(1,function(M){return a.current&&w(M)}).on(5,h).emit(2,f),function(){return Xs.emit(3,f)}},[]),le.useEffect(function(){f.isToastActive=d,f.displayedToast=s.length,Xs.emit(4,s.length,r.containerId)},[s]),le.useEffect(function(){f.props=r});function d(M){return s.indexOf(M)!==-1}function h(M){var k=M.containerId,N=f.props.limit;N&&(!k||f.containerId===k)&&(u-=p.length,p=[])}function w(M){i({type:1,toastId:M})}function R(){var M=p.shift(),k=M.toastContent,N=M.toastProps,y=M.staleId;v(k,N,y)}function S(M){var k=M.containerId,N=M.toastId,y=M.updateId;return!!(!a.current||f.props.enableMultiContainer&&k!==f.props.containerId||c[N]&&y==null)}function _(M,k){var N=k.delay,y=k.staleId,F=VP(k,["delay","staleId"]);if(!(!Rg(M)||S(F))){var I=F.toastId,U=F.updateId,K=f.props,Q=function(){return w(I)},oe=F.updateId==null;oe&&u++;var Z={toastId:I,updateId:U,isIn:!1,key:F.key||f.toastKey++,type:F.type,closeToast:Q,closeButton:F.closeButton,rtl:K.rtl,position:F.position||K.position,transition:F.transition||K.transition,className:ch(F.className||K.toastClassName),bodyClassName:ch(F.bodyClassName||K.bodyClassName),style:F.style||K.toastStyle,bodyStyle:F.bodyStyle||K.bodyStyle,onClick:F.onClick||K.onClick,pauseOnHover:Eu(F.pauseOnHover)?F.pauseOnHover:K.pauseOnHover,pauseOnFocusLoss:Eu(F.pauseOnFocusLoss)?F.pauseOnFocusLoss:K.pauseOnFocusLoss,draggable:Eu(F.draggable)?F.draggable:K.draggable,draggablePercent:ad(F.draggablePercent)?F.draggablePercent:K.draggablePercent,draggableDirection:F.draggableDirection||K.draggableDirection,closeOnClick:Eu(F.closeOnClick)?F.closeOnClick:K.closeOnClick,progressClassName:ch(F.progressClassName||K.progressClassName),progressStyle:F.progressStyle||K.progressStyle,autoClose:zP(F.autoClose,K.autoClose),hideProgressBar:Eu(F.hideProgressBar)?F.hideProgressBar:K.hideProgressBar,progress:F.progress,role:cd(F.role)?F.role:K.role,deleteToast:function(){C(I)}};Ci(F.onOpen)&&(Z.onOpen=F.onOpen),Ci(F.onClose)&&(Z.onClose=F.onClose),Z.draggableDirection==="y"&&Z.draggablePercent===80&&(Z.draggablePercent*=1.5);var de=K.closeButton;F.closeButton===!1||Rg(F.closeButton)?de=F.closeButton:F.closeButton===!0&&(de=Rg(K.closeButton)?K.closeButton:!0),Z.closeButton=de;var ye=M;le.isValidElement(M)&&!cd(M.type)?ye=le.cloneElement(M,{closeToast:Q,toastProps:Z}):Ci(M)&&(ye=M({closeToast:Q,toastProps:Z})),K.limit&&K.limit>0&&u>K.limit&&oe?p.push({toastContent:ye,toastProps:Z,staleId:y}):ad(N)&&N>0?setTimeout(function(){v(ye,Z,y)},N):v(ye,Z,y)}}function v(M,k,N){var y=k.toastId;N&&delete c[N],c[y]={content:M,props:k},i({type:0,toastId:y,staleId:N})}function C(M){delete c[M];var k=p.length;if(u=Pv(M)?u-1:u-f.displayedToast,u<0&&(u=0),k>0){var N=Pv(M)?1:f.props.limit;if(k===1||N===1)f.displayedToast++,R();else{var y=N>k?k:N;f.displayedToast=y;for(var F=0;F<y;F++)R()}}else n()}function T(M){for(var k={},N=r.newestOnTop?Object.keys(c).reverse():Object.keys(c),y=0;y<N.length;y++){var F=c[N[y]],I=F.props.position;k[I]||(k[I]=[]),k[I].push(F)}return Object.keys(k).map(function(U){return M(U,k[U])})}return{getToastToRender:T,collection:c,containerRef:a,isToastActive:d}}function VS(r){return r.targetTouches&&r.targetTouches.length>=1?r.targetTouches[0].clientX:r.clientX}function zS(r){return r.targetTouches&&r.targetTouches.length>=1?r.targetTouches[0].clientY:r.clientY}function GP(r){var e=le.useState(!0),n=e[0],t=e[1],s=le.useState(!1),i=s[0],a=s[1],u=le.useRef(null),p=kl({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),c=kl(r,!0),f=r.autoClose,d=r.pauseOnHover,h=r.closeToast,w=r.onClick,R=r.closeOnClick;le.useEffect(function(){return Ci(r.onOpen)&&r.onOpen(le.isValidElement(r.children)&&r.children.props),function(){Ci(c.onClose)&&c.onClose(le.isValidElement(c.children)&&c.children.props)}},[]),le.useEffect(function(){return r.draggable&&k(),function(){r.draggable&&N()}},[r.draggable]),le.useEffect(function(){return r.pauseOnFocusLoss&&T(),function(){r.pauseOnFocusLoss&&M()}},[r.pauseOnFocusLoss]);function S(U){if(r.draggable){var K=u.current;p.canCloseOnClick=!0,p.canDrag=!0,p.boundingRect=K.getBoundingClientRect(),K.style.transition="",p.x=VS(U.nativeEvent),p.y=zS(U.nativeEvent),r.draggableDirection==="x"?(p.start=p.x,p.removalDistance=K.offsetWidth*(r.draggablePercent/100)):(p.start=p.y,p.removalDistance=K.offsetHeight*(r.draggablePercent/100))}}function _(){if(p.boundingRect){var U=p.boundingRect,K=U.top,Q=U.bottom,oe=U.left,Z=U.right;r.pauseOnHover&&p.x>=oe&&p.x<=Z&&p.y>=K&&p.y<=Q?C():v()}}function v(){t(!0)}function C(){t(!1)}function T(){document.hasFocus()||C(),window.addEventListener("focus",v),window.addEventListener("blur",C)}function M(){window.removeEventListener("focus",v),window.removeEventListener("blur",C)}function k(){document.addEventListener("mousemove",y),document.addEventListener("mouseup",F),document.addEventListener("touchmove",y),document.addEventListener("touchend",F)}function N(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",F)}function y(U){if(p.canDrag){U.preventDefault();var K=u.current;n&&C(),p.x=VS(U),p.y=zS(U),r.draggableDirection==="x"?p.delta=p.x-p.start:p.delta=p.y-p.start,p.start!==p.x&&(p.canCloseOnClick=!1),K.style.transform="translate"+r.draggableDirection+"("+p.delta+"px)",K.style.opacity=""+(1-Math.abs(p.delta/p.removalDistance))}}function F(){var U=u.current;if(p.canDrag){if(p.canDrag=!1,Math.abs(p.delta)>p.removalDistance){a(!0),r.closeToast();return}U.style.transition="transform 0.2s, opacity 0.2s",U.style.transform="translate"+r.draggableDirection+"(0)",U.style.opacity="1"}}var I={onMouseDown:S,onTouchStart:S,onMouseUp:_,onTouchEnd:_};return f&&d&&(I.onMouseEnter=C,I.onMouseLeave=v),R&&(I.onClick=function(U){w&&w(U),p.canCloseOnClick&&h()}),{playToast:v,pauseToast:C,isRunning:n,preventExitTransition:i,toastRef:u,eventHandlers:I}}function Ex(r){var e=r.closeToast,n=r.type,t=r.ariaLabel,s=t===void 0?"close":t;return le.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(a){a.stopPropagation(),e(a)},"aria-label":s},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Tx(r){var e,n,t=r.delay,s=r.isRunning,i=r.closeToast,a=r.type,u=r.hide,p=r.className,c=r.style,f=r.controlledProgress,d=r.progress,h=r.rtl,w=r.isIn,R=qc({},c,{animationDuration:t+"ms",animationPlayState:s?"running":"paused",opacity:u?0:1});f&&(R.transform="scaleX("+d+")");var S=Fc("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+a,(e={},e["Toastify__progress-bar--rtl"]=h,e)),_=Ci(p)?p({rtl:h,type:a,defaultClassName:S}):Fc(S,p),v=(n={},n[f&&d>=1?"onTransitionEnd":"onAnimationEnd"]=f&&d<1?null:function(){w&&i()},n);return le.createElement("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:_,style:R},v))}Tx.defaultProps={type:ec.DEFAULT,hide:!1};var JP=function(e){var n,t=GP(e),s=t.isRunning,i=t.preventExitTransition,a=t.toastRef,u=t.eventHandlers,p=e.closeButton,c=e.children,f=e.autoClose,d=e.onClick,h=e.type,w=e.hideProgressBar,R=e.closeToast,S=e.transition,_=e.position,v=e.className,C=e.style,T=e.bodyClassName,M=e.bodyStyle,k=e.progressClassName,N=e.progressStyle,y=e.updateId,F=e.role,I=e.progress,U=e.rtl,K=e.toastId,Q=e.deleteToast,oe=e.isIn,Z=Fc("Toastify__toast","Toastify__toast--"+h,(n={},n["Toastify__toast--rtl"]=U,n)),de=Ci(v)?v({rtl:U,position:_,type:h,defaultClassName:Z}):Fc(Z,v),ye=!!I;function q(ee){if(ee){var ce={closeToast:R,type:h};if(Ci(ee))return ee(ce);if(le.isValidElement(ee))return le.cloneElement(ee,ce)}}return le.createElement(S,{isIn:oe,done:Q,position:_,preventExitTransition:i,nodeRef:a},le.createElement("div",Object.assign({id:K,onClick:d,className:de},u,{style:C,ref:a}),le.createElement("div",Object.assign({},oe&&{role:F},{className:Ci(T)?T({type:h}):Fc("Toastify__toast-body",T),style:M}),c),q(p),(f||ye)&&le.createElement(Tx,Object.assign({},y&&!ye?{key:"pb-"+y}:{},{rtl:U,delay:f,isRunning:s,isIn:oe,closeToast:R,hide:w,type:h,style:N,className:k,controlledProgress:ye,progress:I}))))},XP=xx({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),QP=xx({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),M_=function(e){var n=KP(e),t=n.getToastToRender,s=n.containerRef,i=n.isToastActive,a=e.className,u=e.style,p=e.rtl,c=e.containerId;function f(d){var h,w=Fc("Toastify__toast-container","Toastify__toast-container--"+d,(h={},h["Toastify__toast-container--rtl"]=p,h));return Ci(a)?a({position:d,rtl:p,defaultClassName:w}):Fc(w,ch(a))}return le.createElement("div",{ref:s,className:"Toastify",id:c},t(function(d,h){var w=h.length===0?qc({},u,{pointerEvents:"none"}):qc({},u);return le.createElement("div",{className:f(d),style:w,key:"container-"+d},h.map(function(R){var S=R.content,_=R.props;return le.createElement(JP,Object.assign({},_,{isIn:i(_.toastId),key:"toast-"+_.key,closeButton:_.closeButton===!0?Ex:_.closeButton}),S)}))}))};M_.defaultProps={position:kx.TOP_RIGHT,transition:XP,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:Ex,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert"};var Tl=new Map,Ov,ed,Rx,Dv=[],Mv=!1;function ZP(){return Tl.size>0}function eO(r,e){var n=e.containerId,t=Tl.get(n||Ov);return t?t.getToast(r):null}function Px(){return Math.random().toString(36).substr(2,9)}function tO(r){return r&&(cd(r.toastId)||ad(r.toastId))?r.toastId:Px()}function A_(r,e){return ZP()?Xs.emit(0,r,e):(Dv.push({content:r,options:e}),Mv&&Cx&&(Mv=!1,ed=document.createElement("div"),document.body.appendChild(ed),kd.render(le.createElement(M_,Object.assign({},Rx)),ed))),e.toastId}function Ox(r,e){return qc({},e,{type:e&&e.type||r,toastId:tO(e)})}var Pd=function(e){return function(n,t){return A_(n,Ox(e,t))}},ht=function(e,n){return A_(e,Ox(ec.DEFAULT,n))};ht.success=Pd(ec.SUCCESS);ht.info=Pd(ec.INFO);ht.error=Pd(ec.ERROR);ht.warning=Pd(ec.WARNING);ht.dark=Pd(ec.DARK);ht.warn=ht.warning;ht.dismiss=function(r){return Xs.emit(1,r)};ht.clearWaitingQueue=function(r){return r===void 0&&(r={}),Xs.emit(5,r)};ht.isActive=function(r){var e=!1;return Tl.forEach(function(n){n.isToastActive&&n.isToastActive(r)&&(e=!0)}),e};ht.update=function(r,e){e===void 0&&(e={}),setTimeout(function(){var n=eO(r,e);if(n){var t=n.props,s=n.content,i=qc({},t,e,{toastId:e.toastId||r,updateId:Px()});i.toastId!==r&&(i.staleId=r);var a=i.render||s;delete i.render,A_(a,i)}},0)};ht.done=function(r){ht.update(r,{progress:1})};ht.onChange=function(r){return Ci(r)&&Xs.on(4,r),function(){Ci(r)&&Xs.off(4,r)}};ht.configure=function(r){r===void 0&&(r={}),Mv=!0,Rx=r};ht.POSITION=kx;ht.TYPE=ec;Xs.on(2,function(r){Ov=r.containerId||r,Tl.set(Ov,r),Dv.forEach(function(e){Xs.emit(0,e.content,e.options)}),Dv=[]}).on(3,function(r){Tl.delete(r.containerId||r),Tl.size===0&&Xs.off(0).off(1).off(5),Cx&&ed&&document.body.removeChild(ed)});const Ae={on(r,e){document.addEventListener(r,n=>e(...n.detail))},dispatch(r,...e){document.dispatchEvent(new CustomEvent(r,{detail:e}))},remove(r,e){document.removeEventListener(r,e)}};var lh={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var rO=lh.exports,WS;function Dx(){return WS||(WS=1,function(r){(function(e,n){r.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}})(typeof window<"u"?window:rO,function(e,n){var t=[],s=Object.getPrototypeOf,i=t.slice,a=t.flat?function(g){return t.flat.call(g)}:function(g){return t.concat.apply([],g)},u=t.push,p=t.indexOf,c={},f=c.toString,d=c.hasOwnProperty,h=d.toString,w=h.call(Object),R={},S=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},_=function(b){return b!=null&&b===b.window},v=e.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function T(g,b,D){D=D||v;var L,z,V=D.createElement("script");if(V.text=g,b)for(L in C)z=b[L]||b.getAttribute&&b.getAttribute(L),z&&V.setAttribute(L,z);D.head.appendChild(V).parentNode.removeChild(V)}function M(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?c[f.call(g)]||"object":typeof g}var k="3.7.1",N=/HTML$/i,y=function(g,b){return new y.fn.init(g,b)};y.fn=y.prototype={jquery:k,constructor:y,length:0,toArray:function(){return i.call(this)},get:function(g){return g==null?i.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var b=y.merge(this.constructor(),g);return b.prevObject=this,b},each:function(g){return y.each(this,g)},map:function(g){return this.pushStack(y.map(this,function(b,D){return g.call(b,D,b)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(g,b){return(b+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(g,b){return b%2}))},eq:function(g){var b=this.length,D=+g+(g<0?b:0);return this.pushStack(D>=0&&D<b?[this[D]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},y.extend=y.fn.extend=function(){var g,b,D,L,z,V,G=arguments[0]||{},ue=1,ae=arguments.length,ge=!1;for(typeof G=="boolean"&&(ge=G,G=arguments[ue]||{},ue++),typeof G!="object"&&!S(G)&&(G={}),ue===ae&&(G=this,ue--);ue<ae;ue++)if((g=arguments[ue])!=null)for(b in g)L=g[b],!(b==="__proto__"||G===L)&&(ge&&L&&(y.isPlainObject(L)||(z=Array.isArray(L)))?(D=G[b],z&&!Array.isArray(D)?V=[]:!z&&!y.isPlainObject(D)?V={}:V=D,z=!1,G[b]=y.extend(ge,V,L)):L!==void 0&&(G[b]=L));return G},y.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var b,D;return!g||f.call(g)!=="[object Object]"?!1:(b=s(g),b?(D=d.call(b,"constructor")&&b.constructor,typeof D=="function"&&h.call(D)===w):!0)},isEmptyObject:function(g){var b;for(b in g)return!1;return!0},globalEval:function(g,b,D){T(g,{nonce:b&&b.nonce},D)},each:function(g,b){var D,L=0;if(F(g))for(D=g.length;L<D&&b.call(g[L],L,g[L])!==!1;L++);else for(L in g)if(b.call(g[L],L,g[L])===!1)break;return g},text:function(g){var b,D="",L=0,z=g.nodeType;if(!z)for(;b=g[L++];)D+=y.text(b);return z===1||z===11?g.textContent:z===9?g.documentElement.textContent:z===3||z===4?g.nodeValue:D},makeArray:function(g,b){var D=b||[];return g!=null&&(F(Object(g))?y.merge(D,typeof g=="string"?[g]:g):u.call(D,g)),D},inArray:function(g,b,D){return b==null?-1:p.call(b,g,D)},isXMLDoc:function(g){var b=g&&g.namespaceURI,D=g&&(g.ownerDocument||g).documentElement;return!N.test(b||D&&D.nodeName||"HTML")},merge:function(g,b){for(var D=+b.length,L=0,z=g.length;L<D;L++)g[z++]=b[L];return g.length=z,g},grep:function(g,b,D){for(var L,z=[],V=0,G=g.length,ue=!D;V<G;V++)L=!b(g[V],V),L!==ue&&z.push(g[V]);return z},map:function(g,b,D){var L,z,V=0,G=[];if(F(g))for(L=g.length;V<L;V++)z=b(g[V],V,D),z!=null&&G.push(z);else for(V in g)z=b(g[V],V,D),z!=null&&G.push(z);return a(G)},guid:1,support:R}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=t[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,b){c["[object "+b+"]"]=b.toLowerCase()});function F(g){var b=!!g&&"length"in g&&g.length,D=M(g);return S(g)||_(g)?!1:D==="array"||b===0||typeof b=="number"&&b>0&&b-1 in g}function I(g,b){return g.nodeName&&g.nodeName.toLowerCase()===b.toLowerCase()}var U=t.pop,K=t.sort,Q=t.splice,oe="[\\x20\\t\\r\\n\\f]",Z=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g");y.contains=function(g,b){var D=b&&b.parentNode;return g===D||!!(D&&D.nodeType===1&&(g.contains?g.contains(D):g.compareDocumentPosition&&g.compareDocumentPosition(D)&16))};var de=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ye(g,b){return b?g==="\0"?"�":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}y.escapeSelector=function(g){return(g+"").replace(de,ye)};var q=v,ee=u;(function(){var g,b,D,L,z,V=ee,G,ue,ae,ge,Te,Oe=y.expando,be=0,Ie=0,vt=Br(),Dt=Br(),wt=Br(),$=Br(),Y=function(re,he){return re===he&&(z=!0),0},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="(?:\\\\[\\da-fA-F]{1,6}"+oe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",J="\\["+oe+"*("+B+")(?:"+oe+"*([*^$|!~]?=)"+oe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+B+"))|)"+oe+"*\\]",ie=":("+B+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+J+")*)|.*)\\)|)",se=new RegExp(oe+"+","g"),Se=new RegExp("^"+oe+"*,"+oe+"*"),De=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),We=new RegExp(oe+"|>"),Ke=new RegExp(ie),Ge=new RegExp("^"+B+"$"),tt={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,At=/^h\d$/i,Ft=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ur=/[+~]/,Cr=new RegExp("\\\\[\\da-fA-F]{1,6}"+oe+"?|\\\\([^\\r\\n\\f])","g"),Wt=function(re,he){var Ce="0x"+re.slice(1)-65536;return he||(Ce<0?String.fromCharCode(Ce+65536):String.fromCharCode(Ce>>10|55296,Ce&1023|56320))},dr=function(){An()},Pr=Yo(function(re){return re.disabled===!0&&I(re,"fieldset")},{dir:"parentNode",next:"legend"});function Sn(){try{return G.activeElement}catch{}}try{V.apply(t=i.call(q.childNodes),q.childNodes),t[q.childNodes.length].nodeType}catch{V={apply:function(he,Ce){ee.apply(he,i.call(Ce))},call:function(he){ee.apply(he,i.call(arguments,1))}}}function _t(re,he,Ce,Ee){var Me,ze,et,ot,Ze,Nt,lt,bt=he&&he.ownerDocument,xt=he?he.nodeType:9;if(Ce=Ce||[],typeof re!="string"||!re||xt!==1&&xt!==9&&xt!==11)return Ce;if(!Ee&&(An(he),he=he||G,ae)){if(xt!==11&&(Ze=Ft.exec(re)))if(Me=Ze[1]){if(xt===9)if(et=he.getElementById(Me)){if(et.id===Me)return V.call(Ce,et),Ce}else return Ce;else if(bt&&(et=bt.getElementById(Me))&&_t.contains(he,et)&&et.id===Me)return V.call(Ce,et),Ce}else{if(Ze[2])return V.apply(Ce,he.getElementsByTagName(re)),Ce;if((Me=Ze[3])&&he.getElementsByClassName)return V.apply(Ce,he.getElementsByClassName(Me)),Ce}if(!$[re+" "]&&(!ge||!ge.test(re))){if(lt=re,bt=he,xt===1&&(We.test(re)||De.test(re))){for(bt=ur.test(re)&&Cn(he.parentNode)||he,(bt!=he||!R.scope)&&((ot=he.getAttribute("id"))?ot=y.escapeSelector(ot):he.setAttribute("id",ot=Oe)),Nt=es(re),ze=Nt.length;ze--;)Nt[ze]=(ot?"#"+ot:":scope")+" "+Sa(Nt[ze]);lt=Nt.join(",")}try{return V.apply(Ce,bt.querySelectorAll(lt)),Ce}catch{$(re,!0)}finally{ot===Oe&&he.removeAttribute("id")}}}return ic(re.replace(Z,"$1"),he,Ce,Ee)}function Br(){var re=[];function he(Ce,Ee){return re.push(Ce+" ")>b.cacheLength&&delete he[re.shift()],he[Ce+" "]=Ee}return he}function ir(re){return re[Oe]=!0,re}function dn(re){var he=G.createElement("fieldset");try{return!!re(he)}catch{return!1}finally{he.parentNode&&he.parentNode.removeChild(he),he=null}}function Ps(re){return function(he){return I(he,"input")&&he.type===re}}function Os(re){return function(he){return(I(he,"input")||I(he,"button"))&&he.type===re}}function Ni(re){return function(he){return"form"in he?he.parentNode&&he.disabled===!1?"label"in he?"label"in he.parentNode?he.parentNode.disabled===re:he.disabled===re:he.isDisabled===re||he.isDisabled!==!re&&Pr(he)===re:he.disabled===re:"label"in he?he.disabled===re:!1}}function fn(re){return ir(function(he){return he=+he,ir(function(Ce,Ee){for(var Me,ze=re([],Ce.length,he),et=ze.length;et--;)Ce[Me=ze[et]]&&(Ce[Me]=!(Ee[Me]=Ce[Me]))})})}function Cn(re){return re&&typeof re.getElementsByTagName<"u"&&re}function An(re){var he,Ce=re?re.ownerDocument||re:q;return Ce==G||Ce.nodeType!==9||!Ce.documentElement||(G=Ce,ue=G.documentElement,ae=!y.isXMLDoc(G),Te=ue.matches||ue.webkitMatchesSelector||ue.msMatchesSelector,ue.msMatchesSelector&&q!=G&&(he=G.defaultView)&&he.top!==he&&he.addEventListener("unload",dr),R.getById=dn(function(Ee){return ue.appendChild(Ee).id=y.expando,!G.getElementsByName||!G.getElementsByName(y.expando).length}),R.disconnectedMatch=dn(function(Ee){return Te.call(Ee,"*")}),R.scope=dn(function(){return G.querySelectorAll(":scope")}),R.cssHas=dn(function(){try{return G.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),R.getById?(b.filter.ID=function(Ee){var Me=Ee.replace(Cr,Wt);return function(ze){return ze.getAttribute("id")===Me}},b.find.ID=function(Ee,Me){if(typeof Me.getElementById<"u"&&ae){var ze=Me.getElementById(Ee);return ze?[ze]:[]}}):(b.filter.ID=function(Ee){var Me=Ee.replace(Cr,Wt);return function(ze){var et=typeof ze.getAttributeNode<"u"&&ze.getAttributeNode("id");return et&&et.value===Me}},b.find.ID=function(Ee,Me){if(typeof Me.getElementById<"u"&&ae){var ze,et,ot,Ze=Me.getElementById(Ee);if(Ze){if(ze=Ze.getAttributeNode("id"),ze&&ze.value===Ee)return[Ze];for(ot=Me.getElementsByName(Ee),et=0;Ze=ot[et++];)if(ze=Ze.getAttributeNode("id"),ze&&ze.value===Ee)return[Ze]}return[]}}),b.find.TAG=function(Ee,Me){return typeof Me.getElementsByTagName<"u"?Me.getElementsByTagName(Ee):Me.querySelectorAll(Ee)},b.find.CLASS=function(Ee,Me){if(typeof Me.getElementsByClassName<"u"&&ae)return Me.getElementsByClassName(Ee)},ge=[],dn(function(Ee){var Me;ue.appendChild(Ee).innerHTML="<a id='"+Oe+"' href='' disabled='disabled'></a><select id='"+Oe+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ee.querySelectorAll("[selected]").length||ge.push("\\["+oe+"*(?:value|"+P+")"),Ee.querySelectorAll("[id~="+Oe+"-]").length||ge.push("~="),Ee.querySelectorAll("a#"+Oe+"+*").length||ge.push(".#.+[+~]"),Ee.querySelectorAll(":checked").length||ge.push(":checked"),Me=G.createElement("input"),Me.setAttribute("type","hidden"),Ee.appendChild(Me).setAttribute("name","D"),ue.appendChild(Ee).disabled=!0,Ee.querySelectorAll(":disabled").length!==2&&ge.push(":enabled",":disabled"),Me=G.createElement("input"),Me.setAttribute("name",""),Ee.appendChild(Me),Ee.querySelectorAll("[name='']").length||ge.push("\\["+oe+"*name"+oe+"*="+oe+`*(?:''|"")`)}),R.cssHas||ge.push(":has"),ge=ge.length&&new RegExp(ge.join("|")),Y=function(Ee,Me){if(Ee===Me)return z=!0,0;var ze=!Ee.compareDocumentPosition-!Me.compareDocumentPosition;return ze||(ze=(Ee.ownerDocument||Ee)==(Me.ownerDocument||Me)?Ee.compareDocumentPosition(Me):1,ze&1||!R.sortDetached&&Me.compareDocumentPosition(Ee)===ze?Ee===G||Ee.ownerDocument==q&&_t.contains(q,Ee)?-1:Me===G||Me.ownerDocument==q&&_t.contains(q,Me)?1:L?p.call(L,Ee)-p.call(L,Me):0:ze&4?-1:1)}),G}_t.matches=function(re,he){return _t(re,null,null,he)},_t.matchesSelector=function(re,he){if(An(re),ae&&!$[he+" "]&&(!ge||!ge.test(he)))try{var Ce=Te.call(re,he);if(Ce||R.disconnectedMatch||re.document&&re.document.nodeType!==11)return Ce}catch{$(he,!0)}return _t(he,G,null,[re]).length>0},_t.contains=function(re,he){return(re.ownerDocument||re)!=G&&An(re),y.contains(re,he)},_t.attr=function(re,he){(re.ownerDocument||re)!=G&&An(re);var Ce=b.attrHandle[he.toLowerCase()],Ee=Ce&&d.call(b.attrHandle,he.toLowerCase())?Ce(re,he,!ae):void 0;return Ee!==void 0?Ee:re.getAttribute(he)},_t.error=function(re){throw new Error("Syntax error, unrecognized expression: "+re)},y.uniqueSort=function(re){var he,Ce=[],Ee=0,Me=0;if(z=!R.sortStable,L=!R.sortStable&&i.call(re,0),K.call(re,Y),z){for(;he=re[Me++];)he===re[Me]&&(Ee=Ce.push(Me));for(;Ee--;)Q.call(re,Ce[Ee],1)}return L=null,re},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(i.apply(this)))},b=y.expr={cacheLength:50,createPseudo:ir,match:tt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(re){return re[1]=re[1].replace(Cr,Wt),re[3]=(re[3]||re[4]||re[5]||"").replace(Cr,Wt),re[2]==="~="&&(re[3]=" "+re[3]+" "),re.slice(0,4)},CHILD:function(re){return re[1]=re[1].toLowerCase(),re[1].slice(0,3)==="nth"?(re[3]||_t.error(re[0]),re[4]=+(re[4]?re[5]+(re[6]||1):2*(re[3]==="even"||re[3]==="odd")),re[5]=+(re[7]+re[8]||re[3]==="odd")):re[3]&&_t.error(re[0]),re},PSEUDO:function(re){var he,Ce=!re[6]&&re[2];return tt.CHILD.test(re[0])?null:(re[3]?re[2]=re[4]||re[5]||"":Ce&&Ke.test(Ce)&&(he=es(Ce,!0))&&(he=Ce.indexOf(")",Ce.length-he)-Ce.length)&&(re[0]=re[0].slice(0,he),re[2]=Ce.slice(0,he)),re.slice(0,3))}},filter:{TAG:function(re){var he=re.replace(Cr,Wt).toLowerCase();return re==="*"?function(){return!0}:function(Ce){return I(Ce,he)}},CLASS:function(re){var he=vt[re+" "];return he||(he=new RegExp("(^|"+oe+")"+re+"("+oe+"|$)"))&&vt(re,function(Ce){return he.test(typeof Ce.className=="string"&&Ce.className||typeof Ce.getAttribute<"u"&&Ce.getAttribute("class")||"")})},ATTR:function(re,he,Ce){return function(Ee){var Me=_t.attr(Ee,re);return Me==null?he==="!=":he?(Me+="",he==="="?Me===Ce:he==="!="?Me!==Ce:he==="^="?Ce&&Me.indexOf(Ce)===0:he==="*="?Ce&&Me.indexOf(Ce)>-1:he==="$="?Ce&&Me.slice(-Ce.length)===Ce:he==="~="?(" "+Me.replace(se," ")+" ").indexOf(Ce)>-1:he==="|="?Me===Ce||Me.slice(0,Ce.length+1)===Ce+"-":!1):!0}},CHILD:function(re,he,Ce,Ee,Me){var ze=re.slice(0,3)!=="nth",et=re.slice(-4)!=="last",ot=he==="of-type";return Ee===1&&Me===0?function(Ze){return!!Ze.parentNode}:function(Ze,Nt,lt){var bt,xt,dt,sr,hn,Gr=ze!==et?"nextSibling":"previousSibling",jn=Ze.parentNode,Ii=ot&&Ze.nodeName.toLowerCase(),vi=!lt&&!ot,Jr=!1;if(jn){if(ze){for(;Gr;){for(dt=Ze;dt=dt[Gr];)if(ot?I(dt,Ii):dt.nodeType===1)return!1;hn=Gr=re==="only"&&!hn&&"nextSibling"}return!0}if(hn=[et?jn.firstChild:jn.lastChild],et&&vi){for(xt=jn[Oe]||(jn[Oe]={}),bt=xt[re]||[],sr=bt[0]===be&&bt[1],Jr=sr&&bt[2],dt=sr&&jn.childNodes[sr];dt=++sr&&dt&&dt[Gr]||(Jr=sr=0)||hn.pop();)if(dt.nodeType===1&&++Jr&&dt===Ze){xt[re]=[be,sr,Jr];break}}else if(vi&&(xt=Ze[Oe]||(Ze[Oe]={}),bt=xt[re]||[],sr=bt[0]===be&&bt[1],Jr=sr),Jr===!1)for(;(dt=++sr&&dt&&dt[Gr]||(Jr=sr=0)||hn.pop())&&!((ot?I(dt,Ii):dt.nodeType===1)&&++Jr&&(vi&&(xt=dt[Oe]||(dt[Oe]={}),xt[re]=[be,Jr]),dt===Ze)););return Jr-=Me,Jr===Ee||Jr%Ee===0&&Jr/Ee>=0}}},PSEUDO:function(re,he){var Ce,Ee=b.pseudos[re]||b.setFilters[re.toLowerCase()]||_t.error("unsupported pseudo: "+re);return Ee[Oe]?Ee(he):Ee.length>1?(Ce=[re,re,"",he],b.setFilters.hasOwnProperty(re.toLowerCase())?ir(function(Me,ze){for(var et,ot=Ee(Me,he),Ze=ot.length;Ze--;)et=p.call(Me,ot[Ze]),Me[et]=!(ze[et]=ot[Ze])}):function(Me){return Ee(Me,0,Ce)}):Ee}},pseudos:{not:ir(function(re){var he=[],Ce=[],Ee=nc(re.replace(Z,"$1"));return Ee[Oe]?ir(function(Me,ze,et,ot){for(var Ze,Nt=Ee(Me,null,ot,[]),lt=Me.length;lt--;)(Ze=Nt[lt])&&(Me[lt]=!(ze[lt]=Ze))}):function(Me,ze,et){return he[0]=Me,Ee(he,null,et,Ce),he[0]=null,!Ce.pop()}}),has:ir(function(re){return function(he){return _t(re,he).length>0}}),contains:ir(function(re){return re=re.replace(Cr,Wt),function(he){return(he.textContent||y.text(he)).indexOf(re)>-1}}),lang:ir(function(re){return Ge.test(re||"")||_t.error("unsupported lang: "+re),re=re.replace(Cr,Wt).toLowerCase(),function(he){var Ce;do if(Ce=ae?he.lang:he.getAttribute("xml:lang")||he.getAttribute("lang"))return Ce=Ce.toLowerCase(),Ce===re||Ce.indexOf(re+"-")===0;while((he=he.parentNode)&&he.nodeType===1);return!1}}),target:function(re){var he=e.location&&e.location.hash;return he&&he.slice(1)===re.id},root:function(re){return re===ue},focus:function(re){return re===Sn()&&G.hasFocus()&&!!(re.type||re.href||~re.tabIndex)},enabled:Ni(!1),disabled:Ni(!0),checked:function(re){return I(re,"input")&&!!re.checked||I(re,"option")&&!!re.selected},selected:function(re){return re.parentNode&&re.parentNode.selectedIndex,re.selected===!0},empty:function(re){for(re=re.firstChild;re;re=re.nextSibling)if(re.nodeType<6)return!1;return!0},parent:function(re){return!b.pseudos.empty(re)},header:function(re){return At.test(re.nodeName)},input:function(re){return mt.test(re.nodeName)},button:function(re){return I(re,"input")&&re.type==="button"||I(re,"button")},text:function(re){var he;return I(re,"input")&&re.type==="text"&&((he=re.getAttribute("type"))==null||he.toLowerCase()==="text")},first:fn(function(){return[0]}),last:fn(function(re,he){return[he-1]}),eq:fn(function(re,he,Ce){return[Ce<0?Ce+he:Ce]}),even:fn(function(re,he){for(var Ce=0;Ce<he;Ce+=2)re.push(Ce);return re}),odd:fn(function(re,he){for(var Ce=1;Ce<he;Ce+=2)re.push(Ce);return re}),lt:fn(function(re,he,Ce){var Ee;for(Ce<0?Ee=Ce+he:Ce>he?Ee=he:Ee=Ce;--Ee>=0;)re.push(Ee);return re}),gt:fn(function(re,he,Ce){for(var Ee=Ce<0?Ce+he:Ce;++Ee<he;)re.push(Ee);return re})}},b.pseudos.nth=b.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[g]=Ps(g);for(g in{submit:!0,reset:!0})b.pseudos[g]=Os(g);function gi(){}gi.prototype=b.filters=b.pseudos,b.setFilters=new gi;function es(re,he){var Ce,Ee,Me,ze,et,ot,Ze,Nt=Dt[re+" "];if(Nt)return he?0:Nt.slice(0);for(et=re,ot=[],Ze=b.preFilter;et;){(!Ce||(Ee=Se.exec(et)))&&(Ee&&(et=et.slice(Ee[0].length)||et),ot.push(Me=[])),Ce=!1,(Ee=De.exec(et))&&(Ce=Ee.shift(),Me.push({value:Ce,type:Ee[0].replace(Z," ")}),et=et.slice(Ce.length));for(ze in b.filter)(Ee=tt[ze].exec(et))&&(!Ze[ze]||(Ee=Ze[ze](Ee)))&&(Ce=Ee.shift(),Me.push({value:Ce,type:ze,matches:Ee}),et=et.slice(Ce.length));if(!Ce)break}return he?et.length:et?_t.error(re):Dt(re,ot).slice(0)}function Sa(re){for(var he=0,Ce=re.length,Ee="";he<Ce;he++)Ee+=re[he].value;return Ee}function Yo(re,he,Ce){var Ee=he.dir,Me=he.next,ze=Me||Ee,et=Ce&&ze==="parentNode",ot=Ie++;return he.first?function(Ze,Nt,lt){for(;Ze=Ze[Ee];)if(Ze.nodeType===1||et)return re(Ze,Nt,lt);return!1}:function(Ze,Nt,lt){var bt,xt,dt=[be,ot];if(lt){for(;Ze=Ze[Ee];)if((Ze.nodeType===1||et)&&re(Ze,Nt,lt))return!0}else for(;Ze=Ze[Ee];)if(Ze.nodeType===1||et)if(xt=Ze[Oe]||(Ze[Oe]={}),Me&&I(Ze,Me))Ze=Ze[Ee]||Ze;else{if((bt=xt[ze])&&bt[0]===be&&bt[1]===ot)return dt[2]=bt[2];if(xt[ze]=dt,dt[2]=re(Ze,Nt,lt))return!0}return!1}}function vo(re){return re.length>1?function(he,Ce,Ee){for(var Me=re.length;Me--;)if(!re[Me](he,Ce,Ee))return!1;return!0}:re[0]}function Kc(re,he,Ce){for(var Ee=0,Me=he.length;Ee<Me;Ee++)_t(re,he[Ee],Ce);return Ce}function ts(re,he,Ce,Ee,Me){for(var ze,et=[],ot=0,Ze=re.length,Nt=he!=null;ot<Ze;ot++)(ze=re[ot])&&(!Ce||Ce(ze,Ee,Me))&&(et.push(ze),Nt&&he.push(ot));return et}function Ds(re,he,Ce,Ee,Me,ze){return Ee&&!Ee[Oe]&&(Ee=Ds(Ee)),Me&&!Me[Oe]&&(Me=Ds(Me,ze)),ir(function(et,ot,Ze,Nt){var lt,bt,xt,dt,sr=[],hn=[],Gr=ot.length,jn=et||Kc(he||"*",Ze.nodeType?[Ze]:Ze,[]),Ii=re&&(et||!he)?ts(jn,sr,re,Ze,Nt):jn;if(Ce?(dt=Me||(et?re:Gr||Ee)?[]:ot,Ce(Ii,dt,Ze,Nt)):dt=Ii,Ee)for(lt=ts(dt,hn),Ee(lt,[],Ze,Nt),bt=lt.length;bt--;)(xt=lt[bt])&&(dt[hn[bt]]=!(Ii[hn[bt]]=xt));if(et){if(Me||re){if(Me){for(lt=[],bt=dt.length;bt--;)(xt=dt[bt])&&lt.push(Ii[bt]=xt);Me(null,dt=[],lt,Nt)}for(bt=dt.length;bt--;)(xt=dt[bt])&&(lt=Me?p.call(et,xt):sr[bt])>-1&&(et[lt]=!(ot[lt]=xt))}}else dt=ts(dt===ot?dt.splice(Gr,dt.length):dt),Me?Me(null,ot,dt,Nt):V.apply(ot,dt)})}function rc(re){for(var he,Ce,Ee,Me=re.length,ze=b.relative[re[0].type],et=ze||b.relative[" "],ot=ze?1:0,Ze=Yo(function(bt){return bt===he},et,!0),Nt=Yo(function(bt){return p.call(he,bt)>-1},et,!0),lt=[function(bt,xt,dt){var sr=!ze&&(dt||xt!=D)||((he=xt).nodeType?Ze(bt,xt,dt):Nt(bt,xt,dt));return he=null,sr}];ot<Me;ot++)if(Ce=b.relative[re[ot].type])lt=[Yo(vo(lt),Ce)];else{if(Ce=b.filter[re[ot].type].apply(null,re[ot].matches),Ce[Oe]){for(Ee=++ot;Ee<Me&&!b.relative[re[Ee].type];Ee++);return Ds(ot>1&&vo(lt),ot>1&&Sa(re.slice(0,ot-1).concat({value:re[ot-2].type===" "?"*":""})).replace(Z,"$1"),Ce,ot<Ee&&rc(re.slice(ot,Ee)),Ee<Me&&rc(re=re.slice(Ee)),Ee<Me&&Sa(re))}lt.push(Ce)}return vo(lt)}function Ms(re,he){var Ce=he.length>0,Ee=re.length>0,Me=function(ze,et,ot,Ze,Nt){var lt,bt,xt,dt=0,sr="0",hn=ze&&[],Gr=[],jn=D,Ii=ze||Ee&&b.find.TAG("*",Nt),vi=be+=jn==null?1:Math.random()||.1,Jr=Ii.length;for(Nt&&(D=et==G||et||Nt);sr!==Jr&&(lt=Ii[sr])!=null;sr++){if(Ee&&lt){for(bt=0,!et&&lt.ownerDocument!=G&&(An(lt),ot=!ae);xt=re[bt++];)if(xt(lt,et||G,ot)){V.call(Ze,lt);break}Nt&&(be=vi)}Ce&&((lt=!xt&&lt)&&dt--,ze&&hn.push(lt))}if(dt+=sr,Ce&&sr!==dt){for(bt=0;xt=he[bt++];)xt(hn,Gr,et,ot);if(ze){if(dt>0)for(;sr--;)hn[sr]||Gr[sr]||(Gr[sr]=U.call(Ze));Gr=ts(Gr)}V.apply(Ze,Gr),Nt&&!ze&&Gr.length>0&&dt+he.length>1&&y.uniqueSort(Ze)}return Nt&&(be=vi,D=jn),hn};return Ce?ir(Me):Me}function nc(re,he){var Ce,Ee=[],Me=[],ze=wt[re+" "];if(!ze){for(he||(he=es(re)),Ce=he.length;Ce--;)ze=rc(he[Ce]),ze[Oe]?Ee.push(ze):Me.push(ze);ze=wt(re,Ms(Me,Ee)),ze.selector=re}return ze}function ic(re,he,Ce,Ee){var Me,ze,et,ot,Ze,Nt=typeof re=="function"&&re,lt=!Ee&&es(re=Nt.selector||re);if(Ce=Ce||[],lt.length===1){if(ze=lt[0]=lt[0].slice(0),ze.length>2&&(et=ze[0]).type==="ID"&&he.nodeType===9&&ae&&b.relative[ze[1].type]){if(he=(b.find.ID(et.matches[0].replace(Cr,Wt),he)||[])[0],he)Nt&&(he=he.parentNode);else return Ce;re=re.slice(ze.shift().value.length)}for(Me=tt.needsContext.test(re)?0:ze.length;Me--&&(et=ze[Me],!b.relative[ot=et.type]);)if((Ze=b.find[ot])&&(Ee=Ze(et.matches[0].replace(Cr,Wt),ur.test(ze[0].type)&&Cn(he.parentNode)||he))){if(ze.splice(Me,1),re=Ee.length&&Sa(ze),!re)return V.apply(Ce,Ee),Ce;break}}return(Nt||nc(re,lt))(Ee,he,!ae,Ce,!he||ur.test(re)&&Cn(he.parentNode)||he),Ce}R.sortStable=Oe.split("").sort(Y).join("")===Oe,An(),R.sortDetached=dn(function(re){return re.compareDocumentPosition(G.createElement("fieldset"))&1}),y.find=_t,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,_t.compile=nc,_t.select=ic,_t.setDocument=An,_t.tokenize=es,_t.escape=y.escapeSelector,_t.getText=y.text,_t.isXML=y.isXMLDoc,_t.selectors=y.expr,_t.support=y.support,_t.uniqueSort=y.uniqueSort})();var ce=function(g,b,D){for(var L=[],z=D!==void 0;(g=g[b])&&g.nodeType!==9;)if(g.nodeType===1){if(z&&y(g).is(D))break;L.push(g)}return L},ve=function(g,b){for(var D=[];g;g=g.nextSibling)g.nodeType===1&&g!==b&&D.push(g);return D},fe=y.expr.match.needsContext,ke=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Re(g,b,D){return S(b)?y.grep(g,function(L,z){return!!b.call(L,z,L)!==D}):b.nodeType?y.grep(g,function(L){return L===b!==D}):typeof b!="string"?y.grep(g,function(L){return p.call(b,L)>-1!==D}):y.filter(b,g,D)}y.filter=function(g,b,D){var L=b[0];return D&&(g=":not("+g+")"),b.length===1&&L.nodeType===1?y.find.matchesSelector(L,g)?[L]:[]:y.find.matches(g,y.grep(b,function(z){return z.nodeType===1}))},y.fn.extend({find:function(g){var b,D,L=this.length,z=this;if(typeof g!="string")return this.pushStack(y(g).filter(function(){for(b=0;b<L;b++)if(y.contains(z[b],this))return!0}));for(D=this.pushStack([]),b=0;b<L;b++)y.find(g,z[b],D);return L>1?y.uniqueSort(D):D},filter:function(g){return this.pushStack(Re(this,g||[],!1))},not:function(g){return this.pushStack(Re(this,g||[],!0))},is:function(g){return!!Re(this,typeof g=="string"&&fe.test(g)?y(g):g||[],!1).length}});var Ue,qe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Je=y.fn.init=function(g,b,D){var L,z;if(!g)return this;if(D=D||Ue,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?L=[null,g,null]:L=qe.exec(g),L&&(L[1]||!b))if(L[1]){if(b=b instanceof y?b[0]:b,y.merge(this,y.parseHTML(L[1],b&&b.nodeType?b.ownerDocument||b:v,!0)),ke.test(L[1])&&y.isPlainObject(b))for(L in b)S(this[L])?this[L](b[L]):this.attr(L,b[L]);return this}else return z=v.getElementById(L[2]),z&&(this[0]=z,this.length=1),this;else return!b||b.jquery?(b||D).find(g):this.constructor(b).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(S(g))return D.ready!==void 0?D.ready(g):g(y)}return y.makeArray(g,this)};Je.prototype=y.fn,Ue=y(v);var kt=/^(?:parents|prev(?:Until|All))/,Xt={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(g){var b=y(g,this),D=b.length;return this.filter(function(){for(var L=0;L<D;L++)if(y.contains(this,b[L]))return!0})},closest:function(g,b){var D,L=0,z=this.length,V=[],G=typeof g!="string"&&y(g);if(!fe.test(g)){for(;L<z;L++)for(D=this[L];D&&D!==b;D=D.parentNode)if(D.nodeType<11&&(G?G.index(D)>-1:D.nodeType===1&&y.find.matchesSelector(D,g))){V.push(D);break}}return this.pushStack(V.length>1?y.uniqueSort(V):V)},index:function(g){return g?typeof g=="string"?p.call(y(g),this[0]):p.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,b){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(g,b))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function qt(g,b){for(;(g=g[b])&&g.nodeType!==1;);return g}y.each({parent:function(g){var b=g.parentNode;return b&&b.nodeType!==11?b:null},parents:function(g){return ce(g,"parentNode")},parentsUntil:function(g,b,D){return ce(g,"parentNode",D)},next:function(g){return qt(g,"nextSibling")},prev:function(g){return qt(g,"previousSibling")},nextAll:function(g){return ce(g,"nextSibling")},prevAll:function(g){return ce(g,"previousSibling")},nextUntil:function(g,b,D){return ce(g,"nextSibling",D)},prevUntil:function(g,b,D){return ce(g,"previousSibling",D)},siblings:function(g){return ve((g.parentNode||{}).firstChild,g)},children:function(g){return ve(g.firstChild)},contents:function(g){return g.contentDocument!=null&&s(g.contentDocument)?g.contentDocument:(I(g,"template")&&(g=g.content||g),y.merge([],g.childNodes))}},function(g,b){y.fn[g]=function(D,L){var z=y.map(this,b,D);return g.slice(-5)!=="Until"&&(L=D),L&&typeof L=="string"&&(z=y.filter(L,z)),this.length>1&&(Xt[g]||y.uniqueSort(z),kt.test(g)&&z.reverse()),this.pushStack(z)}});var pr=/[^\x20\t\r\n\f]+/g;function kn(g){var b={};return y.each(g.match(pr)||[],function(D,L){b[L]=!0}),b}y.Callbacks=function(g){g=typeof g=="string"?kn(g):y.extend({},g);var b,D,L,z,V=[],G=[],ue=-1,ae=function(){for(z=z||g.once,L=b=!0;G.length;ue=-1)for(D=G.shift();++ue<V.length;)V[ue].apply(D[0],D[1])===!1&&g.stopOnFalse&&(ue=V.length,D=!1);g.memory||(D=!1),b=!1,z&&(D?V=[]:V="")},ge={add:function(){return V&&(D&&!b&&(ue=V.length-1,G.push(D)),function Te(Oe){y.each(Oe,function(be,Ie){S(Ie)?(!g.unique||!ge.has(Ie))&&V.push(Ie):Ie&&Ie.length&&M(Ie)!=="string"&&Te(Ie)})}(arguments),D&&!b&&ae()),this},remove:function(){return y.each(arguments,function(Te,Oe){for(var be;(be=y.inArray(Oe,V,be))>-1;)V.splice(be,1),be<=ue&&ue--}),this},has:function(Te){return Te?y.inArray(Te,V)>-1:V.length>0},empty:function(){return V&&(V=[]),this},disable:function(){return z=G=[],V=D="",this},disabled:function(){return!V},lock:function(){return z=G=[],!D&&!b&&(V=D=""),this},locked:function(){return!!z},fireWith:function(Te,Oe){return z||(Oe=Oe||[],Oe=[Te,Oe.slice?Oe.slice():Oe],G.push(Oe),b||ae()),this},fire:function(){return ge.fireWith(this,arguments),this},fired:function(){return!!L}};return ge};function Jt(g){return g}function br(g){throw g}function Qt(g,b,D,L){var z;try{g&&S(z=g.promise)?z.call(g).done(b).fail(D):g&&S(z=g.then)?z.call(g,b,D):b.apply(void 0,[g].slice(L))}catch(V){D.apply(void 0,[V])}}y.extend({Deferred:function(g){var b=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],D="pending",L={state:function(){return D},always:function(){return z.done(arguments).fail(arguments),this},catch:function(V){return L.then(null,V)},pipe:function(){var V=arguments;return y.Deferred(function(G){y.each(b,function(ue,ae){var ge=S(V[ae[4]])&&V[ae[4]];z[ae[1]](function(){var Te=ge&&ge.apply(this,arguments);Te&&S(Te.promise)?Te.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[ae[0]+"With"](this,ge?[Te]:arguments)})}),V=null}).promise()},then:function(V,G,ue){var ae=0;function ge(Te,Oe,be,Ie){return function(){var vt=this,Dt=arguments,wt=function(){var Y,P;if(!(Te<ae)){if(Y=be.apply(vt,Dt),Y===Oe.promise())throw new TypeError("Thenable self-resolution");P=Y&&(typeof Y=="object"||typeof Y=="function")&&Y.then,S(P)?Ie?P.call(Y,ge(ae,Oe,Jt,Ie),ge(ae,Oe,br,Ie)):(ae++,P.call(Y,ge(ae,Oe,Jt,Ie),ge(ae,Oe,br,Ie),ge(ae,Oe,Jt,Oe.notifyWith))):(be!==Jt&&(vt=void 0,Dt=[Y]),(Ie||Oe.resolveWith)(vt,Dt))}},$=Ie?wt:function(){try{wt()}catch(Y){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(Y,$.error),Te+1>=ae&&(be!==br&&(vt=void 0,Dt=[Y]),Oe.rejectWith(vt,Dt))}};Te?$():(y.Deferred.getErrorHook?$.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&($.error=y.Deferred.getStackHook()),e.setTimeout($))}}return y.Deferred(function(Te){b[0][3].add(ge(0,Te,S(ue)?ue:Jt,Te.notifyWith)),b[1][3].add(ge(0,Te,S(V)?V:Jt)),b[2][3].add(ge(0,Te,S(G)?G:br))}).promise()},promise:function(V){return V!=null?y.extend(V,L):L}},z={};return y.each(b,function(V,G){var ue=G[2],ae=G[5];L[G[1]]=ue.add,ae&&ue.add(function(){D=ae},b[3-V][2].disable,b[3-V][3].disable,b[0][2].lock,b[0][3].lock),ue.add(G[3].fire),z[G[0]]=function(){return z[G[0]+"With"](this===z?void 0:this,arguments),this},z[G[0]+"With"]=ue.fireWith}),L.promise(z),g&&g.call(z,z),z},when:function(g){var b=arguments.length,D=b,L=Array(D),z=i.call(arguments),V=y.Deferred(),G=function(ue){return function(ae){L[ue]=this,z[ue]=arguments.length>1?i.call(arguments):ae,--b||V.resolveWith(L,z)}};if(b<=1&&(Qt(g,V.done(G(D)).resolve,V.reject,!b),V.state()==="pending"||S(z[D]&&z[D].then)))return V.then();for(;D--;)Qt(z[D],G(D),V.reject);return V.promise()}});var on=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(g,b){e.console&&e.console.warn&&g&&on.test(g.name)&&e.console.warn("jQuery.Deferred exception: "+g.message,g.stack,b)},y.readyException=function(g){e.setTimeout(function(){throw g})};var cr=y.Deferred();y.fn.ready=function(g){return cr.then(g).catch(function(b){y.readyException(b)}),this},y.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(g!==!0&&--y.readyWait>0)&&cr.resolveWith(v,[y]))}}),y.ready.then=cr.then;function xr(){v.removeEventListener("DOMContentLoaded",xr),e.removeEventListener("load",xr),y.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(y.ready):(v.addEventListener("DOMContentLoaded",xr),e.addEventListener("load",xr));var en=function(g,b,D,L,z,V,G){var ue=0,ae=g.length,ge=D==null;if(M(D)==="object"){z=!0;for(ue in D)en(g,b,ue,D[ue],!0,V,G)}else if(L!==void 0&&(z=!0,S(L)||(G=!0),ge&&(G?(b.call(g,L),b=null):(ge=b,b=function(Te,Oe,be){return ge.call(y(Te),be)})),b))for(;ue<ae;ue++)b(g[ue],D,G?L:L.call(g[ue],ue,b(g[ue],D)));return z?g:ge?b.call(g):ae?b(g[0],D):V},jr=/^-ms-/,vn=/-([a-z])/g;function xn(g,b){return b.toUpperCase()}function Ir(g){return g.replace(jr,"ms-").replace(vn,xn)}var Ct=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function nr(){this.expando=y.expando+nr.uid++}nr.uid=1,nr.prototype={cache:function(g){var b=g[this.expando];return b||(b={},Ct(g)&&(g.nodeType?g[this.expando]=b:Object.defineProperty(g,this.expando,{value:b,configurable:!0}))),b},set:function(g,b,D){var L,z=this.cache(g);if(typeof b=="string")z[Ir(b)]=D;else for(L in b)z[Ir(L)]=b[L];return z},get:function(g,b){return b===void 0?this.cache(g):g[this.expando]&&g[this.expando][Ir(b)]},access:function(g,b,D){return b===void 0||b&&typeof b=="string"&&D===void 0?this.get(g,b):(this.set(g,b,D),D!==void 0?D:b)},remove:function(g,b){var D,L=g[this.expando];if(L!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ir):(b=Ir(b),b=b in L?[b]:b.match(pr)||[]),D=b.length;D--;)delete L[b[D]];(b===void 0||y.isEmptyObject(L))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var b=g[this.expando];return b!==void 0&&!y.isEmptyObject(b)}};var Qe=new nr,Yt=new nr,mr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,lr=/[A-Z]/g;function $n(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:mr.test(g)?JSON.parse(g):g}function Gi(g,b,D){var L;if(D===void 0&&g.nodeType===1)if(L="data-"+b.replace(lr,"-$&").toLowerCase(),D=g.getAttribute(L),typeof D=="string"){try{D=$n(D)}catch{}Yt.set(g,b,D)}else D=void 0;return D}y.extend({hasData:function(g){return Yt.hasData(g)||Qe.hasData(g)},data:function(g,b,D){return Yt.access(g,b,D)},removeData:function(g,b){Yt.remove(g,b)},_data:function(g,b,D){return Qe.access(g,b,D)},_removeData:function(g,b){Qe.remove(g,b)}}),y.fn.extend({data:function(g,b){var D,L,z,V=this[0],G=V&&V.attributes;if(g===void 0){if(this.length&&(z=Yt.get(V),V.nodeType===1&&!Qe.get(V,"hasDataAttrs"))){for(D=G.length;D--;)G[D]&&(L=G[D].name,L.indexOf("data-")===0&&(L=Ir(L.slice(5)),Gi(V,L,z[L])));Qe.set(V,"hasDataAttrs",!0)}return z}return typeof g=="object"?this.each(function(){Yt.set(this,g)}):en(this,function(ue){var ae;if(V&&ue===void 0)return ae=Yt.get(V,g),ae!==void 0||(ae=Gi(V,g),ae!==void 0)?ae:void 0;this.each(function(){Yt.set(this,g,ue)})},null,b,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){Yt.remove(this,g)})}}),y.extend({queue:function(g,b,D){var L;if(g)return b=(b||"fx")+"queue",L=Qe.get(g,b),D&&(!L||Array.isArray(D)?L=Qe.access(g,b,y.makeArray(D)):L.push(D)),L||[]},dequeue:function(g,b){b=b||"fx";var D=y.queue(g,b),L=D.length,z=D.shift(),V=y._queueHooks(g,b),G=function(){y.dequeue(g,b)};z==="inprogress"&&(z=D.shift(),L--),z&&(b==="fx"&&D.unshift("inprogress"),delete V.stop,z.call(g,G,V)),!L&&V&&V.empty.fire()},_queueHooks:function(g,b){var D=b+"queueHooks";return Qe.get(g,D)||Qe.access(g,D,{empty:y.Callbacks("once memory").add(function(){Qe.remove(g,[b+"queue",D])})})}}),y.fn.extend({queue:function(g,b){var D=2;return typeof g!="string"&&(b=g,g="fx",D--),arguments.length<D?y.queue(this[0],g):b===void 0?this:this.each(function(){var L=y.queue(this,g,b);y._queueHooks(this,g),g==="fx"&&L[0]!=="inprogress"&&y.dequeue(this,g)})},dequeue:function(g){return this.each(function(){y.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,b){var D,L=1,z=y.Deferred(),V=this,G=this.length,ue=function(){--L||z.resolveWith(V,[V])};for(typeof g!="string"&&(b=g,g=void 0),g=g||"fx";G--;)D=Qe.get(V[G],g+"queueHooks"),D&&D.empty&&(L++,D.empty.add(ue));return ue(),z.promise(b)}});var Vr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Vr+")([a-z%]*)$","i"),Sr=["Top","Right","Bottom","Left"],zr=v.documentElement,_n=function(g){return y.contains(g.ownerDocument,g)},Xn={composed:!0};zr.getRootNode&&(_n=function(g){return y.contains(g.ownerDocument,g)||g.getRootNode(Xn)===g.ownerDocument});var pt=function(g,b){return g=b||g,g.style.display==="none"||g.style.display===""&&_n(g)&&y.css(g,"display")==="none"};function Qn(g,b,D,L){var z,V,G=20,ue=L?function(){return L.cur()}:function(){return y.css(g,b,"")},ae=ue(),ge=D&&D[3]||(y.cssNumber[b]?"":"px"),Te=g.nodeType&&(y.cssNumber[b]||ge!=="px"&&+ae)&&Bt.exec(y.css(g,b));if(Te&&Te[3]!==ge){for(ae=ae/2,ge=ge||Te[3],Te=+ae||1;G--;)y.style(g,b,Te+ge),(1-V)*(1-(V=ue()/ae||.5))<=0&&(G=0),Te=Te/V;Te=Te*2,y.style(g,b,Te+ge),D=D||[]}return D&&(Te=+Te||+ae||0,z=D[1]?Te+(D[1]+1)*D[2]:+D[2],L&&(L.unit=ge,L.start=Te,L.end=z)),z}var Ti={};function ps(g){var b,D=g.ownerDocument,L=g.nodeName,z=Ti[L];return z||(b=D.body.appendChild(D.createElement(L)),z=y.css(b,"display"),b.parentNode.removeChild(b),z==="none"&&(z="block"),Ti[L]=z,z)}function Wr(g,b){for(var D,L,z=[],V=0,G=g.length;V<G;V++)L=g[V],L.style&&(D=L.style.display,b?(D==="none"&&(z[V]=Qe.get(L,"display")||null,z[V]||(L.style.display="")),L.style.display===""&&pt(L)&&(z[V]=ps(L))):D!=="none"&&(z[V]="none",Qe.set(L,"display",D)));for(V=0;V<G;V++)z[V]!=null&&(g[V].style.display=z[V]);return g}y.fn.extend({show:function(){return Wr(this,!0)},hide:function(){return Wr(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){pt(this)?y(this).show():y(this).hide()})}});var ui=/^(?:checkbox|radio)$/i,ms=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ri=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=v.createDocumentFragment(),b=g.appendChild(v.createElement("div")),D=v.createElement("input");D.setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),b.appendChild(D),R.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",R.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",R.option=!!b.lastChild})();var Yr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yr.tbody=Yr.tfoot=Yr.colgroup=Yr.caption=Yr.thead,Yr.th=Yr.td,R.option||(Yr.optgroup=Yr.option=[1,"<select multiple='multiple'>","</select>"]);function gr(g,b){var D;return typeof g.getElementsByTagName<"u"?D=g.getElementsByTagName(b||"*"):typeof g.querySelectorAll<"u"?D=g.querySelectorAll(b||"*"):D=[],b===void 0||b&&I(g,b)?y.merge([g],D):D}function En(g,b){for(var D=0,L=g.length;D<L;D++)Qe.set(g[D],"globalEval",!b||Qe.get(b[D],"globalEval"))}var va=/<|&#?\w+;/;function ro(g,b,D,L,z){for(var V,G,ue,ae,ge,Te,Oe=b.createDocumentFragment(),be=[],Ie=0,vt=g.length;Ie<vt;Ie++)if(V=g[Ie],V||V===0)if(M(V)==="object")y.merge(be,V.nodeType?[V]:V);else if(!va.test(V))be.push(b.createTextNode(V));else{for(G=G||Oe.appendChild(b.createElement("div")),ue=(ms.exec(V)||["",""])[1].toLowerCase(),ae=Yr[ue]||Yr._default,G.innerHTML=ae[1]+y.htmlPrefilter(V)+ae[2],Te=ae[0];Te--;)G=G.lastChild;y.merge(be,G.childNodes),G=Oe.firstChild,G.textContent=""}for(Oe.textContent="",Ie=0;V=be[Ie++];){if(L&&y.inArray(V,L)>-1){z&&z.push(V);continue}if(ge=_n(V),G=gr(Oe.appendChild(V),"script"),ge&&En(G),D)for(Te=0;V=G[Te++];)Ri.test(V.type||"")&&D.push(V)}return Oe}var gs=/^([^.]*)(?:\.(.+)|)/;function di(){return!0}function fi(){return!1}function hi(g,b,D,L,z,V){var G,ue;if(typeof b=="object"){typeof D!="string"&&(L=L||D,D=void 0);for(ue in b)hi(g,ue,D,L,b[ue],V);return g}if(L==null&&z==null?(z=D,L=D=void 0):z==null&&(typeof D=="string"?(z=L,L=void 0):(z=L,L=D,D=void 0)),z===!1)z=fi;else if(!z)return g;return V===1&&(G=z,z=function(ae){return y().off(ae),G.apply(this,arguments)},z.guid=G.guid||(G.guid=y.guid++)),g.each(function(){y.event.add(this,b,z,L,D)})}y.event={global:{},add:function(g,b,D,L,z){var V,G,ue,ae,ge,Te,Oe,be,Ie,vt,Dt,wt=Qe.get(g);if(Ct(g))for(D.handler&&(V=D,D=V.handler,z=V.selector),z&&y.find.matchesSelector(zr,z),D.guid||(D.guid=y.guid++),(ae=wt.events)||(ae=wt.events=Object.create(null)),(G=wt.handle)||(G=wt.handle=function($){return typeof y<"u"&&y.event.triggered!==$.type?y.event.dispatch.apply(g,arguments):void 0}),b=(b||"").match(pr)||[""],ge=b.length;ge--;)ue=gs.exec(b[ge])||[],Ie=Dt=ue[1],vt=(ue[2]||"").split(".").sort(),Ie&&(Oe=y.event.special[Ie]||{},Ie=(z?Oe.delegateType:Oe.bindType)||Ie,Oe=y.event.special[Ie]||{},Te=y.extend({type:Ie,origType:Dt,data:L,handler:D,guid:D.guid,selector:z,needsContext:z&&y.expr.match.needsContext.test(z),namespace:vt.join(".")},V),(be=ae[Ie])||(be=ae[Ie]=[],be.delegateCount=0,(!Oe.setup||Oe.setup.call(g,L,vt,G)===!1)&&g.addEventListener&&g.addEventListener(Ie,G)),Oe.add&&(Oe.add.call(g,Te),Te.handler.guid||(Te.handler.guid=D.guid)),z?be.splice(be.delegateCount++,0,Te):be.push(Te),y.event.global[Ie]=!0)},remove:function(g,b,D,L,z){var V,G,ue,ae,ge,Te,Oe,be,Ie,vt,Dt,wt=Qe.hasData(g)&&Qe.get(g);if(!(!wt||!(ae=wt.events))){for(b=(b||"").match(pr)||[""],ge=b.length;ge--;){if(ue=gs.exec(b[ge])||[],Ie=Dt=ue[1],vt=(ue[2]||"").split(".").sort(),!Ie){for(Ie in ae)y.event.remove(g,Ie+b[ge],D,L,!0);continue}for(Oe=y.event.special[Ie]||{},Ie=(L?Oe.delegateType:Oe.bindType)||Ie,be=ae[Ie]||[],ue=ue[2]&&new RegExp("(^|\\.)"+vt.join("\\.(?:.*\\.|)")+"(\\.|$)"),G=V=be.length;V--;)Te=be[V],(z||Dt===Te.origType)&&(!D||D.guid===Te.guid)&&(!ue||ue.test(Te.namespace))&&(!L||L===Te.selector||L==="**"&&Te.selector)&&(be.splice(V,1),Te.selector&&be.delegateCount--,Oe.remove&&Oe.remove.call(g,Te));G&&!be.length&&((!Oe.teardown||Oe.teardown.call(g,vt,wt.handle)===!1)&&y.removeEvent(g,Ie,wt.handle),delete ae[Ie])}y.isEmptyObject(ae)&&Qe.remove(g,"handle events")}},dispatch:function(g){var b,D,L,z,V,G,ue=new Array(arguments.length),ae=y.event.fix(g),ge=(Qe.get(this,"events")||Object.create(null))[ae.type]||[],Te=y.event.special[ae.type]||{};for(ue[0]=ae,b=1;b<arguments.length;b++)ue[b]=arguments[b];if(ae.delegateTarget=this,!(Te.preDispatch&&Te.preDispatch.call(this,ae)===!1)){for(G=y.event.handlers.call(this,ae,ge),b=0;(z=G[b++])&&!ae.isPropagationStopped();)for(ae.currentTarget=z.elem,D=0;(V=z.handlers[D++])&&!ae.isImmediatePropagationStopped();)(!ae.rnamespace||V.namespace===!1||ae.rnamespace.test(V.namespace))&&(ae.handleObj=V,ae.data=V.data,L=((y.event.special[V.origType]||{}).handle||V.handler).apply(z.elem,ue),L!==void 0&&(ae.result=L)===!1&&(ae.preventDefault(),ae.stopPropagation()));return Te.postDispatch&&Te.postDispatch.call(this,ae),ae.result}},handlers:function(g,b){var D,L,z,V,G,ue=[],ae=b.delegateCount,ge=g.target;if(ae&&ge.nodeType&&!(g.type==="click"&&g.button>=1)){for(;ge!==this;ge=ge.parentNode||this)if(ge.nodeType===1&&!(g.type==="click"&&ge.disabled===!0)){for(V=[],G={},D=0;D<ae;D++)L=b[D],z=L.selector+" ",G[z]===void 0&&(G[z]=L.needsContext?y(z,this).index(ge)>-1:y.find(z,this,null,[ge]).length),G[z]&&V.push(L);V.length&&ue.push({elem:ge,handlers:V})}}return ge=this,ae<b.length&&ue.push({elem:ge,handlers:b.slice(ae)}),ue},addProp:function(g,b){Object.defineProperty(y.Event.prototype,g,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(D){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:D})}})},fix:function(g){return g[y.expando]?g:new y.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var b=this||g;return ui.test(b.type)&&b.click&&I(b,"input")&&Pi(b,"click",!0),!1},trigger:function(g){var b=this||g;return ui.test(b.type)&&b.click&&I(b,"input")&&Pi(b,"click"),!0},_default:function(g){var b=g.target;return ui.test(b.type)&&b.click&&I(b,"input")&&Qe.get(b,"click")||I(b,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Pi(g,b,D){if(!D){Qe.get(g,b)===void 0&&y.event.add(g,b,di);return}Qe.set(g,b,!1),y.event.add(g,b,{namespace:!1,handler:function(L){var z,V=Qe.get(this,b);if(L.isTrigger&1&&this[b]){if(V)(y.event.special[b]||{}).delegateType&&L.stopPropagation();else if(V=i.call(arguments),Qe.set(this,b,V),this[b](),z=Qe.get(this,b),Qe.set(this,b,!1),V!==z)return L.stopImmediatePropagation(),L.preventDefault(),z}else V&&(Qe.set(this,b,y.event.trigger(V[0],V.slice(1),this)),L.stopPropagation(),L.isImmediatePropagationStopped=di)}})}y.removeEvent=function(g,b,D){g.removeEventListener&&g.removeEventListener(b,D)},y.Event=function(g,b){if(!(this instanceof y.Event))return new y.Event(g,b);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?di:fi,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,b&&y.extend(this,b),this.timeStamp=g&&g.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:fi,isPropagationStopped:fi,isImmediatePropagationStopped:fi,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=di,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=di,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=di,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(g,b){function D(L){if(v.documentMode){var z=Qe.get(this,"handle"),V=y.event.fix(L);V.type=L.type==="focusin"?"focus":"blur",V.isSimulated=!0,z(L),V.target===V.currentTarget&&z(V)}else y.event.simulate(b,L.target,y.event.fix(L))}y.event.special[g]={setup:function(){var L;if(Pi(this,g,!0),v.documentMode)L=Qe.get(this,b),L||this.addEventListener(b,D),Qe.set(this,b,(L||0)+1);else return!1},trigger:function(){return Pi(this,g),!0},teardown:function(){var L;if(v.documentMode)L=Qe.get(this,b)-1,L?Qe.set(this,b,L):(this.removeEventListener(b,D),Qe.remove(this,b));else return!1},_default:function(L){return Qe.get(L.target,g)},delegateType:b},y.event.special[b]={setup:function(){var L=this.ownerDocument||this.document||this,z=v.documentMode?this:L,V=Qe.get(z,b);V||(v.documentMode?this.addEventListener(b,D):L.addEventListener(g,D,!0)),Qe.set(z,b,(V||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,z=v.documentMode?this:L,V=Qe.get(z,b)-1;V?Qe.set(z,b,V):(v.documentMode?this.removeEventListener(b,D):L.removeEventListener(g,D,!0),Qe.remove(z,b))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,b){y.event.special[g]={delegateType:b,bindType:b,handle:function(D){var L,z=this,V=D.relatedTarget,G=D.handleObj;return(!V||V!==z&&!y.contains(z,V))&&(D.type=G.origType,L=G.handler.apply(this,arguments),D.type=b),L}}}),y.fn.extend({on:function(g,b,D,L){return hi(this,g,b,D,L)},one:function(g,b,D,L){return hi(this,g,b,D,L,1)},off:function(g,b,D){var L,z;if(g&&g.preventDefault&&g.handleObj)return L=g.handleObj,y(g.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler),this;if(typeof g=="object"){for(z in g)this.off(z,b,g[z]);return this}return(b===!1||typeof b=="function")&&(D=b,b=void 0),D===!1&&(D=fi),this.each(function(){y.event.remove(this,g,D,b)})}});var Oi=/<script|<style|<link/i,Bo=/checked\s*(?:[^=]|=\s*.checked.)/i,vs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function no(g,b){return I(g,"table")&&I(b.nodeType!==11?b:b.firstChild,"tr")&&y(g).children("tbody")[0]||g}function _s(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Vt(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function Di(g,b){var D,L,z,V,G,ue,ae;if(b.nodeType===1){if(Qe.hasData(g)&&(V=Qe.get(g),ae=V.events,ae)){Qe.remove(b,"handle events");for(z in ae)for(D=0,L=ae[z].length;D<L;D++)y.event.add(b,z,ae[z][D])}Yt.hasData(g)&&(G=Yt.access(g),ue=y.extend({},G),Yt.set(b,ue))}}function $o(g,b){var D=b.nodeName.toLowerCase();D==="input"&&ui.test(g.type)?b.checked=g.checked:(D==="input"||D==="textarea")&&(b.defaultValue=g.defaultValue)}function Tn(g,b,D,L){b=a(b);var z,V,G,ue,ae,ge,Te=0,Oe=g.length,be=Oe-1,Ie=b[0],vt=S(Ie);if(vt||Oe>1&&typeof Ie=="string"&&!R.checkClone&&Bo.test(Ie))return g.each(function(Dt){var wt=g.eq(Dt);vt&&(b[0]=Ie.call(this,Dt,wt.html())),Tn(wt,b,D,L)});if(Oe&&(z=ro(b,g[0].ownerDocument,!1,g,L),V=z.firstChild,z.childNodes.length===1&&(z=V),V||L)){for(G=y.map(gr(z,"script"),_s),ue=G.length;Te<Oe;Te++)ae=z,Te!==be&&(ae=y.clone(ae,!0,!0),ue&&y.merge(G,gr(ae,"script"))),D.call(g[Te],ae,Te);if(ue)for(ge=G[G.length-1].ownerDocument,y.map(G,Vt),Te=0;Te<ue;Te++)ae=G[Te],Ri.test(ae.type||"")&&!Qe.access(ae,"globalEval")&&y.contains(ge,ae)&&(ae.src&&(ae.type||"").toLowerCase()!=="module"?y._evalUrl&&!ae.noModule&&y._evalUrl(ae.src,{nonce:ae.nonce||ae.getAttribute("nonce")},ge):T(ae.textContent.replace(vs,""),ae,ge))}return g}function ys(g,b,D){for(var L,z=b?y.filter(b,g):g,V=0;(L=z[V])!=null;V++)!D&&L.nodeType===1&&y.cleanData(gr(L)),L.parentNode&&(D&&_n(L)&&En(gr(L,"script")),L.parentNode.removeChild(L));return g}y.extend({htmlPrefilter:function(g){return g},clone:function(g,b,D){var L,z,V,G,ue=g.cloneNode(!0),ae=_n(g);if(!R.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!y.isXMLDoc(g))for(G=gr(ue),V=gr(g),L=0,z=V.length;L<z;L++)$o(V[L],G[L]);if(b)if(D)for(V=V||gr(g),G=G||gr(ue),L=0,z=V.length;L<z;L++)Di(V[L],G[L]);else Di(g,ue);return G=gr(ue,"script"),G.length>0&&En(G,!ae&&gr(g,"script")),ue},cleanData:function(g){for(var b,D,L,z=y.event.special,V=0;(D=g[V])!==void 0;V++)if(Ct(D)){if(b=D[Qe.expando]){if(b.events)for(L in b.events)z[L]?y.event.remove(D,L):y.removeEvent(D,L,b.handle);D[Qe.expando]=void 0}D[Yt.expando]&&(D[Yt.expando]=void 0)}}}),y.fn.extend({detach:function(g){return ys(this,g,!0)},remove:function(g){return ys(this,g)},text:function(g){return en(this,function(b){return b===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,g,arguments.length)},append:function(){return Tn(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=no(this,g);b.appendChild(g)}})},prepend:function(){return Tn(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=no(this,g);b.insertBefore(g,b.firstChild)}})},before:function(){return Tn(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Tn(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,b=0;(g=this[b])!=null;b++)g.nodeType===1&&(y.cleanData(gr(g,!1)),g.textContent="");return this},clone:function(g,b){return g=g??!1,b=b??g,this.map(function(){return y.clone(this,g,b)})},html:function(g){return en(this,function(b){var D=this[0]||{},L=0,z=this.length;if(b===void 0&&D.nodeType===1)return D.innerHTML;if(typeof b=="string"&&!Oi.test(b)&&!Yr[(ms.exec(b)||["",""])[1].toLowerCase()]){b=y.htmlPrefilter(b);try{for(;L<z;L++)D=this[L]||{},D.nodeType===1&&(y.cleanData(gr(D,!1)),D.innerHTML=b);D=0}catch{}}D&&this.empty().append(b)},null,g,arguments.length)},replaceWith:function(){var g=[];return Tn(this,arguments,function(b){var D=this.parentNode;y.inArray(this,g)<0&&(y.cleanData(gr(this)),D&&D.replaceChild(b,this))},g)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,b){y.fn[g]=function(D){for(var L,z=[],V=y(D),G=V.length-1,ue=0;ue<=G;ue++)L=ue===G?this:this.clone(!0),y(V[ue])[b](L),u.apply(z,L.get());return this.pushStack(z)}});var Zn=new RegExp("^("+Vr+")(?!px)[a-z%]+$","i"),pi=/^--/,Rn=function(g){var b=g.ownerDocument.defaultView;return(!b||!b.opener)&&(b=e),b.getComputedStyle(g)},ei=function(g,b,D){var L,z,V={};for(z in b)V[z]=g.style[z],g.style[z]=b[z];L=D.call(g);for(z in b)g.style[z]=V[z];return L},_a=new RegExp(Sr.join("|"),"i");(function(){function g(){if(ge){ae.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ge.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",zr.appendChild(ae).appendChild(ge);var Te=e.getComputedStyle(ge);D=Te.top!=="1%",ue=b(Te.marginLeft)===12,ge.style.right="60%",V=b(Te.right)===36,L=b(Te.width)===36,ge.style.position="absolute",z=b(ge.offsetWidth/3)===12,zr.removeChild(ae),ge=null}}function b(Te){return Math.round(parseFloat(Te))}var D,L,z,V,G,ue,ae=v.createElement("div"),ge=v.createElement("div");ge.style&&(ge.style.backgroundClip="content-box",ge.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle=ge.style.backgroundClip==="content-box",y.extend(R,{boxSizingReliable:function(){return g(),L},pixelBoxStyles:function(){return g(),V},pixelPosition:function(){return g(),D},reliableMarginLeft:function(){return g(),ue},scrollboxSize:function(){return g(),z},reliableTrDimensions:function(){var Te,Oe,be,Ie;return G==null&&(Te=v.createElement("table"),Oe=v.createElement("tr"),be=v.createElement("div"),Te.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Oe.style.cssText="box-sizing:content-box;border:1px solid",Oe.style.height="1px",be.style.height="9px",be.style.display="block",zr.appendChild(Te).appendChild(Oe).appendChild(be),Ie=e.getComputedStyle(Oe),G=parseInt(Ie.height,10)+parseInt(Ie.borderTopWidth,10)+parseInt(Ie.borderBottomWidth,10)===Oe.offsetHeight,zr.removeChild(Te)),G}}))})();function tn(g,b,D){var L,z,V,G,ue=pi.test(b),ae=g.style;return D=D||Rn(g),D&&(G=D.getPropertyValue(b)||D[b],ue&&G&&(G=G.replace(Z,"$1")||void 0),G===""&&!_n(g)&&(G=y.style(g,b)),!R.pixelBoxStyles()&&Zn.test(G)&&_a.test(b)&&(L=ae.width,z=ae.minWidth,V=ae.maxWidth,ae.minWidth=ae.maxWidth=ae.width=G,G=D.width,ae.width=L,ae.minWidth=z,ae.maxWidth=V)),G!==void 0?G+"":G}function Zt(g,b){return{get:function(){if(g()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var an=["Webkit","Moz","ms"],Uo=v.createElement("div").style,io={};function so(g){for(var b=g[0].toUpperCase()+g.slice(1),D=an.length;D--;)if(g=an[D]+b,g in Uo)return g}function Mi(g){var b=y.cssProps[g]||io[g];return b||(g in Uo?g:io[g]=so(g)||g)}var oo=/^(none|table(?!-c[ea]).+)/,ws={position:"absolute",visibility:"hidden",display:"block"},Ji={letterSpacing:"0",fontWeight:"400"};function ao(g,b,D){var L=Bt.exec(b);return L?Math.max(0,L[2]-(D||0))+(L[3]||"px"):b}function cn(g,b,D,L,z,V){var G=b==="width"?1:0,ue=0,ae=0,ge=0;if(D===(L?"border":"content"))return 0;for(;G<4;G+=2)D==="margin"&&(ge+=y.css(g,D+Sr[G],!0,z)),L?(D==="content"&&(ae-=y.css(g,"padding"+Sr[G],!0,z)),D!=="margin"&&(ae-=y.css(g,"border"+Sr[G]+"Width",!0,z))):(ae+=y.css(g,"padding"+Sr[G],!0,z),D!=="padding"?ae+=y.css(g,"border"+Sr[G]+"Width",!0,z):ue+=y.css(g,"border"+Sr[G]+"Width",!0,z));return!L&&V>=0&&(ae+=Math.max(0,Math.ceil(g["offset"+b[0].toUpperCase()+b.slice(1)]-V-ae-ue-.5))||0),ae+ge}function Fr(g,b,D){var L=Rn(g),z=!R.boxSizingReliable()||D,V=z&&y.css(g,"boxSizing",!1,L)==="border-box",G=V,ue=tn(g,b,L),ae="offset"+b[0].toUpperCase()+b.slice(1);if(Zn.test(ue)){if(!D)return ue;ue="auto"}return(!R.boxSizingReliable()&&V||!R.reliableTrDimensions()&&I(g,"tr")||ue==="auto"||!parseFloat(ue)&&y.css(g,"display",!1,L)==="inline")&&g.getClientRects().length&&(V=y.css(g,"boxSizing",!1,L)==="border-box",G=ae in g,G&&(ue=g[ae])),ue=parseFloat(ue)||0,ue+cn(g,b,D||(V?"border":"content"),G,L,ue)+"px"}y.extend({cssHooks:{opacity:{get:function(g,b){if(b){var D=tn(g,"opacity");return D===""?"1":D}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,b,D,L){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var z,V,G,ue=Ir(b),ae=pi.test(b),ge=g.style;if(ae||(b=Mi(ue)),G=y.cssHooks[b]||y.cssHooks[ue],D!==void 0){if(V=typeof D,V==="string"&&(z=Bt.exec(D))&&z[1]&&(D=Qn(g,b,z),V="number"),D==null||D!==D)return;V==="number"&&!ae&&(D+=z&&z[3]||(y.cssNumber[ue]?"":"px")),!R.clearCloneStyle&&D===""&&b.indexOf("background")===0&&(ge[b]="inherit"),(!G||!("set"in G)||(D=G.set(g,D,L))!==void 0)&&(ae?ge.setProperty(b,D):ge[b]=D)}else return G&&"get"in G&&(z=G.get(g,!1,L))!==void 0?z:ge[b]}},css:function(g,b,D,L){var z,V,G,ue=Ir(b),ae=pi.test(b);return ae||(b=Mi(ue)),G=y.cssHooks[b]||y.cssHooks[ue],G&&"get"in G&&(z=G.get(g,!0,D)),z===void 0&&(z=tn(g,b,L)),z==="normal"&&b in Ji&&(z=Ji[b]),D===""||D?(V=parseFloat(z),D===!0||isFinite(V)?V||0:z):z}}),y.each(["height","width"],function(g,b){y.cssHooks[b]={get:function(D,L,z){if(L)return oo.test(y.css(D,"display"))&&(!D.getClientRects().length||!D.getBoundingClientRect().width)?ei(D,ws,function(){return Fr(D,b,z)}):Fr(D,b,z)},set:function(D,L,z){var V,G=Rn(D),ue=!R.scrollboxSize()&&G.position==="absolute",ae=ue||z,ge=ae&&y.css(D,"boxSizing",!1,G)==="border-box",Te=z?cn(D,b,z,ge,G):0;return ge&&ue&&(Te-=Math.ceil(D["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(G[b])-cn(D,b,"border",!1,G)-.5)),Te&&(V=Bt.exec(L))&&(V[3]||"px")!=="px"&&(D.style[b]=L,L=y.css(D,b)),ao(D,L,Te)}}}),y.cssHooks.marginLeft=Zt(R.reliableMarginLeft,function(g,b){if(b)return(parseFloat(tn(g,"marginLeft"))||g.getBoundingClientRect().left-ei(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(g,b){y.cssHooks[g+b]={expand:function(D){for(var L=0,z={},V=typeof D=="string"?D.split(" "):[D];L<4;L++)z[g+Sr[L]+b]=V[L]||V[L-2]||V[0];return z}},g!=="margin"&&(y.cssHooks[g+b].set=ao)}),y.fn.extend({css:function(g,b){return en(this,function(D,L,z){var V,G,ue={},ae=0;if(Array.isArray(L)){for(V=Rn(D),G=L.length;ae<G;ae++)ue[L[ae]]=y.css(D,L[ae],!1,V);return ue}return z!==void 0?y.style(D,L,z):y.css(D,L)},g,b,arguments.length>1)}});function er(g,b,D,L,z){return new er.prototype.init(g,b,D,L,z)}y.Tween=er,er.prototype={constructor:er,init:function(g,b,D,L,z,V){this.elem=g,this.prop=D,this.easing=z||y.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=L,this.unit=V||(y.cssNumber[D]?"":"px")},cur:function(){var g=er.propHooks[this.prop];return g&&g.get?g.get(this):er.propHooks._default.get(this)},run:function(g){var b,D=er.propHooks[this.prop];return this.options.duration?this.pos=b=y.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=b=g,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),D&&D.set?D.set(this):er.propHooks._default.set(this),this}},er.prototype.init.prototype=er.prototype,er.propHooks={_default:{get:function(g){var b;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(b=y.css(g.elem,g.prop,""),!b||b==="auto"?0:b)},set:function(g){y.fx.step[g.prop]?y.fx.step[g.prop](g):g.elem.nodeType===1&&(y.cssHooks[g.prop]||g.elem.style[Mi(g.prop)]!=null)?y.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},er.propHooks.scrollTop=er.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},y.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},y.fx=er.prototype.init,y.fx.step={};var rn,Un,Pn=/^(?:toggle|show|hide)$/,ti=/queueHooks$/;function bs(){Un&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(bs):e.setTimeout(bs,y.fx.interval),y.fx.tick())}function Ss(){return e.setTimeout(function(){rn=void 0}),rn=Date.now()}function ri(g,b){var D,L=0,z={height:g};for(b=b?1:0;L<4;L+=2-b)D=Sr[L],z["margin"+D]=z["padding"+D]=g;return b&&(z.opacity=z.width=g),z}function yn(g,b,D){for(var L,z=(Kr.tweeners[b]||[]).concat(Kr.tweeners["*"]),V=0,G=z.length;V<G;V++)if(L=z[V].call(D,b,g))return L}function Cs(g,b,D){var L,z,V,G,ue,ae,ge,Te,Oe="width"in b||"height"in b,be=this,Ie={},vt=g.style,Dt=g.nodeType&&pt(g),wt=Qe.get(g,"fxshow");D.queue||(G=y._queueHooks(g,"fx"),G.unqueued==null&&(G.unqueued=0,ue=G.empty.fire,G.empty.fire=function(){G.unqueued||ue()}),G.unqueued++,be.always(function(){be.always(function(){G.unqueued--,y.queue(g,"fx").length||G.empty.fire()})}));for(L in b)if(z=b[L],Pn.test(z)){if(delete b[L],V=V||z==="toggle",z===(Dt?"hide":"show"))if(z==="show"&&wt&&wt[L]!==void 0)Dt=!0;else continue;Ie[L]=wt&&wt[L]||y.style(g,L)}if(ae=!y.isEmptyObject(b),!(!ae&&y.isEmptyObject(Ie))){Oe&&g.nodeType===1&&(D.overflow=[vt.overflow,vt.overflowX,vt.overflowY],ge=wt&&wt.display,ge==null&&(ge=Qe.get(g,"display")),Te=y.css(g,"display"),Te==="none"&&(ge?Te=ge:(Wr([g],!0),ge=g.style.display||ge,Te=y.css(g,"display"),Wr([g]))),(Te==="inline"||Te==="inline-block"&&ge!=null)&&y.css(g,"float")==="none"&&(ae||(be.done(function(){vt.display=ge}),ge==null&&(Te=vt.display,ge=Te==="none"?"":Te)),vt.display="inline-block")),D.overflow&&(vt.overflow="hidden",be.always(function(){vt.overflow=D.overflow[0],vt.overflowX=D.overflow[1],vt.overflowY=D.overflow[2]})),ae=!1;for(L in Ie)ae||(wt?"hidden"in wt&&(Dt=wt.hidden):wt=Qe.access(g,"fxshow",{display:ge}),V&&(wt.hidden=!Dt),Dt&&Wr([g],!0),be.done(function(){Dt||Wr([g]),Qe.remove(g,"fxshow");for(L in Ie)y.style(g,L,Ie[L])})),ae=yn(Dt?wt[L]:0,L,be),L in wt||(wt[L]=ae.start,Dt&&(ae.end=ae.start,ae.start=0))}}function co(g,b){var D,L,z,V,G;for(D in g)if(L=Ir(D),z=b[L],V=g[D],Array.isArray(V)&&(z=V[1],V=g[D]=V[0]),D!==L&&(g[L]=V,delete g[D]),G=y.cssHooks[L],G&&"expand"in G){V=G.expand(V),delete g[L];for(D in V)D in g||(g[D]=V[D],b[D]=z)}else b[L]=z}function Kr(g,b,D){var L,z,V=0,G=Kr.prefilters.length,ue=y.Deferred().always(function(){delete ae.elem}),ae=function(){if(z)return!1;for(var Oe=rn||Ss(),be=Math.max(0,ge.startTime+ge.duration-Oe),Ie=be/ge.duration||0,vt=1-Ie,Dt=0,wt=ge.tweens.length;Dt<wt;Dt++)ge.tweens[Dt].run(vt);return ue.notifyWith(g,[ge,vt,be]),vt<1&&wt?be:(wt||ue.notifyWith(g,[ge,1,0]),ue.resolveWith(g,[ge]),!1)},ge=ue.promise({elem:g,props:y.extend({},b),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},D),originalProperties:b,originalOptions:D,startTime:rn||Ss(),duration:D.duration,tweens:[],createTween:function(Oe,be){var Ie=y.Tween(g,ge.opts,Oe,be,ge.opts.specialEasing[Oe]||ge.opts.easing);return ge.tweens.push(Ie),Ie},stop:function(Oe){var be=0,Ie=Oe?ge.tweens.length:0;if(z)return this;for(z=!0;be<Ie;be++)ge.tweens[be].run(1);return Oe?(ue.notifyWith(g,[ge,1,0]),ue.resolveWith(g,[ge,Oe])):ue.rejectWith(g,[ge,Oe]),this}}),Te=ge.props;for(co(Te,ge.opts.specialEasing);V<G;V++)if(L=Kr.prefilters[V].call(ge,g,Te,ge.opts),L)return S(L.stop)&&(y._queueHooks(ge.elem,ge.opts.queue).stop=L.stop.bind(L)),L;return y.map(Te,yn,ge),S(ge.opts.start)&&ge.opts.start.call(g,ge),ge.progress(ge.opts.progress).done(ge.opts.done,ge.opts.complete).fail(ge.opts.fail).always(ge.opts.always),y.fx.timer(y.extend(ae,{elem:g,anim:ge,queue:ge.opts.queue})),ge}y.Animation=y.extend(Kr,{tweeners:{"*":[function(g,b){var D=this.createTween(g,b);return Qn(D.elem,g,Bt.exec(b),D),D}]},tweener:function(g,b){S(g)?(b=g,g=["*"]):g=g.match(pr);for(var D,L=0,z=g.length;L<z;L++)D=g[L],Kr.tweeners[D]=Kr.tweeners[D]||[],Kr.tweeners[D].unshift(b)},prefilters:[Cs],prefilter:function(g,b){b?Kr.prefilters.unshift(g):Kr.prefilters.push(g)}}),y.speed=function(g,b,D){var L=g&&typeof g=="object"?y.extend({},g):{complete:D||!D&&b||S(g)&&g,duration:g,easing:D&&b||b&&!S(b)&&b};return y.fx.off?L.duration=0:typeof L.duration!="number"&&(L.duration in y.fx.speeds?L.duration=y.fx.speeds[L.duration]:L.duration=y.fx.speeds._default),(L.queue==null||L.queue===!0)&&(L.queue="fx"),L.old=L.complete,L.complete=function(){S(L.old)&&L.old.call(this),L.queue&&y.dequeue(this,L.queue)},L},y.fn.extend({fadeTo:function(g,b,D,L){return this.filter(pt).css("opacity",0).show().end().animate({opacity:b},g,D,L)},animate:function(g,b,D,L){var z=y.isEmptyObject(g),V=y.speed(b,D,L),G=function(){var ue=Kr(this,y.extend({},g),V);(z||Qe.get(this,"finish"))&&ue.stop(!0)};return G.finish=G,z||V.queue===!1?this.each(G):this.queue(V.queue,G)},stop:function(g,b,D){var L=function(z){var V=z.stop;delete z.stop,V(D)};return typeof g!="string"&&(D=b,b=g,g=void 0),b&&this.queue(g||"fx",[]),this.each(function(){var z=!0,V=g!=null&&g+"queueHooks",G=y.timers,ue=Qe.get(this);if(V)ue[V]&&ue[V].stop&&L(ue[V]);else for(V in ue)ue[V]&&ue[V].stop&&ti.test(V)&&L(ue[V]);for(V=G.length;V--;)G[V].elem===this&&(g==null||G[V].queue===g)&&(G[V].anim.stop(D),z=!1,G.splice(V,1));(z||!D)&&y.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var b,D=Qe.get(this),L=D[g+"queue"],z=D[g+"queueHooks"],V=y.timers,G=L?L.length:0;for(D.finish=!0,y.queue(this,g,[]),z&&z.stop&&z.stop.call(this,!0),b=V.length;b--;)V[b].elem===this&&V[b].queue===g&&(V[b].anim.stop(!0),V.splice(b,1));for(b=0;b<G;b++)L[b]&&L[b].finish&&L[b].finish.call(this);delete D.finish})}}),y.each(["toggle","show","hide"],function(g,b){var D=y.fn[b];y.fn[b]=function(L,z,V){return L==null||typeof L=="boolean"?D.apply(this,arguments):this.animate(ri(b,!0),L,z,V)}}),y.each({slideDown:ri("show"),slideUp:ri("hide"),slideToggle:ri("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,b){y.fn[g]=function(D,L,z){return this.animate(b,D,L,z)}}),y.timers=[],y.fx.tick=function(){var g,b=0,D=y.timers;for(rn=Date.now();b<D.length;b++)g=D[b],!g()&&D[b]===g&&D.splice(b--,1);D.length||y.fx.stop(),rn=void 0},y.fx.timer=function(g){y.timers.push(g),y.fx.start()},y.fx.interval=13,y.fx.start=function(){Un||(Un=!0,bs())},y.fx.stop=function(){Un=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(g,b){return g=y.fx&&y.fx.speeds[g]||g,b=b||"fx",this.queue(b,function(D,L){var z=e.setTimeout(D,g);L.stop=function(){e.clearTimeout(z)}})},function(){var g=v.createElement("input"),b=v.createElement("select"),D=b.appendChild(v.createElement("option"));g.type="checkbox",R.checkOn=g.value!=="",R.optSelected=D.selected,g=v.createElement("input"),g.value="t",g.type="radio",R.radioValue=g.value==="t"}();var lo,Xi=y.expr.attrHandle;y.fn.extend({attr:function(g,b){return en(this,y.attr,g,b,arguments.length>1)},removeAttr:function(g){return this.each(function(){y.removeAttr(this,g)})}}),y.extend({attr:function(g,b,D){var L,z,V=g.nodeType;if(!(V===3||V===8||V===2)){if(typeof g.getAttribute>"u")return y.prop(g,b,D);if((V!==1||!y.isXMLDoc(g))&&(z=y.attrHooks[b.toLowerCase()]||(y.expr.match.bool.test(b)?lo:void 0)),D!==void 0){if(D===null){y.removeAttr(g,b);return}return z&&"set"in z&&(L=z.set(g,D,b))!==void 0?L:(g.setAttribute(b,D+""),D)}return z&&"get"in z&&(L=z.get(g,b))!==null?L:(L=y.find.attr(g,b),L??void 0)}},attrHooks:{type:{set:function(g,b){if(!R.radioValue&&b==="radio"&&I(g,"input")){var D=g.value;return g.setAttribute("type",b),D&&(g.value=D),b}}}},removeAttr:function(g,b){var D,L=0,z=b&&b.match(pr);if(z&&g.nodeType===1)for(;D=z[L++];)g.removeAttribute(D)}}),lo={set:function(g,b,D){return b===!1?y.removeAttr(g,D):g.setAttribute(D,D),D}},y.each(y.expr.match.bool.source.match(/\w+/g),function(g,b){var D=Xi[b]||y.find.attr;Xi[b]=function(L,z,V){var G,ue,ae=z.toLowerCase();return V||(ue=Xi[ae],Xi[ae]=G,G=D(L,z,V)!=null?ae:null,Xi[ae]=ue),G}});var Ai=/^(?:input|select|textarea|button)$/i,ya=/^(?:a|area)$/i;y.fn.extend({prop:function(g,b){return en(this,y.prop,g,b,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[y.propFix[g]||g]})}}),y.extend({prop:function(g,b,D){var L,z,V=g.nodeType;if(!(V===3||V===8||V===2))return(V!==1||!y.isXMLDoc(g))&&(b=y.propFix[b]||b,z=y.propHooks[b]),D!==void 0?z&&"set"in z&&(L=z.set(g,D,b))!==void 0?L:g[b]=D:z&&"get"in z&&(L=z.get(g,b))!==null?L:g[b]},propHooks:{tabIndex:{get:function(g){var b=y.find.attr(g,"tabindex");return b?parseInt(b,10):Ai.test(g.nodeName)||ya.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),R.optSelected||(y.propHooks.selected={get:function(g){var b=g.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(g){var b=g.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function nn(g){var b=g.match(pr)||[];return b.join(" ")}function ln(g){return g.getAttribute&&g.getAttribute("class")||""}function ks(g){return Array.isArray(g)?g:typeof g=="string"?g.match(pr)||[]:[]}y.fn.extend({addClass:function(g){var b,D,L,z,V,G;return S(g)?this.each(function(ue){y(this).addClass(g.call(this,ue,ln(this)))}):(b=ks(g),b.length?this.each(function(){if(L=ln(this),D=this.nodeType===1&&" "+nn(L)+" ",D){for(V=0;V<b.length;V++)z=b[V],D.indexOf(" "+z+" ")<0&&(D+=z+" ");G=nn(D),L!==G&&this.setAttribute("class",G)}}):this)},removeClass:function(g){var b,D,L,z,V,G;return S(g)?this.each(function(ue){y(this).removeClass(g.call(this,ue,ln(this)))}):arguments.length?(b=ks(g),b.length?this.each(function(){if(L=ln(this),D=this.nodeType===1&&" "+nn(L)+" ",D){for(V=0;V<b.length;V++)for(z=b[V];D.indexOf(" "+z+" ")>-1;)D=D.replace(" "+z+" "," ");G=nn(D),L!==G&&this.setAttribute("class",G)}}):this):this.attr("class","")},toggleClass:function(g,b){var D,L,z,V,G=typeof g,ue=G==="string"||Array.isArray(g);return S(g)?this.each(function(ae){y(this).toggleClass(g.call(this,ae,ln(this),b),b)}):typeof b=="boolean"&&ue?b?this.addClass(g):this.removeClass(g):(D=ks(g),this.each(function(){if(ue)for(V=y(this),z=0;z<D.length;z++)L=D[z],V.hasClass(L)?V.removeClass(L):V.addClass(L);else(g===void 0||G==="boolean")&&(L=ln(this),L&&Qe.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||g===!1?"":Qe.get(this,"__className__")||""))}))},hasClass:function(g){var b,D,L=0;for(b=" "+g+" ";D=this[L++];)if(D.nodeType===1&&(" "+nn(ln(D))+" ").indexOf(b)>-1)return!0;return!1}});var qo=/\r/g;y.fn.extend({val:function(g){var b,D,L,z=this[0];return arguments.length?(L=S(g),this.each(function(V){var G;this.nodeType===1&&(L?G=g.call(this,V,y(this).val()):G=g,G==null?G="":typeof G=="number"?G+="":Array.isArray(G)&&(G=y.map(G,function(ue){return ue==null?"":ue+""})),b=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,G,"value")===void 0)&&(this.value=G))})):z?(b=y.valHooks[z.type]||y.valHooks[z.nodeName.toLowerCase()],b&&"get"in b&&(D=b.get(z,"value"))!==void 0?D:(D=z.value,typeof D=="string"?D.replace(qo,""):D??"")):void 0}}),y.extend({valHooks:{option:{get:function(g){var b=y.find.attr(g,"value");return b??nn(y.text(g))}},select:{get:function(g){var b,D,L,z=g.options,V=g.selectedIndex,G=g.type==="select-one",ue=G?null:[],ae=G?V+1:z.length;for(V<0?L=ae:L=G?V:0;L<ae;L++)if(D=z[L],(D.selected||L===V)&&!D.disabled&&(!D.parentNode.disabled||!I(D.parentNode,"optgroup"))){if(b=y(D).val(),G)return b;ue.push(b)}return ue},set:function(g,b){for(var D,L,z=g.options,V=y.makeArray(b),G=z.length;G--;)L=z[G],(L.selected=y.inArray(y.valHooks.option.get(L),V)>-1)&&(D=!0);return D||(g.selectedIndex=-1),V}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(g,b){if(Array.isArray(b))return g.checked=y.inArray(y(g).val(),b)>-1}},R.checkOn||(y.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var ni=e.location,uo={guid:Date.now()},On=/\?/;y.parseXML=function(g){var b,D;if(!g||typeof g!="string")return null;try{b=new e.DOMParser().parseFromString(g,"text/xml")}catch{}return D=b&&b.getElementsByTagName("parsererror")[0],(!b||D)&&y.error("Invalid XML: "+(D?y.map(D.childNodes,function(L){return L.textContent}).join(`
`):g)),b};var fo=/^(?:focusinfocus|focusoutblur)$/,Ho=function(g){g.stopPropagation()};y.extend(y.event,{trigger:function(g,b,D,L){var z,V,G,ue,ae,ge,Te,Oe,be=[D||v],Ie=d.call(g,"type")?g.type:g,vt=d.call(g,"namespace")?g.namespace.split("."):[];if(V=Oe=G=D=D||v,!(D.nodeType===3||D.nodeType===8)&&!fo.test(Ie+y.event.triggered)&&(Ie.indexOf(".")>-1&&(vt=Ie.split("."),Ie=vt.shift(),vt.sort()),ae=Ie.indexOf(":")<0&&"on"+Ie,g=g[y.expando]?g:new y.Event(Ie,typeof g=="object"&&g),g.isTrigger=L?2:3,g.namespace=vt.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+vt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=D),b=b==null?[g]:y.makeArray(b,[g]),Te=y.event.special[Ie]||{},!(!L&&Te.trigger&&Te.trigger.apply(D,b)===!1))){if(!L&&!Te.noBubble&&!_(D)){for(ue=Te.delegateType||Ie,fo.test(ue+Ie)||(V=V.parentNode);V;V=V.parentNode)be.push(V),G=V;G===(D.ownerDocument||v)&&be.push(G.defaultView||G.parentWindow||e)}for(z=0;(V=be[z++])&&!g.isPropagationStopped();)Oe=V,g.type=z>1?ue:Te.bindType||Ie,ge=(Qe.get(V,"events")||Object.create(null))[g.type]&&Qe.get(V,"handle"),ge&&ge.apply(V,b),ge=ae&&V[ae],ge&&ge.apply&&Ct(V)&&(g.result=ge.apply(V,b),g.result===!1&&g.preventDefault());return g.type=Ie,!L&&!g.isDefaultPrevented()&&(!Te._default||Te._default.apply(be.pop(),b)===!1)&&Ct(D)&&ae&&S(D[Ie])&&!_(D)&&(G=D[ae],G&&(D[ae]=null),y.event.triggered=Ie,g.isPropagationStopped()&&Oe.addEventListener(Ie,Ho),D[Ie](),g.isPropagationStopped()&&Oe.removeEventListener(Ie,Ho),y.event.triggered=void 0,G&&(D[ae]=G)),g.result}},simulate:function(g,b,D){var L=y.extend(new y.Event,D,{type:g,isSimulated:!0});y.event.trigger(L,null,b)}}),y.fn.extend({trigger:function(g,b){return this.each(function(){y.event.trigger(g,b,this)})},triggerHandler:function(g,b){var D=this[0];if(D)return y.event.trigger(g,b,D,!0)}});var ho=/\[\]$/,mi=/\r?\n/g,po=/^(?:submit|button|image|reset|file)$/i,ji=/^(?:input|select|textarea|keygen)/i;function xs(g,b,D,L){var z;if(Array.isArray(b))y.each(b,function(V,G){D||ho.test(g)?L(g,G):xs(g+"["+(typeof G=="object"&&G!=null?V:"")+"]",G,D,L)});else if(!D&&M(b)==="object")for(z in b)xs(g+"["+z+"]",b[z],D,L);else L(g,b)}y.param=function(g,b){var D,L=[],z=function(V,G){var ue=S(G)?G():G;L[L.length]=encodeURIComponent(V)+"="+encodeURIComponent(ue??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!y.isPlainObject(g))y.each(g,function(){z(this.name,this.value)});else for(D in g)xs(D,g[D],b,z);return L.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=y.prop(this,"elements");return g?y.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!y(this).is(":disabled")&&ji.test(this.nodeName)&&!po.test(g)&&(this.checked||!ui.test(g))}).map(function(g,b){var D=y(this).val();return D==null?null:Array.isArray(D)?y.map(D,function(L){return{name:b.name,value:L.replace(mi,`\r
`)}}):{name:b.name,value:D.replace(mi,`\r
`)}}).get()}});var zt=/%20/g,Li=/#.*$/,tc=/([?&])_=[^&]*/,Qi=/^(.*?):[ \t]*([^\r\n]*)$/mg,Es=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vo=/^(?:GET|HEAD)$/,Dn=/^\/\//,ii={},Ts={},Rs="*/".concat("*"),qn=v.createElement("a");qn.href=ni.href;function wa(g){return function(b,D){typeof b!="string"&&(D=b,b="*");var L,z=0,V=b.toLowerCase().match(pr)||[];if(S(D))for(;L=V[z++];)L[0]==="+"?(L=L.slice(1)||"*",(g[L]=g[L]||[]).unshift(D)):(g[L]=g[L]||[]).push(D)}}function ba(g,b,D,L){var z={},V=g===Ts;function G(ue){var ae;return z[ue]=!0,y.each(g[ue]||[],function(ge,Te){var Oe=Te(b,D,L);if(typeof Oe=="string"&&!V&&!z[Oe])return b.dataTypes.unshift(Oe),G(Oe),!1;if(V)return!(ae=Oe)}),ae}return G(b.dataTypes[0])||!z["*"]&&G("*")}function Zi(g,b){var D,L,z=y.ajaxSettings.flatOptions||{};for(D in b)b[D]!==void 0&&((z[D]?g:L||(L={}))[D]=b[D]);return L&&y.extend(!0,g,L),g}function wn(g,b,D){for(var L,z,V,G,ue=g.contents,ae=g.dataTypes;ae[0]==="*";)ae.shift(),L===void 0&&(L=g.mimeType||b.getResponseHeader("Content-Type"));if(L){for(z in ue)if(ue[z]&&ue[z].test(L)){ae.unshift(z);break}}if(ae[0]in D)V=ae[0];else{for(z in D){if(!ae[0]||g.converters[z+" "+ae[0]]){V=z;break}G||(G=z)}V=V||G}if(V)return V!==ae[0]&&ae.unshift(V),D[V]}function zo(g,b,D,L){var z,V,G,ue,ae,ge={},Te=g.dataTypes.slice();if(Te[1])for(G in g.converters)ge[G.toLowerCase()]=g.converters[G];for(V=Te.shift();V;)if(g.responseFields[V]&&(D[g.responseFields[V]]=b),!ae&&L&&g.dataFilter&&(b=g.dataFilter(b,g.dataType)),ae=V,V=Te.shift(),V){if(V==="*")V=ae;else if(ae!=="*"&&ae!==V){if(G=ge[ae+" "+V]||ge["* "+V],!G){for(z in ge)if(ue=z.split(" "),ue[1]===V&&(G=ge[ae+" "+ue[0]]||ge["* "+ue[0]],G)){G===!0?G=ge[z]:ge[z]!==!0&&(V=ue[0],Te.unshift(ue[1]));break}}if(G!==!0)if(G&&g.throws)b=G(b);else try{b=G(b)}catch(Oe){return{state:"parsererror",error:G?Oe:"No conversion from "+ae+" to "+V}}}}return{state:"success",data:b}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ni.href,type:"GET",isLocal:Es.test(ni.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,b){return b?Zi(Zi(g,y.ajaxSettings),b):Zi(y.ajaxSettings,g)},ajaxPrefilter:wa(ii),ajaxTransport:wa(Ts),ajax:function(g,b){typeof g=="object"&&(b=g,g=void 0),b=b||{};var D,L,z,V,G,ue,ae,ge,Te,Oe,be=y.ajaxSetup({},b),Ie=be.context||be,vt=be.context&&(Ie.nodeType||Ie.jquery)?y(Ie):y.event,Dt=y.Deferred(),wt=y.Callbacks("once memory"),$=be.statusCode||{},Y={},P={},B="canceled",J={readyState:0,getResponseHeader:function(se){var Se;if(ae){if(!V)for(V={};Se=Qi.exec(z);)V[Se[1].toLowerCase()+" "]=(V[Se[1].toLowerCase()+" "]||[]).concat(Se[2]);Se=V[se.toLowerCase()+" "]}return Se==null?null:Se.join(", ")},getAllResponseHeaders:function(){return ae?z:null},setRequestHeader:function(se,Se){return ae==null&&(se=P[se.toLowerCase()]=P[se.toLowerCase()]||se,Y[se]=Se),this},overrideMimeType:function(se){return ae==null&&(be.mimeType=se),this},statusCode:function(se){var Se;if(se)if(ae)J.always(se[J.status]);else for(Se in se)$[Se]=[$[Se],se[Se]];return this},abort:function(se){var Se=se||B;return D&&D.abort(Se),ie(0,Se),this}};if(Dt.promise(J),be.url=((g||be.url||ni.href)+"").replace(Dn,ni.protocol+"//"),be.type=b.method||b.type||be.method||be.type,be.dataTypes=(be.dataType||"*").toLowerCase().match(pr)||[""],be.crossDomain==null){ue=v.createElement("a");try{ue.href=be.url,ue.href=ue.href,be.crossDomain=qn.protocol+"//"+qn.host!=ue.protocol+"//"+ue.host}catch{be.crossDomain=!0}}if(be.data&&be.processData&&typeof be.data!="string"&&(be.data=y.param(be.data,be.traditional)),ba(ii,be,b,J),ae)return J;ge=y.event&&be.global,ge&&y.active++===0&&y.event.trigger("ajaxStart"),be.type=be.type.toUpperCase(),be.hasContent=!Vo.test(be.type),L=be.url.replace(Li,""),be.hasContent?be.data&&be.processData&&(be.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(be.data=be.data.replace(zt,"+")):(Oe=be.url.slice(L.length),be.data&&(be.processData||typeof be.data=="string")&&(L+=(On.test(L)?"&":"?")+be.data,delete be.data),be.cache===!1&&(L=L.replace(tc,"$1"),Oe=(On.test(L)?"&":"?")+"_="+uo.guid+++Oe),be.url=L+Oe),be.ifModified&&(y.lastModified[L]&&J.setRequestHeader("If-Modified-Since",y.lastModified[L]),y.etag[L]&&J.setRequestHeader("If-None-Match",y.etag[L])),(be.data&&be.hasContent&&be.contentType!==!1||b.contentType)&&J.setRequestHeader("Content-Type",be.contentType),J.setRequestHeader("Accept",be.dataTypes[0]&&be.accepts[be.dataTypes[0]]?be.accepts[be.dataTypes[0]]+(be.dataTypes[0]!=="*"?", "+Rs+"; q=0.01":""):be.accepts["*"]);for(Te in be.headers)J.setRequestHeader(Te,be.headers[Te]);if(be.beforeSend&&(be.beforeSend.call(Ie,J,be)===!1||ae))return J.abort();if(B="abort",wt.add(be.complete),J.done(be.success),J.fail(be.error),D=ba(Ts,be,b,J),!D)ie(-1,"No Transport");else{if(J.readyState=1,ge&&vt.trigger("ajaxSend",[J,be]),ae)return J;be.async&&be.timeout>0&&(G=e.setTimeout(function(){J.abort("timeout")},be.timeout));try{ae=!1,D.send(Y,ie)}catch(se){if(ae)throw se;ie(-1,se)}}function ie(se,Se,De,We){var Ke,Ge,tt,mt,At,Ft=Se;ae||(ae=!0,G&&e.clearTimeout(G),D=void 0,z=We||"",J.readyState=se>0?4:0,Ke=se>=200&&se<300||se===304,De&&(mt=wn(be,J,De)),!Ke&&y.inArray("script",be.dataTypes)>-1&&y.inArray("json",be.dataTypes)<0&&(be.converters["text script"]=function(){}),mt=zo(be,mt,J,Ke),Ke?(be.ifModified&&(At=J.getResponseHeader("Last-Modified"),At&&(y.lastModified[L]=At),At=J.getResponseHeader("etag"),At&&(y.etag[L]=At)),se===204||be.type==="HEAD"?Ft="nocontent":se===304?Ft="notmodified":(Ft=mt.state,Ge=mt.data,tt=mt.error,Ke=!tt)):(tt=Ft,(se||!Ft)&&(Ft="error",se<0&&(se=0))),J.status=se,J.statusText=(Se||Ft)+"",Ke?Dt.resolveWith(Ie,[Ge,Ft,J]):Dt.rejectWith(Ie,[J,Ft,tt]),J.statusCode($),$=void 0,ge&&vt.trigger(Ke?"ajaxSuccess":"ajaxError",[J,be,Ke?Ge:tt]),wt.fireWith(Ie,[J,Ft]),ge&&(vt.trigger("ajaxComplete",[J,be]),--y.active||y.event.trigger("ajaxStop")))}return J},getJSON:function(g,b,D){return y.get(g,b,D,"json")},getScript:function(g,b){return y.get(g,void 0,b,"script")}}),y.each(["get","post"],function(g,b){y[b]=function(D,L,z,V){return S(L)&&(V=V||z,z=L,L=void 0),y.ajax(y.extend({url:D,type:b,dataType:V,data:L,success:z},y.isPlainObject(D)&&D))}}),y.ajaxPrefilter(function(g){var b;for(b in g.headers)b.toLowerCase()==="content-type"&&(g.contentType=g.headers[b]||"")}),y._evalUrl=function(g,b,D){return y.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){y.globalEval(L,b,D)}})},y.fn.extend({wrapAll:function(g){var b;return this[0]&&(S(g)&&(g=g.call(this[0])),b=y(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var D=this;D.firstElementChild;)D=D.firstElementChild;return D}).append(this)),this},wrapInner:function(g){return S(g)?this.each(function(b){y(this).wrapInner(g.call(this,b))}):this.each(function(){var b=y(this),D=b.contents();D.length?D.wrapAll(g):b.append(g)})},wrap:function(g){var b=S(g);return this.each(function(D){y(this).wrapAll(b?g.call(this,D):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(g){return!y.expr.pseudos.visible(g)},y.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var mo={0:200,1223:204},bn=y.ajaxSettings.xhr();R.cors=!!bn&&"withCredentials"in bn,R.ajax=bn=!!bn,y.ajaxTransport(function(g){var b,D;if(R.cors||bn&&!g.crossDomain)return{send:function(L,z){var V,G=g.xhr();if(G.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(V in g.xhrFields)G[V]=g.xhrFields[V];g.mimeType&&G.overrideMimeType&&G.overrideMimeType(g.mimeType),!g.crossDomain&&!L["X-Requested-With"]&&(L["X-Requested-With"]="XMLHttpRequest");for(V in L)G.setRequestHeader(V,L[V]);b=function(ue){return function(){b&&(b=D=G.onload=G.onerror=G.onabort=G.ontimeout=G.onreadystatechange=null,ue==="abort"?G.abort():ue==="error"?typeof G.status!="number"?z(0,"error"):z(G.status,G.statusText):z(mo[G.status]||G.status,G.statusText,(G.responseType||"text")!=="text"||typeof G.responseText!="string"?{binary:G.response}:{text:G.responseText},G.getAllResponseHeaders()))}},G.onload=b(),D=G.onerror=G.ontimeout=b("error"),G.onabort!==void 0?G.onabort=D:G.onreadystatechange=function(){G.readyState===4&&e.setTimeout(function(){b&&D()})},b=b("abort");try{G.send(g.hasContent&&g.data||null)}catch(ue){if(b)throw ue}},abort:function(){b&&b()}}}),y.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return y.globalEval(g),g}}}),y.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),y.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var b,D;return{send:function(L,z){b=y("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",D=function(V){b.remove(),D=null,V&&z(V.type==="error"?404:200,V.type)}),v.head.appendChild(b[0])},abort:function(){D&&D()}}}});var Wo=[],un=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Wo.pop()||y.expando+"_"+uo.guid++;return this[g]=!0,g}}),y.ajaxPrefilter("json jsonp",function(g,b,D){var L,z,V,G=g.jsonp!==!1&&(un.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&un.test(g.data)&&"data");if(G||g.dataTypes[0]==="jsonp")return L=g.jsonpCallback=S(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,G?g[G]=g[G].replace(un,"$1"+L):g.jsonp!==!1&&(g.url+=(On.test(g.url)?"&":"?")+g.jsonp+"="+L),g.converters["script json"]=function(){return V||y.error(L+" was not called"),V[0]},g.dataTypes[0]="json",z=e[L],e[L]=function(){V=arguments},D.always(function(){z===void 0?y(e).removeProp(L):e[L]=z,g[L]&&(g.jsonpCallback=b.jsonpCallback,Wo.push(L)),V&&S(z)&&z(V[0]),V=z=void 0}),"script"}),R.createHTMLDocument=function(){var g=v.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),y.parseHTML=function(g,b,D){if(typeof g!="string")return[];typeof b=="boolean"&&(D=b,b=!1);var L,z,V;return b||(R.createHTMLDocument?(b=v.implementation.createHTMLDocument(""),L=b.createElement("base"),L.href=v.location.href,b.head.appendChild(L)):b=v),z=ke.exec(g),V=!D&&[],z?[b.createElement(z[1])]:(z=ro([g],b,V),V&&V.length&&y(V).remove(),y.merge([],z.childNodes))},y.fn.load=function(g,b,D){var L,z,V,G=this,ue=g.indexOf(" ");return ue>-1&&(L=nn(g.slice(ue)),g=g.slice(0,ue)),S(b)?(D=b,b=void 0):b&&typeof b=="object"&&(z="POST"),G.length>0&&y.ajax({url:g,type:z||"GET",dataType:"html",data:b}).done(function(ae){V=arguments,G.html(L?y("<div>").append(y.parseHTML(ae)).find(L):ae)}).always(D&&function(ae,ge){G.each(function(){D.apply(this,V||[ae.responseText,ge,ae])})}),this},y.expr.pseudos.animated=function(g){return y.grep(y.timers,function(b){return g===b.elem}).length},y.offset={setOffset:function(g,b,D){var L,z,V,G,ue,ae,ge,Te=y.css(g,"position"),Oe=y(g),be={};Te==="static"&&(g.style.position="relative"),ue=Oe.offset(),V=y.css(g,"top"),ae=y.css(g,"left"),ge=(Te==="absolute"||Te==="fixed")&&(V+ae).indexOf("auto")>-1,ge?(L=Oe.position(),G=L.top,z=L.left):(G=parseFloat(V)||0,z=parseFloat(ae)||0),S(b)&&(b=b.call(g,D,y.extend({},ue))),b.top!=null&&(be.top=b.top-ue.top+G),b.left!=null&&(be.left=b.left-ue.left+z),"using"in b?b.using.call(g,be):Oe.css(be)}},y.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(z){y.offset.setOffset(this,g,z)});var b,D,L=this[0];if(L)return L.getClientRects().length?(b=L.getBoundingClientRect(),D=L.ownerDocument.defaultView,{top:b.top+D.pageYOffset,left:b.left+D.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,b,D,L=this[0],z={top:0,left:0};if(y.css(L,"position")==="fixed")b=L.getBoundingClientRect();else{for(b=this.offset(),D=L.ownerDocument,g=L.offsetParent||D.documentElement;g&&(g===D.body||g===D.documentElement)&&y.css(g,"position")==="static";)g=g.parentNode;g&&g!==L&&g.nodeType===1&&(z=y(g).offset(),z.top+=y.css(g,"borderTopWidth",!0),z.left+=y.css(g,"borderLeftWidth",!0))}return{top:b.top-z.top-y.css(L,"marginTop",!0),left:b.left-z.left-y.css(L,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&y.css(g,"position")==="static";)g=g.offsetParent;return g||zr})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,b){var D=b==="pageYOffset";y.fn[g]=function(L){return en(this,function(z,V,G){var ue;if(_(z)?ue=z:z.nodeType===9&&(ue=z.defaultView),G===void 0)return ue?ue[b]:z[V];ue?ue.scrollTo(D?ue.pageXOffset:G,D?G:ue.pageYOffset):z[V]=G},g,L,arguments.length)}}),y.each(["top","left"],function(g,b){y.cssHooks[b]=Zt(R.pixelPosition,function(D,L){if(L)return L=tn(D,b),Zn.test(L)?y(D).position()[b]+"px":L})}),y.each({Height:"height",Width:"width"},function(g,b){y.each({padding:"inner"+g,content:b,"":"outer"+g},function(D,L){y.fn[L]=function(z,V){var G=arguments.length&&(D||typeof z!="boolean"),ue=D||(z===!0||V===!0?"margin":"border");return en(this,function(ae,ge,Te){var Oe;return _(ae)?L.indexOf("outer")===0?ae["inner"+g]:ae.document.documentElement["client"+g]:ae.nodeType===9?(Oe=ae.documentElement,Math.max(ae.body["scroll"+g],Oe["scroll"+g],ae.body["offset"+g],Oe["offset"+g],Oe["client"+g])):Te===void 0?y.css(ae,ge,ue):y.style(ae,ge,Te,ue)},b,G?z:void 0,G)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,b){y.fn[b]=function(D){return this.on(b,D)}}),y.fn.extend({bind:function(g,b,D){return this.on(g,null,b,D)},unbind:function(g,b){return this.off(g,null,b)},delegate:function(g,b,D,L){return this.on(b,g,D,L)},undelegate:function(g,b,D){return arguments.length===1?this.off(g,"**"):this.off(b,g||"**",D)},hover:function(g,b){return this.on("mouseenter",g).on("mouseleave",b||g)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,b){y.fn[b]=function(D,L){return arguments.length>0?this.on(b,null,D,L):this.trigger(b)}});var go=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(g,b){var D,L,z;if(typeof b=="string"&&(D=g[b],b=g,g=D),!!S(g))return L=i.call(arguments,2),z=function(){return g.apply(b||this,L.concat(i.call(arguments)))},z.guid=g.guid=g.guid||y.guid++,z},y.holdReady=function(g){g?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=I,y.isFunction=S,y.isWindow=_,y.camelCase=Ir,y.type=M,y.now=Date.now,y.isNumeric=function(g){var b=y.type(g);return(b==="number"||b==="string")&&!isNaN(g-parseFloat(g))},y.trim=function(g){return g==null?"":(g+"").replace(go,"$1")};var si=e.jQuery,Mn=e.$;return y.noConflict=function(g){return e.$===y&&(e.$=Mn),g&&e.jQuery===y&&(e.jQuery=si),y},typeof n>"u"&&(e.jQuery=e.$=y),y})}(lh)),lh.exports}var nO=Dx();const it=Ei(nO);function ki(r,e){if(r==null)return{};var n,t,s=Nr(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(s[n]=r[n])}return s}function cs(r){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(r)}function iO(r,e){if(cs(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(cs(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Mx(r){var e=iO(r,"string");return cs(e)=="symbol"?e:e+""}function Bc(r,e,n){return(e=Mx(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eo(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function YS(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Mx(t.key),t)}}function zi(r,e,n){return e&&YS(r.prototype,e),n&&YS(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}var sO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,oO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},aO=function(e){return oO[e]},cO=function(e){return e.replace(sO,aO)};function KS(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,t)}return n}function GS(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(t){Bc(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var Av={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cO},Ax,lO=le.createContext();function uO(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Av=GS(GS({},Av),r)}function dO(){return Av}var fO=function(){function r(){eo(this,r),this.usedNamespaces={}}return zi(r,[{key:"addUsedNamespaces",value:function(n){var t=this;n.forEach(function(s){t.usedNamespaces[s]||(t.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),r}();function hO(r){Ax=r}function pO(){return Ax}var mO={type:"3rdParty",init:function(e){uO(e.options.react),hO(e)}};function gO(){if(console&&console.warn){for(var r,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(r=console).warn.apply(r,n)}}var JS={};function jv(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];typeof e[0]=="string"&&JS[e[0]]||(typeof e[0]=="string"&&(JS[e[0]]=new Date),gO.apply(void 0,e))}function XS(r,e,n){r.loadNamespaces(e,function(){if(r.isInitialized)n();else{var t=function s(){setTimeout(function(){r.off("initialized",s)},0),n()};r.on("initialized",t)}})}function vO(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(t.toLowerCase()==="cimode")return!0;var a=function(p,c){var f=e.services.backendConnector.state["".concat(p,"|").concat(c)];return f===-1||f===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(t,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(t,r)&&(!s||a(i,r)))}function _O(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return jv("i18n.languages were undefined or empty",e.languages),!0;var t=e.options.ignoreJSONStructure!==void 0;return t?e.hasLoadedNamespace(r,{precheck:function(i,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,r))return!1}}):vO(r,e,n)}function yO(r){return r.displayName||r.name||(typeof r=="string"&&r.length>0?r:"Unknown")}function wO(r){if(Array.isArray(r))return r}function bO(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var t,s,i,a,u=[],p=!0,c=!1;try{if(i=(n=n.call(r)).next,e===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(t=i.call(n)).done)&&(u.push(t.value),u.length!==e);p=!0);}catch(f){c=!0,s=f}finally{try{if(!p&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return u}}function Lv(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=Array(e);n<e;n++)t[n]=r[n];return t}function jx(r,e){if(r){if(typeof r=="string")return Lv(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lv(r,e):void 0}}function SO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lx(r,e){return wO(r)||bO(r,e)||jx(r,e)||SO()}function QS(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,t)}return n}function Pg(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(n),!0).forEach(function(t){Bc(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var CO=function(e,n){var t=le.useRef();return le.useEffect(function(){t.current=e},[e,n]),t.current};function zh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,t=le.useContext(lO)||{},s=t.i18n,i=t.defaultNS,a=n||s||pO();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new fO),!a){jv("You will need to pass in an i18next instance by using initReactI18next");var u=function(I){return Array.isArray(I)?I[I.length-1]:I},p=[u,{},!1];return p.t=u,p.i18n={},p.ready=!1,p}a.options.react&&a.options.react.wait!==void 0&&jv("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Pg(Pg(Pg({},dO()),a.options.react),e),f=c.useSuspense,d=c.keyPrefix,h=r||i||a.options&&a.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);var w=(a.isInitialized||a.initializedStoreOnce)&&h.every(function(F){return _O(F,a,c)});function R(){return a.getFixedT(null,c.nsMode==="fallback"?h:h[0],d)}var S=le.useState(R),_=Lx(S,2),v=_[0],C=_[1],T=h.join(),M=CO(T),k=le.useRef(!0);le.useEffect(function(){var F=c.bindI18n,I=c.bindI18nStore;k.current=!0,!w&&!f&&XS(a,h,function(){k.current&&C(R)}),w&&M&&M!==T&&k.current&&C(R);function U(){k.current&&C(R)}return F&&a&&a.on(F,U),I&&a&&a.store.on(I,U),function(){k.current=!1,F&&a&&F.split(" ").forEach(function(K){return a.off(K,U)}),I&&a&&I.split(" ").forEach(function(K){return a.store.off(K,U)})}},[a,T]);var N=le.useRef(!0);le.useEffect(function(){k.current&&!N.current&&C(R),N.current=!1},[a,d]);var y=[v,a,w];if(y.t=v,y.i18n=a,y.ready=w,w||!w&&!f)return y;throw new Promise(function(F){XS(a,h,function(){F()})})}var kO=["forwardedRef"];function ZS(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,t)}return n}function Yf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(t){Bc(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ls(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){function s(a){var u=a.forwardedRef,p=ki(a,kO),c=zh(r,Yf(Yf({},p),{},{keyPrefix:e.keyPrefix})),f=Lx(c,3),d=f[0],h=f[1],w=f[2],R=Yf(Yf({},p),{},{t:d,i18n:h,tReady:w});return e.withRef&&u?R.ref=u:!e.withRef&&u&&(R.forwardedRef=u),le.createElement(t,R)}s.displayName="withI18nextTranslation(".concat(yO(t),")"),s.WrappedComponent=t;var i=function(u,p){return le.createElement(s,Object.assign({},u,{forwardedRef:p}))};return e.withRef?le.forwardRef(i):s}}function Kn(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&t.push.apply(t,Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.forEach(function(s){Bc(r,s,n[s])})}return r}function Do(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ld(r,e){if(e&&(cs(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Do(r)}function Al(r){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(r)}function Sh(r,e){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},Sh(r,e)}function Wh(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Sh(r,e)}var xO={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},EO=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eo(this,r),this.init(e,n)}return zi(r,[{key:"init",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=n||xO,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,t,s,i){return i&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[t](n))}},{key:"create",value:function(n){return new r(this.logger,Kn({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]),r}(),sa=new EO,Ja=function(){function r(){eo(this,r),this.observers={}}return zi(r,[{key:"on",value:function(n,t){var s=this;return n.split(" ").forEach(function(i){s.observers[i]=s.observers[i]||[],s.observers[i].push(t)}),this}},{key:"off",value:function(n,t){if(this.observers[n]){if(!t){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==t})}}},{key:"emit",value:function(n){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(p){p.apply(void 0,s)})}if(this.observers["*"]){var u=[].concat(this.observers["*"]);u.forEach(function(p){p.apply(p,[n].concat(s))})}}}]),r}();function Tu(){var r,e,n=new Promise(function(t,s){r=t,e=s});return n.resolve=r,n.reject=e,n}function e0(r){return r==null?"":""+r}function TO(r,e,n){r.forEach(function(t){e[t]&&(n[t]=e[t])})}function j_(r,e,n){function t(u){return u&&u.indexOf("###")>-1?u.replace(/###/g,"."):u}function s(){return!r||typeof r=="string"}for(var i=typeof e!="string"?[].concat(e):e.split(".");i.length>1;){if(s())return{};var a=t(i.shift());!r[a]&&n&&(r[a]=new n),Object.prototype.hasOwnProperty.call(r,a)?r=r[a]:r={}}return s()?{}:{obj:r,k:t(i.shift())}}function t0(r,e,n){var t=j_(r,e,Object),s=t.obj,i=t.k;s[i]=n}function RO(r,e,n,t){var s=j_(r,e,Object),i=s.obj,a=s.k;i[a]=i[a]||[],i[a].push(n)}function Ch(r,e){var n=j_(r,e),t=n.obj,s=n.k;if(t)return t[s]}function r0(r,e,n){var t=Ch(r,n);return t!==void 0?t:Ch(e,n)}function Nx(r,e,n){for(var t in e)t!=="__proto__"&&t!=="constructor"&&(t in r?typeof r[t]=="string"||r[t]instanceof String||typeof e[t]=="string"||e[t]instanceof String?n&&(r[t]=e[t]):Nx(r[t],e[t],n):r[t]=e[t]);return r}function fl(r){return r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var PO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function OO(r){return typeof r=="string"?r.replace(/[&<>"'\/]/g,function(e){return PO[e]}):r}var Yh=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,DO=function(r){Wh(e,r);function e(n){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return eo(this,e),t=ld(this,Al(e).call(this)),Yh&&Ja.call(Do(t)),t.data=n||{},t.options=s,t.options.keySeparator===void 0&&(t.options.keySeparator="."),t}return zi(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(t,s,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,p=[t,s];return i&&typeof i!="string"&&(p=p.concat(i)),i&&typeof i=="string"&&(p=p.concat(u?i.split(u):i)),t.indexOf(".")>-1&&(p=t.split(".")),Ch(this.data,p)}},{key:"addResource",value:function(t,s,i,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},p=this.options.keySeparator;p===void 0&&(p=".");var c=[t,s];i&&(c=c.concat(p?i.split(p):i)),t.indexOf(".")>-1&&(c=t.split("."),a=s,s=c[1]),this.addNamespaces(s),t0(this.data,c,a),u.silent||this.emit("added",t,s,i,a)}},{key:"addResources",value:function(t,s,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in i)(typeof i[u]=="string"||Object.prototype.toString.apply(i[u])==="[object Array]")&&this.addResource(t,s,u,i[u],{silent:!0});a.silent||this.emit("added",t,s,i)}},{key:"addResourceBundle",value:function(t,s,i,a,u){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[t,s];t.indexOf(".")>-1&&(c=t.split("."),a=i,i=s,s=c[1]),this.addNamespaces(s);var f=Ch(this.data,c)||{};a?Nx(f,i,u):f=Kn({},f,i),t0(this.data,c,f),p.silent||this.emit("added",t,s,i)}},{key:"removeResourceBundle",value:function(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}},{key:"hasResourceBundle",value:function(t,s){return this.getResource(t,s)!==void 0}},{key:"getResourceBundle",value:function(t,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Kn({},{},this.getResource(t,s)):this.getResource(t,s)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(Ja),Ix={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,t,s,i){var a=this;return e.forEach(function(u){a.processors[u]&&(n=a.processors[u].process(n,t,s,i))}),n}},n0={},i0=function(r){Wh(e,r);function e(n){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return eo(this,e),t=ld(this,Al(e).call(this)),Yh&&Ja.call(Do(t)),TO(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Do(t)),t.options=s,t.options.keySeparator===void 0&&(t.options.keySeparator="."),t.logger=sa.create("translator"),t}return zi(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=this.resolve(t,s);return i&&i.res!==void 0}},{key:"extractFromKey",value:function(t,s){var i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS;if(i&&t.indexOf(i)>-1){var p=t.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:t,namespaces:u};var c=t.split(i);(i!==a||i===a&&this.options.ns.indexOf(c[0])>-1)&&(u=c.shift()),t=c.join(a)}return typeof u=="string"&&(u=[u]),{key:t,namespaces:u}}},{key:"translate",value:function(t,s,i){var a=this;if(cs(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);var u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,p=this.extractFromKey(t[t.length-1],s),c=p.key,f=p.namespaces,d=f[f.length-1],h=s.lng||this.language,w=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(w){var R=s.nsSeparator||this.options.nsSeparator;return d+R+c}return c}var S=this.resolve(t,s),_=S&&S.res,v=S&&S.usedKey||c,C=S&&S.exactUsedKey||c,T=Object.prototype.toString.apply(_),M=["[object Number]","[object Function]","[object RegExp]"],k=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,y=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(N&&_&&y&&M.indexOf(T)<0&&!(typeof k=="string"&&T==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,_,s):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");if(u){var F=T==="[object Array]",I=F?[]:{},U=F?C:v;for(var K in _)if(Object.prototype.hasOwnProperty.call(_,K)){var Q="".concat(U).concat(u).concat(K);I[K]=this.translate(Q,Kn({},s,{joinArrays:!1,ns:f})),I[K]===Q&&(I[K]=_[K])}_=I}}else if(N&&typeof k=="string"&&T==="[object Array]")_=_.join(k),_&&(_=this.extendTranslation(_,t,s,i));else{var oe=!1,Z=!1,de=s.count!==void 0&&typeof s.count!="string",ye=e.hasDefaultValue(s),q=de?this.pluralResolver.getSuffix(h,s.count):"",ee=s["defaultValue".concat(q)]||s.defaultValue;!this.isValidLookup(_)&&ye&&(oe=!0,_=ee),this.isValidLookup(_)||(Z=!0,_=c);var ce=ye&&ee!==_&&this.options.updateMissing;if(Z||oe||ce){if(this.logger.log(ce?"updateKey":"missingKey",h,d,c,ce?ee:_),u){var ve=this.resolve(c,Kn({},s,{keySeparator:!1}));ve&&ve.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var fe=[],ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(var Re=0;Re<ke.length;Re++)fe.push(ke[Re]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(s.lng||this.language):fe.push(s.lng||this.language);var Ue=function(Je,kt,Xt){a.options.missingKeyHandler?a.options.missingKeyHandler(Je,d,kt,ce?Xt:_,ce,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(Je,d,kt,ce?Xt:_,ce,s),a.emit("missingKey",Je,d,kt,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&de?fe.forEach(function(qe){a.pluralResolver.getSuffixes(qe).forEach(function(Je){Ue([qe],c+Je,s["defaultValue".concat(Je)]||ee)})}):Ue(fe,c,ee))}_=this.extendTranslation(_,t,s,S,i),Z&&_===c&&this.options.appendNamespaceToMissingKey&&(_="".concat(d,":").concat(c)),Z&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(_))}return _}},{key:"extendTranslation",value:function(t,s,i,a,u){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,i,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(Kn({},i,{interpolation:Kn({},this.options.interpolation,i.interpolation)}));var c=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,f;if(c){var d=t.match(this.interpolator.nestingRegexp);f=d&&d.length}var h=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(h=Kn({},this.options.interpolation.defaultVariables,h)),t=this.interpolator.interpolate(t,h,i.lng||this.language,i),c){var w=t.match(this.interpolator.nestingRegexp),R=w&&w.length;f<R&&(i.nest=!1)}i.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var v=arguments.length,C=new Array(v),T=0;T<v;T++)C[T]=arguments[T];return u&&u[0]===C[0]&&!i.context?(p.logger.warn("It seems you are nesting recursively key: ".concat(C[0]," in key: ").concat(s[0])),null):p.translate.apply(p,C.concat([s]))},i)),i.interpolation&&this.interpolator.reset()}var S=i.postProcess||this.options.postProcess,_=typeof S=="string"?[S]:S;return t!=null&&_&&_.length&&i.applyPostProcessor!==!1&&(t=Ix.handle(_,t,s,this.options&&this.options.postProcessPassResolved?Kn({i18nResolved:a},i):i,this)),t}},{key:"resolve",value:function(t){var s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,u,p,c,f;return typeof t=="string"&&(t=[t]),t.forEach(function(d){if(!s.isValidLookup(a)){var h=s.extractFromKey(d,i),w=h.key;u=w;var R=h.namespaces;s.options.fallbackNS&&(R=R.concat(s.options.fallbackNS));var S=i.count!==void 0&&typeof i.count!="string",_=i.context!==void 0&&typeof i.context=="string"&&i.context!=="",v=i.lngs?i.lngs:s.languageUtils.toResolveHierarchy(i.lng||s.language,i.fallbackLng);R.forEach(function(C){s.isValidLookup(a)||(f=C,!n0["".concat(v[0],"-").concat(C)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(f)&&(n0["".concat(v[0],"-").concat(C)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(v.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(function(T){if(!s.isValidLookup(a)){c=T;var M=w,k=[M];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(k,w,T,C,i);else{var N;S&&(N=s.pluralResolver.getSuffix(T,i.count)),S&&_&&k.push(M+N),_&&k.push(M+="".concat(s.options.contextSeparator).concat(i.context)),S&&k.push(M+=N)}for(var y;y=k.pop();)s.isValidLookup(a)||(p=y,a=s.getResource(T,C,y,i))}}))})}}),{res:a,usedKey:u,exactUsedKey:p,usedLng:c,usedNS:f}}},{key:"isValidLookup",value:function(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}},{key:"getResource",value:function(t,s,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,s,i,a):this.resourceStore.getResource(t,s,i,a)}}],[{key:"hasDefaultValue",value:function(t){var s="defaultValue";for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&s===i.substring(0,s.length)&&t[i]!==void 0)return!0;return!1}}]),e}(Ja);function Og(r){return r.charAt(0).toUpperCase()+r.slice(1)}var MO=function(){function r(e){eo(this,r),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sa.create("languageUtils")}return zi(r,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var t=n.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var t=n.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(i){return i.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=Og(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=Og(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=Og(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isWhitelisted",value:function(n){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(n)}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var t=this;if(!n)return null;var s;return n.forEach(function(i){if(!s){var a=t.formatLanguageCode(i);(!t.options.supportedLngs||t.isSupportedCode(a))&&(s=a)}}),!s&&this.options.supportedLngs&&n.forEach(function(i){if(!s){var a=t.getLanguagePartFromCode(i);if(t.isSupportedCode(a))return s=a;s=t.options.supportedLngs.find(function(u){if(u.indexOf(a)===0)return u})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,t){if(!n)return[];if(typeof n=="function"&&(n=n(t)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!t)return n.default||[];var s=n[t];return s||(s=n[this.getScriptPartFromCode(t)]),s||(s=n[this.formatLanguageCode(t)]),s||(s=n[this.getLanguagePartFromCode(t)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,t){var s=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],n),a=[],u=function(c){c&&(s.isSupportedCode(c)?a.push(c):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(n))):typeof n=="string"&&u(this.formatLanguageCode(n)),i.forEach(function(p){a.indexOf(p)<0&&u(s.formatLanguageCode(p))}),a}}]),r}(),AO=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jO={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};function LO(){var r={};return AO.forEach(function(e){e.lngs.forEach(function(n){r[n]={numbers:e.nr,plurals:jO[e.fc]}})}),r}var NO=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eo(this,r),this.languageUtils=e,this.options=n,this.logger=sa.create("pluralResolver"),this.rules=LO()}return zi(r,[{key:"addRule",value:function(n,t){this.rules[n]=t}},{key:"getRule",value:function(n){return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var t=this.getRule(n);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,t){return this.getSuffixes(n).map(function(s){return t+s})}},{key:"getSuffixes",value:function(n){var t=this,s=this.getRule(n);return s?s.numbers.map(function(i){return t.getSuffix(n,i)}):[]}},{key:"getSuffix",value:function(n,t){var s=this,i=this.getRule(n);if(i){var a=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),u=i.numbers[a];this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1&&(u===2?u="plural":u===1&&(u=""));var p=function(){return s.options.prepend&&u.toString()?s.options.prepend+u.toString():u.toString()};return this.options.compatibilityJSON==="v1"?u===1?"":typeof u=="number"?"_plural_".concat(u.toString()):p():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&i.numbers.length===2&&i.numbers[0]===1?p():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(n)),""}}]),r}(),IO=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};eo(this,r),this.logger=sa.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return zi(r,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var t=n.interpolation;this.escape=t.escape!==void 0?t.escape:OO,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?fl(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?fl(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?fl(t.nestingPrefix):t.nestingPrefixEscaped||fl("$t("),this.nestingSuffix=t.nestingSuffix?fl(t.nestingSuffix):t.nestingSuffixEscaped||fl(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,t,s,i){var a=this,u,p,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(_){return _.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(a.formatSeparator)<0){var C=r0(t,f,v);return a.alwaysFormat?a.format(C,void 0,s):C}var T=v.split(a.formatSeparator),M=T.shift().trim(),k=T.join(a.formatSeparator).trim();return a.format(r0(t,f,M),k,s,i)};this.resetRegExp();var w=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,R=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,S=[{regex:this.regexpUnescape,safeValue:function(v){return d(v)}},{regex:this.regexp,safeValue:function(v){return a.escapeValue?d(a.escape(v)):d(v)}}];return S.forEach(function(_){for(c=0;u=_.regex.exec(n);){if(p=h(u[1].trim()),p===void 0)if(typeof w=="function"){var v=w(n,u,i);p=typeof v=="string"?v:""}else if(R){p=u[0];continue}else a.logger.warn("missed to pass in variable ".concat(u[1]," for interpolating ").concat(n)),p="";else typeof p!="string"&&!a.useRawValueToEscape&&(p=e0(p));if(n=n.replace(u[0],_.safeValue(p)),_.regex.lastIndex=0,c++,c>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,t){var s=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,u,p=Kn({},i);p.applyPostProcessor=!1,delete p.defaultValue;function c(w,R){var S=this.nestingOptionsSeparator;if(w.indexOf(S)<0)return w;var _=w.split(new RegExp("".concat(S,"[ ]*{"))),v="{".concat(_[1]);w=_[0],v=this.interpolate(v,p),v=v.replace(/'/g,'"');try{p=JSON.parse(v),R&&(p=Kn({},R,p))}catch(C){return this.logger.warn("failed parsing options string in nesting for key ".concat(w),C),"".concat(w).concat(S).concat(v)}return delete p.defaultValue,w}for(;a=this.nestingRegexp.exec(n);){var f=[],d=!1;if(a[0].includes(this.formatSeparator)&&!/{.*}/.test(a[1])){var h=a[1].split(this.formatSeparator).map(function(w){return w.trim()});a[1]=h.shift(),f=h,d=!0}if(u=t(c.call(this,a[1].trim(),p),p),u&&a[0]===n&&typeof u!="string")return u;typeof u!="string"&&(u=e0(u)),u||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),u=""),d&&(u=f.reduce(function(w,R){return s.format(w,R,i.lng,i)},u.trim())),n=n.replace(a[0],u),this.regexp.lastIndex=0}return n}}]),r}();function FO(r,e){for(var n=r.indexOf(e);n!==-1;)r.splice(n,1),n=r.indexOf(e)}var BO=function(r){Wh(e,r);function e(n,t,s){var i,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return eo(this,e),i=ld(this,Al(e).call(this)),Yh&&Ja.call(Do(i)),i.backend=n,i.store=t,i.services=s,i.languageUtils=s.languageUtils,i.options=a,i.logger=sa.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(s,a.backend,a),i}return zi(e,[{key:"queueLoad",value:function(t,s,i,a){var u=this,p=[],c=[],f=[],d=[];return t.forEach(function(h){var w=!0;s.forEach(function(R){var S="".concat(h,"|").concat(R);!i.reload&&u.store.hasResourceBundle(h,R)?u.state[S]=2:u.state[S]<0||(u.state[S]===1?c.indexOf(S)<0&&c.push(S):(u.state[S]=1,w=!1,c.indexOf(S)<0&&c.push(S),p.indexOf(S)<0&&p.push(S),d.indexOf(R)<0&&d.push(R)))}),w||f.push(h)}),(p.length||c.length)&&this.queue.push({pending:c,loaded:{},errors:[],callback:a}),{toLoad:p,pending:c,toLoadLanguages:f,toLoadNamespaces:d}}},{key:"loaded",value:function(t,s,i){var a=t.split("|"),u=a[0],p=a[1];s&&this.emit("failedLoading",u,p,s),i&&this.store.addResourceBundle(u,p,i),this.state[t]=s?-1:2;var c={};this.queue.forEach(function(f){RO(f.loaded,[u],p),FO(f.pending,t),s&&f.errors.push(s),f.pending.length===0&&!f.done&&(Object.keys(f.loaded).forEach(function(d){c[d]||(c[d]=[]),f.loaded[d].length&&f.loaded[d].forEach(function(h){c[d].indexOf(h)<0&&c[d].push(h)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(t,s,i){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,c=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[i](t,s,function(f,d){if(f&&d&&u<5){setTimeout(function(){a.read.call(a,t,s,i,u+1,p*2,c)},p);return}c(f,d)}):c(null,{})}},{key:"prepareLoading",value:function(t,s){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof s=="string"&&(s=[s]);var p=this.queueLoad(t,s,a,u);if(!p.toLoad.length)return p.pending.length||u(),null;p.toLoad.forEach(function(c){i.loadOne(c)})}},{key:"load",value:function(t,s,i){this.prepareLoading(t,s,{},i)}},{key:"reload",value:function(t,s,i){this.prepareLoading(t,s,{reload:!0},i)}},{key:"loadOne",value:function(t){var s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=t.split("|"),u=a[0],p=a[1];this.read(u,p,"read",void 0,void 0,function(c,f){c&&s.logger.warn("".concat(i,"loading namespace ").concat(p," for language ").concat(u," failed"),c),!c&&f&&s.logger.log("".concat(i,"loaded namespace ").concat(p," for language ").concat(u),f),s.loaded(t,c,f)})}},{key:"saveMissing",value:function(t,s,i,a,u){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}i==null||i===""||(this.backend&&this.backend.create&&this.backend.create(t,s,i,a,null,Kn({},p,{isUpdate:u})),!(!t||!t[0])&&this.store.addResource(t[0],s,i,a))}}]),e}(Ja);function $O(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(cs(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),cs(e[2])==="object"||cs(e[3])==="object"){var t=e[3]||e[2];Object.keys(t).forEach(function(s){n[s]=t[s]})}return n},interpolation:{escapeValue:!0,format:function(e,n,t,s){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function s0(r){return typeof r.ns=="string"&&(r.ns=[r.ns]),typeof r.fallbackLng=="string"&&(r.fallbackLng=[r.fallbackLng]),typeof r.fallbackNS=="string"&&(r.fallbackNS=[r.fallbackNS]),r.whitelist&&(r.whitelist&&r.whitelist.indexOf("cimode")<0&&(r.whitelist=r.whitelist.concat(["cimode"])),r.supportedLngs=r.whitelist),r.nonExplicitWhitelist&&(r.nonExplicitSupportedLngs=r.nonExplicitWhitelist),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r}function Kf(){}var UO=function(r){Wh(e,r);function e(){var n,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(eo(this,e),n=ld(this,Al(e).call(this)),Yh&&Ja.call(Do(n)),n.options=s0(t),n.services={},n.logger=sa,n.modules={external:[]},s&&!n.isInitialized&&!t.isClone){if(!n.options.initImmediate)return n.init(t,s),ld(n,Do(n));setTimeout(function(){n.init(t,s)},0)}return n}return zi(e,[{key:"init",value:function(){var t=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(i=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Kn({},$O(),this.options,s0(s)),this.format=this.options.interpolation.format,i||(i=Kf);function a(R){return R?typeof R=="function"?new R:R:null}if(!this.options.isClone){this.modules.logger?sa.init(a(this.modules.logger),this.options):sa.init(null,this.options);var u=new MO(this.options);this.store=new DO(this.options.resources,this.options);var p=this.services;p.logger=sa,p.resourceStore=this.store,p.languageUtils=u,p.pluralResolver=new NO(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p.interpolator=new IO(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new BO(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(R){for(var S=arguments.length,_=new Array(S>1?S-1:0),v=1;v<S;v++)_[v-1]=arguments[v];t.emit.apply(t,[R].concat(_))}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new i0(this.services,this.options),this.translator.on("*",function(R){for(var S=arguments.length,_=new Array(S>1?S-1:0),v=1;v<S;v++)_[v-1]=arguments[v];t.emit.apply(t,[R].concat(_))}),this.modules.external.forEach(function(R){R.init&&R.init(t)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var f=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];f.forEach(function(R){t[R]=function(){var S;return(S=t.store)[R].apply(S,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(R){t[R]=function(){var S;return(S=t.store)[R].apply(S,arguments),t}});var h=Tu(),w=function(){var S=function(v,C){t.isInitialized&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),h.resolve(C),i(v,C)};if(t.languages&&t.options.compatibilityAPI!=="v1"&&!t.isInitialized)return S(null,t.t.bind(t));t.changeLanguage(t.options.lng,S)};return this.options.resources||!this.options.initImmediate?w():setTimeout(w,0),h}},{key:"loadResources",value:function(t){var s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kf,a=i,u=typeof t=="string"?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return a();var p=[],c=function(h){if(h){var w=s.services.languageUtils.toResolveHierarchy(h);w.forEach(function(R){p.indexOf(R)<0&&p.push(R)})}};if(u)c(u);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(d){return c(d)})}this.options.preload&&this.options.preload.forEach(function(d){return c(d)}),this.services.backendConnector.load(p,this.options.ns,a)}else a(null)}},{key:"reloadResources",value:function(t,s,i){var a=Tu();return t||(t=this.languages),s||(s=this.options.ns),i||(i=Kf),this.services.backendConnector.reload(t,s,function(u){a.resolve(),i(u)}),a}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Ix.addPostProcessor(t),t.type==="3rdParty"&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,s){var i=this;this.isLanguageChangingTo=t;var a=Tu();this.emit("languageChanging",t);var u=function(f,d){d?(i.language=d,i.languages=i.services.languageUtils.toResolveHierarchy(d),i.translator.changeLanguage(d),i.isLanguageChangingTo=void 0,i.emit("languageChanged",d),i.logger.log("languageChanged",d)):i.isLanguageChangingTo=void 0,a.resolve(function(){return i.t.apply(i,arguments)}),s&&s(f,function(){return i.t.apply(i,arguments)})},p=function(f){var d=typeof f=="string"?f:i.services.languageUtils.getBestMatchFromCodes(f);d&&(i.language||(i.language=d,i.languages=i.services.languageUtils.toResolveHierarchy(d)),i.translator.language||i.translator.changeLanguage(d),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(d)),i.loadResources(d,function(h){u(h,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(p):p(t),a}},{key:"getFixedT",value:function(t,s){var i=this,a=function u(p,c){var f;if(cs(c)!=="object"){for(var d=arguments.length,h=new Array(d>2?d-2:0),w=2;w<d;w++)h[w-2]=arguments[w];f=i.options.overloadTranslationOptionHandler([p,c].concat(h))}else f=Kn({},c);return f.lng=f.lng||u.lng,f.lngs=f.lngs||u.lngs,f.ns=f.ns||u.ns,i.t(p,f)};return typeof t=="string"?a.lng=t:a.lngs=t,a.ns=s,a}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.languages[0],u=this.options?this.options.fallbackLng:!1,p=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var c=function(h,w){var R=s.services.backendConnector.state["".concat(h,"|").concat(w)];return R===-1||R===2};if(i.precheck){var f=i.precheck(this,c);if(f!==void 0)return f}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||c(a,t)&&(!u||c(p,t)))}},{key:"loadNamespaces",value:function(t,s){var i=this,a=Tu();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(function(u){i.options.ns.indexOf(u)<0&&i.options.ns.push(u)}),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(t,s){var i=Tu();typeof t=="string"&&(t=[t]);var a=this.options.preload||[],u=t.filter(function(p){return a.indexOf(p)<0});return u.length?(this.options.preload=a.concat(u),this.loadResources(function(p){i.resolve(),s&&s(p)}),i):(s&&s(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new e(t,s)}},{key:"cloneInstance",value:function(){var t=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kf,a=Kn({},this.options,s,{isClone:!0}),u=new e(a),p=["store","services","language"];return p.forEach(function(c){u[c]=t[c]}),u.services=Kn({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new i0(u.services,u.options),u.translator.on("*",function(c){for(var f=arguments.length,d=new Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];u.emit.apply(u,[c].concat(d))}),u.init(a,i),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}}]),e}(Ja),Fe=new UO,uh={exports:{}};/*!
* sweetalert2 v11.19.1
* Released under the MIT License.
*/var Ua=uh.exports,o0;function qO(){return o0||(o0=1,function(r,e){(function(n,t){r.exports=t()})(Ua,function(){function n(E,O,H){if(typeof E=="function"?E===O:E.has(O))return arguments.length<3?O:H;throw new TypeError("Private element is not present on this object")}function t(E,O){if(O.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(E,O){return E.get(n(E,O))}function i(E,O,H){t(E,O),O.set(E,H)}function a(E,O,H){return E.set(n(E,O),H),H}const u=100,p={},c=()=>{p.previousActiveElement instanceof HTMLElement?(p.previousActiveElement.focus(),p.previousActiveElement=null):document.body&&document.body.focus()},f=E=>new Promise(O=>{if(!E)return O();const H=window.scrollX,te=window.scrollY;p.restoreFocusTimeout=setTimeout(()=>{c(),O()},u),window.scrollTo(H,te)}),d="swal2-",w=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((E,O)=>(E[O]=d+O,E),{}),S=["success","warning","info","question","error"].reduce((E,O)=>(E[O]=d+O,E),{}),_="SweetAlert2:",v=E=>E.charAt(0).toUpperCase()+E.slice(1),C=E=>{console.warn(`${_} ${typeof E=="object"?E.join(" "):E}`)},T=E=>{console.error(`${_} ${E}`)},M=[],k=E=>{M.includes(E)||(M.push(E),C(E))},N=function(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;k(`"${E}" is deprecated and will be removed in the next major release.${O?` Use "${O}" instead.`:""}`)},y=E=>typeof E=="function"?E():E,F=E=>E&&typeof E.toPromise=="function",I=E=>F(E)?E.toPromise():Promise.resolve(E),U=E=>E&&Promise.resolve(E)===E,K=()=>document.body.querySelector(`.${w.container}`),Q=E=>{const O=K();return O?O.querySelector(E):null},oe=E=>Q(`.${E}`),Z=()=>oe(w.popup),de=()=>oe(w.icon),ye=()=>oe(w["icon-content"]),q=()=>oe(w.title),ee=()=>oe(w["html-container"]),ce=()=>oe(w.image),ve=()=>oe(w["progress-steps"]),fe=()=>oe(w["validation-message"]),ke=()=>Q(`.${w.actions} .${w.confirm}`),Re=()=>Q(`.${w.actions} .${w.cancel}`),Ue=()=>Q(`.${w.actions} .${w.deny}`),qe=()=>oe(w["input-label"]),Je=()=>Q(`.${w.loader}`),kt=()=>oe(w.actions),Xt=()=>oe(w.footer),qt=()=>oe(w["timer-progress-bar"]),pr=()=>oe(w.close),kn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Jt=()=>{const E=Z();if(!E)return[];const O=E.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),H=Array.from(O).sort((Ye,Mt)=>{const $t=parseInt(Ye.getAttribute("tabindex")||"0"),fr=parseInt(Mt.getAttribute("tabindex")||"0");return $t>fr?1:$t<fr?-1:0}),te=E.querySelectorAll(kn),xe=Array.from(te).filter(Ye=>Ye.getAttribute("tabindex")!=="-1");return[...new Set(H.concat(xe))].filter(Ye=>Bt(Ye))},br=()=>xr(document.body,w.shown)&&!xr(document.body,w["toast-shown"])&&!xr(document.body,w["no-backdrop"]),Qt=()=>{const E=Z();return E?xr(E,w.toast):!1},on=()=>{const E=Z();return E?E.hasAttribute("data-loading"):!1},cr=(E,O)=>{if(E.textContent="",O){const te=new DOMParser().parseFromString(O,"text/html"),xe=te.querySelector("head");xe&&Array.from(xe.childNodes).forEach(Mt=>{E.appendChild(Mt)});const Ye=te.querySelector("body");Ye&&Array.from(Ye.childNodes).forEach(Mt=>{Mt instanceof HTMLVideoElement||Mt instanceof HTMLAudioElement?E.appendChild(Mt.cloneNode(!0)):E.appendChild(Mt)})}},xr=(E,O)=>{if(!O)return!1;const H=O.split(/\s+/);for(let te=0;te<H.length;te++)if(!E.classList.contains(H[te]))return!1;return!0},en=(E,O)=>{Array.from(E.classList).forEach(H=>{!Object.values(w).includes(H)&&!Object.values(S).includes(H)&&!Object.values(O.showClass||{}).includes(H)&&E.classList.remove(H)})},jr=(E,O,H)=>{if(en(E,O),!O.customClass)return;const te=O.customClass[H];if(te){if(typeof te!="string"&&!te.forEach){C(`Invalid type of customClass.${H}! Expected string or iterable object, got "${typeof te}"`);return}Ct(E,te)}},vn=(E,O)=>{if(!O)return null;switch(O){case"select":case"textarea":case"file":return E.querySelector(`.${w.popup} > .${w[O]}`);case"checkbox":return E.querySelector(`.${w.popup} > .${w.checkbox} input`);case"radio":return E.querySelector(`.${w.popup} > .${w.radio} input:checked`)||E.querySelector(`.${w.popup} > .${w.radio} input:first-child`);case"range":return E.querySelector(`.${w.popup} > .${w.range} input`);default:return E.querySelector(`.${w.popup} > .${w.input}`)}},xn=E=>{if(E.focus(),E.type!=="file"){const O=E.value;E.value="",E.value=O}},Ir=(E,O,H)=>{!E||!O||(typeof O=="string"&&(O=O.split(/\s+/).filter(Boolean)),O.forEach(te=>{Array.isArray(E)?E.forEach(xe=>{H?xe.classList.add(te):xe.classList.remove(te)}):H?E.classList.add(te):E.classList.remove(te)}))},Ct=(E,O)=>{Ir(E,O,!0)},nr=(E,O)=>{Ir(E,O,!1)},Qe=(E,O)=>{const H=Array.from(E.children);for(let te=0;te<H.length;te++){const xe=H[te];if(xe instanceof HTMLElement&&xr(xe,O))return xe}},Yt=(E,O,H)=>{H===`${parseInt(H)}`&&(H=parseInt(H)),H||parseInt(H)===0?E.style.setProperty(O,typeof H=="number"?`${H}px`:H):E.style.removeProperty(O)},mr=function(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";E&&(E.style.display=O)},lr=E=>{E&&(E.style.display="none")},$n=function(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";E&&new MutationObserver(()=>{Vr(E,E.innerHTML,O)}).observe(E,{childList:!0,subtree:!0})},Gi=(E,O,H,te)=>{const xe=E.querySelector(O);xe&&xe.style.setProperty(H,te)},Vr=function(E,O){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";O?mr(E,H):lr(E)},Bt=E=>!!(E&&(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),Sr=()=>!Bt(ke())&&!Bt(Ue())&&!Bt(Re()),zr=E=>E.scrollHeight>E.clientHeight,_n=E=>{const O=window.getComputedStyle(E),H=parseFloat(O.getPropertyValue("animation-duration")||"0"),te=parseFloat(O.getPropertyValue("transition-duration")||"0");return H>0||te>0},Xn=function(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const H=qt();H&&Bt(H)&&(O&&(H.style.transition="none",H.style.width="100%"),setTimeout(()=>{H.style.transition=`width ${E/1e3}s linear`,H.style.width="0%"},10))},pt=()=>{const E=qt();if(!E)return;const O=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const H=parseInt(window.getComputedStyle(E).width),te=O/H*100;E.style.width=`${te}%`},Qn=()=>typeof window>"u"||typeof document>"u",Ti=`
 <div aria-labelledby="${w.title}" aria-describedby="${w["html-container"]}" class="${w.popup}" tabindex="-1">
   <button type="button" class="${w.close}"></button>
   <ul class="${w["progress-steps"]}"></ul>
   <div class="${w.icon}"></div>
   <img class="${w.image}" />
   <h2 class="${w.title}" id="${w.title}"></h2>
   <div class="${w["html-container"]}" id="${w["html-container"]}"></div>
   <input class="${w.input}" id="${w.input}" />
   <input type="file" class="${w.file}" />
   <div class="${w.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${w.select}" id="${w.select}"></select>
   <div class="${w.radio}"></div>
   <label class="${w.checkbox}">
     <input type="checkbox" id="${w.checkbox}" />
     <span class="${w.label}"></span>
   </label>
   <textarea class="${w.textarea}" id="${w.textarea}"></textarea>
   <div class="${w["validation-message"]}" id="${w["validation-message"]}"></div>
   <div class="${w.actions}">
     <div class="${w.loader}"></div>
     <button type="button" class="${w.confirm}"></button>
     <button type="button" class="${w.deny}"></button>
     <button type="button" class="${w.cancel}"></button>
   </div>
   <div class="${w.footer}"></div>
   <div class="${w["timer-progress-bar-container"]}">
     <div class="${w["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ps=()=>{const E=K();return E?(E.remove(),nr([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Wr=()=>{p.currentInstance.resetValidationMessage()},ui=()=>{const E=Z(),O=Qe(E,w.input),H=Qe(E,w.file),te=E.querySelector(`.${w.range} input`),xe=E.querySelector(`.${w.range} output`),Ye=Qe(E,w.select),Mt=E.querySelector(`.${w.checkbox} input`),$t=Qe(E,w.textarea);O.oninput=Wr,H.onchange=Wr,Ye.onchange=Wr,Mt.onchange=Wr,$t.oninput=Wr,te.oninput=()=>{Wr(),xe.value=te.value},te.onchange=()=>{Wr(),xe.value=te.value}},ms=E=>typeof E=="string"?document.querySelector(E):E,Ri=E=>{const O=Z();O.setAttribute("role",E.toast?"alert":"dialog"),O.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||O.setAttribute("aria-modal","true")},Yr=E=>{window.getComputedStyle(E).direction==="rtl"&&Ct(K(),w.rtl)},gr=E=>{const O=ps();if(Qn()){T("SweetAlert2 requires document to initialize");return}const H=document.createElement("div");H.className=w.container,O&&Ct(H,w["no-transition"]),cr(H,Ti),H.dataset.swal2Theme=E.theme;const te=ms(E.target);te.appendChild(H),Ri(E),Yr(te),ui()},En=(E,O)=>{E instanceof HTMLElement?O.appendChild(E):typeof E=="object"?va(E,O):E&&cr(O,E)},va=(E,O)=>{E.jquery?ro(O,E):cr(O,E.toString())},ro=(E,O)=>{if(E.textContent="",0 in O)for(let H=0;H in O;H++)E.appendChild(O[H].cloneNode(!0));else E.appendChild(O.cloneNode(!0))},gs=(E,O)=>{const H=kt(),te=Je();!H||!te||(!O.showConfirmButton&&!O.showDenyButton&&!O.showCancelButton?lr(H):mr(H),jr(H,O,"actions"),di(H,te,O),cr(te,O.loaderHtml||""),jr(te,O,"loader"))};function di(E,O,H){const te=ke(),xe=Ue(),Ye=Re();!te||!xe||!Ye||(Pi(te,"confirm",H),Pi(xe,"deny",H),Pi(Ye,"cancel",H),fi(te,xe,Ye,H),H.reverseButtons&&(H.toast?(E.insertBefore(Ye,te),E.insertBefore(xe,te)):(E.insertBefore(Ye,O),E.insertBefore(xe,O),E.insertBefore(te,O))))}function fi(E,O,H,te){if(!te.buttonsStyling){nr([E,O,H],w.styled);return}Ct([E,O,H],w.styled),te.confirmButtonColor&&E.style.setProperty("--swal2-confirm-button-background-color",te.confirmButtonColor),te.denyButtonColor&&O.style.setProperty("--swal2-deny-button-background-color",te.denyButtonColor),te.cancelButtonColor&&H.style.setProperty("--swal2-cancel-button-background-color",te.cancelButtonColor),hi(E),hi(O),hi(H)}function hi(E){const O=window.getComputedStyle(E),H=O.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");E.style.setProperty("--swal2-action-button-outline",O.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${H}`))}function Pi(E,O,H){const te=v(O);Vr(E,H[`show${te}Button`],"inline-block"),cr(E,H[`${O}ButtonText`]||""),E.setAttribute("aria-label",H[`${O}ButtonAriaLabel`]||""),E.className=w[O],jr(E,H,`${O}Button`)}const Oi=(E,O)=>{const H=pr();H&&(cr(H,O.closeButtonHtml||""),jr(H,O,"closeButton"),Vr(H,O.showCloseButton),H.setAttribute("aria-label",O.closeButtonAriaLabel||""))},Bo=(E,O)=>{const H=K();H&&(vs(H,O.backdrop),no(H,O.position),_s(H,O.grow),jr(H,O,"container"))};function vs(E,O){typeof O=="string"?E.style.background=O:O||Ct([document.documentElement,document.body],w["no-backdrop"])}function no(E,O){O&&(O in w?Ct(E,w[O]):(C('The "position" parameter is not valid, defaulting to "center"'),Ct(E,w.center)))}function _s(E,O){O&&Ct(E,w[`grow-${O}`])}var Vt={innerParams:new WeakMap,domCache:new WeakMap};const Di=["input","file","range","select","radio","checkbox","textarea"],$o=(E,O)=>{const H=Z();if(!H)return;const te=Vt.innerParams.get(E),xe=!te||O.input!==te.input;Di.forEach(Ye=>{const Mt=Qe(H,w[Ye]);Mt&&(Zn(Ye,O.inputAttributes),Mt.className=w[Ye],xe&&lr(Mt))}),O.input&&(xe&&Tn(O),pi(O))},Tn=E=>{if(!E.input)return;if(!Zt[E.input]){T(`Unexpected type of input! Expected ${Object.keys(Zt).join(" | ")}, got "${E.input}"`);return}const O=_a(E.input);if(!O)return;const H=Zt[E.input](O,E);mr(O),E.inputAutoFocus&&setTimeout(()=>{xn(H)})},ys=E=>{for(let O=0;O<E.attributes.length;O++){const H=E.attributes[O].name;["id","type","value","style"].includes(H)||E.removeAttribute(H)}},Zn=(E,O)=>{const H=Z();if(!H)return;const te=vn(H,E);if(te){ys(te);for(const xe in O)te.setAttribute(xe,O[xe])}},pi=E=>{if(!E.input)return;const O=_a(E.input);O&&jr(O,E,"input")},Rn=(E,O)=>{!E.placeholder&&O.inputPlaceholder&&(E.placeholder=O.inputPlaceholder)},ei=(E,O,H)=>{if(H.inputLabel){const te=document.createElement("label"),xe=w["input-label"];te.setAttribute("for",E.id),te.className=xe,typeof H.customClass=="object"&&Ct(te,H.customClass.inputLabel),te.innerText=H.inputLabel,O.insertAdjacentElement("beforebegin",te)}},_a=E=>{const O=Z();if(O)return Qe(O,w[E]||w.input)},tn=(E,O)=>{["string","number"].includes(typeof O)?E.value=`${O}`:U(O)||C(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof O}"`)},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=Zt.search=Zt.date=Zt["datetime-local"]=Zt.time=Zt.week=Zt.month=(E,O)=>(tn(E,O.inputValue),ei(E,E,O),Rn(E,O),E.type=O.input,E),Zt.file=(E,O)=>(ei(E,E,O),Rn(E,O),E),Zt.range=(E,O)=>{const H=E.querySelector("input"),te=E.querySelector("output");return tn(H,O.inputValue),H.type=O.input,tn(te,O.inputValue),ei(H,E,O),E},Zt.select=(E,O)=>{if(E.textContent="",O.inputPlaceholder){const H=document.createElement("option");cr(H,O.inputPlaceholder),H.value="",H.disabled=!0,H.selected=!0,E.appendChild(H)}return ei(E,E,O),E},Zt.radio=E=>(E.textContent="",E),Zt.checkbox=(E,O)=>{const H=vn(Z(),"checkbox");H.value="1",H.checked=!!O.inputValue;const te=E.querySelector("span");return cr(te,O.inputPlaceholder||O.inputLabel),H},Zt.textarea=(E,O)=>{tn(E,O.inputValue),Rn(E,O),ei(E,E,O);const H=te=>parseInt(window.getComputedStyle(te).marginLeft)+parseInt(window.getComputedStyle(te).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const te=parseInt(window.getComputedStyle(Z()).width),xe=()=>{if(!document.body.contains(E))return;const Ye=E.offsetWidth+H(E);Ye>te?Z().style.width=`${Ye}px`:Yt(Z(),"width",O.width)};new MutationObserver(xe).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const an=(E,O)=>{const H=ee();H&&($n(H),jr(H,O,"htmlContainer"),O.html?(En(O.html,H),mr(H,"block")):O.text?(H.textContent=O.text,mr(H,"block")):lr(H),$o(E,O))},Uo=(E,O)=>{const H=Xt();H&&($n(H),Vr(H,O.footer,"block"),O.footer&&En(O.footer,H),jr(H,O,"footer"))},io=(E,O)=>{const H=Vt.innerParams.get(E),te=de();if(!te)return;if(H&&O.icon===H.icon){Ji(te,O),so(te,O);return}if(!O.icon&&!O.iconHtml){lr(te);return}if(O.icon&&Object.keys(S).indexOf(O.icon)===-1){T(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${O.icon}"`),lr(te);return}mr(te),Ji(te,O),so(te,O),Ct(te,O.showClass&&O.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Mi)},so=(E,O)=>{for(const[H,te]of Object.entries(S))O.icon!==H&&nr(E,te);Ct(E,O.icon&&S[O.icon]),ao(E,O),Mi(),jr(E,O,"icon")},Mi=()=>{const E=Z();if(!E)return;const O=window.getComputedStyle(E).getPropertyValue("background-color"),H=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let te=0;te<H.length;te++)H[te].style.backgroundColor=O},oo=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ws=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ji=(E,O)=>{if(!O.icon&&!O.iconHtml)return;let H=E.innerHTML,te="";O.iconHtml?te=cn(O.iconHtml):O.icon==="success"?(te=oo,H=H.replace(/ style=".*?"/g,"")):O.icon==="error"?te=ws:O.icon&&(te=cn({question:"?",warning:"!",info:"i"}[O.icon])),H.trim()!==te.trim()&&cr(E,te)},ao=(E,O)=>{if(O.iconColor){E.style.color=O.iconColor,E.style.borderColor=O.iconColor;for(const H of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gi(E,H,"background-color",O.iconColor);Gi(E,".swal2-success-ring","border-color",O.iconColor)}},cn=E=>`<div class="${w["icon-content"]}">${E}</div>`,Fr=(E,O)=>{const H=ce();if(H){if(!O.imageUrl){lr(H);return}mr(H,""),H.setAttribute("src",O.imageUrl),H.setAttribute("alt",O.imageAlt||""),Yt(H,"width",O.imageWidth),Yt(H,"height",O.imageHeight),H.className=w.image,jr(H,O,"image")}};let er=!1,rn=0,Un=0,Pn=0,ti=0;const bs=E=>{E.addEventListener("mousedown",ri),document.body.addEventListener("mousemove",yn),E.addEventListener("mouseup",Cs),E.addEventListener("touchstart",ri),document.body.addEventListener("touchmove",yn),E.addEventListener("touchend",Cs)},Ss=E=>{E.removeEventListener("mousedown",ri),document.body.removeEventListener("mousemove",yn),E.removeEventListener("mouseup",Cs),E.removeEventListener("touchstart",ri),document.body.removeEventListener("touchmove",yn),E.removeEventListener("touchend",Cs)},ri=E=>{const O=Z();if(E.target===O||de().contains(E.target)){er=!0;const H=co(E);rn=H.clientX,Un=H.clientY,Pn=parseInt(O.style.insetInlineStart)||0,ti=parseInt(O.style.insetBlockStart)||0,Ct(O,"swal2-dragging")}},yn=E=>{const O=Z();if(er){let{clientX:H,clientY:te}=co(E);O.style.insetInlineStart=`${Pn+(H-rn)}px`,O.style.insetBlockStart=`${ti+(te-Un)}px`}},Cs=()=>{const E=Z();er=!1,nr(E,"swal2-dragging")},co=E=>{let O=0,H=0;return E.type.startsWith("mouse")?(O=E.clientX,H=E.clientY):E.type.startsWith("touch")&&(O=E.touches[0].clientX,H=E.touches[0].clientY),{clientX:O,clientY:H}},Kr=(E,O)=>{const H=K(),te=Z();if(!(!H||!te)){if(O.toast){Yt(H,"width",O.width),te.style.width="100%";const xe=Je();xe&&te.insertBefore(xe,de())}else Yt(te,"width",O.width);Yt(te,"padding",O.padding),O.color&&(te.style.color=O.color),O.background&&(te.style.background=O.background),lr(fe()),lo(te,O),O.draggable&&!O.toast?(Ct(te,w.draggable),bs(te)):(nr(te,w.draggable),Ss(te))}},lo=(E,O)=>{const H=O.showClass||{};E.className=`${w.popup} ${Bt(E)?H.popup:""}`,O.toast?(Ct([document.documentElement,document.body],w["toast-shown"]),Ct(E,w.toast)):Ct(E,w.modal),jr(E,O,"popup"),typeof O.customClass=="string"&&Ct(E,O.customClass),O.icon&&Ct(E,w[`icon-${O.icon}`])},Xi=(E,O)=>{const H=ve();if(!H)return;const{progressSteps:te,currentProgressStep:xe}=O;if(!te||te.length===0||xe===void 0){lr(H);return}mr(H),H.textContent="",xe>=te.length&&C("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),te.forEach((Ye,Mt)=>{const $t=Ai(Ye);if(H.appendChild($t),Mt===xe&&Ct($t,w["active-progress-step"]),Mt!==te.length-1){const fr=ya(O);H.appendChild(fr)}})},Ai=E=>{const O=document.createElement("li");return Ct(O,w["progress-step"]),cr(O,E),O},ya=E=>{const O=document.createElement("li");return Ct(O,w["progress-step-line"]),E.progressStepsDistance&&Yt(O,"width",E.progressStepsDistance),O},nn=(E,O)=>{const H=q();H&&($n(H),Vr(H,O.title||O.titleText,"block"),O.title&&En(O.title,H),O.titleText&&(H.innerText=O.titleText),jr(H,O,"title"))},ln=(E,O)=>{Kr(E,O),Bo(E,O),Xi(E,O),io(E,O),Fr(E,O),nn(E,O),Oi(E,O),an(E,O),gs(E,O),Uo(E,O);const H=Z();typeof O.didRender=="function"&&H&&O.didRender(H),p.eventEmitter.emit("didRender",H)},ks=()=>Bt(Z()),qo=()=>{var E;return(E=ke())===null||E===void 0?void 0:E.click()},ni=()=>{var E;return(E=Ue())===null||E===void 0?void 0:E.click()},uo=()=>{var E;return(E=Re())===null||E===void 0?void 0:E.click()},On=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fo=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Ho=(E,O,H)=>{fo(E),O.toast||(E.keydownHandler=te=>ji(O,te,H),E.keydownTarget=O.keydownListenerCapture?window:Z(),E.keydownListenerCapture=O.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)},ho=(E,O)=>{var H;const te=Jt();if(te.length){E=E+O,E===-2&&(E=te.length-1),E===te.length?E=0:E===-1&&(E=te.length-1),te[E].focus();return}(H=Z())===null||H===void 0||H.focus()},mi=["ArrowRight","ArrowDown"],po=["ArrowLeft","ArrowUp"],ji=(E,O,H)=>{E&&(O.isComposing||O.keyCode===229||(E.stopKeydownPropagation&&O.stopPropagation(),O.key==="Enter"?xs(O,E):O.key==="Tab"?zt(O):[...mi,...po].includes(O.key)?Li(O.key):O.key==="Escape"&&tc(O,E,H)))},xs=(E,O)=>{if(!y(O.allowEnterKey))return;const H=vn(Z(),O.input);if(E.target&&H&&E.target instanceof HTMLElement&&E.target.outerHTML===H.outerHTML){if(["textarea","file"].includes(O.input))return;qo(),E.preventDefault()}},zt=E=>{const O=E.target,H=Jt();let te=-1;for(let xe=0;xe<H.length;xe++)if(O===H[xe]){te=xe;break}E.shiftKey?ho(te,-1):ho(te,1),E.stopPropagation(),E.preventDefault()},Li=E=>{const O=kt(),H=ke(),te=Ue(),xe=Re();if(!O||!H||!te||!xe)return;const Ye=[H,te,xe];if(document.activeElement instanceof HTMLElement&&!Ye.includes(document.activeElement))return;const Mt=mi.includes(E)?"nextElementSibling":"previousElementSibling";let $t=document.activeElement;if($t){for(let fr=0;fr<O.children.length;fr++){if($t=$t[Mt],!$t)return;if($t instanceof HTMLButtonElement&&Bt($t))break}$t instanceof HTMLButtonElement&&$t.focus()}},tc=(E,O,H)=>{y(O.allowEscapeKey)&&(E.preventDefault(),H(On.esc))};var Qi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Es=()=>{const E=K();Array.from(document.body.children).forEach(H=>{H.contains(E)||(H.hasAttribute("aria-hidden")&&H.setAttribute("data-previous-aria-hidden",H.getAttribute("aria-hidden")||""),H.setAttribute("aria-hidden","true"))})},Vo=()=>{Array.from(document.body.children).forEach(O=>{O.hasAttribute("data-previous-aria-hidden")?(O.setAttribute("aria-hidden",O.getAttribute("data-previous-aria-hidden")||""),O.removeAttribute("data-previous-aria-hidden")):O.removeAttribute("aria-hidden")})},Dn=typeof window<"u"&&!!window.GestureEvent,ii=()=>{if(Dn&&!xr(document.body,w.iosfix)){const E=document.body.scrollTop;document.body.style.top=`${E*-1}px`,Ct(document.body,w.iosfix),Ts()}},Ts=()=>{const E=K();if(!E)return;let O;E.ontouchstart=H=>{O=Rs(H)},E.ontouchmove=H=>{O&&(H.preventDefault(),H.stopPropagation())}},Rs=E=>{const O=E.target,H=K(),te=ee();return!H||!te||qn(E)||wa(E)?!1:O===H||!zr(H)&&O instanceof HTMLElement&&O.tagName!=="INPUT"&&O.tagName!=="TEXTAREA"&&!(zr(te)&&te.contains(O))},qn=E=>E.touches&&E.touches.length&&E.touches[0].touchType==="stylus",wa=E=>E.touches&&E.touches.length>1,ba=()=>{if(xr(document.body,w.iosfix)){const E=parseInt(document.body.style.top,10);nr(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=E*-1}},Zi=()=>{const E=document.createElement("div");E.className=w["scrollbar-measure"],document.body.appendChild(E);const O=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),O};let wn=null;const zo=E=>{wn===null&&(document.body.scrollHeight>window.innerHeight||E==="scroll")&&(wn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${wn+Zi()}px`)},mo=()=>{wn!==null&&(document.body.style.paddingRight=`${wn}px`,wn=null)};function bn(E,O,H,te){Qt()?L(E,te):(f(H).then(()=>L(E,te)),fo(p)),Dn?(O.setAttribute("style","display:none !important"),O.removeAttribute("class"),O.innerHTML=""):O.remove(),br()&&(mo(),ba(),Vo()),Wo()}function Wo(){nr([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function un(E){E=g(E);const O=Qi.swalPromiseResolve.get(this),H=go(this);this.isAwaitingPromise?E.isDismissed||(Mn(this),O(E)):H&&O(E)}const go=E=>{const O=Z();if(!O)return!1;const H=Vt.innerParams.get(E);if(!H||xr(O,H.hideClass.popup))return!1;nr(O,H.showClass.popup),Ct(O,H.hideClass.popup);const te=K();return nr(te,H.showClass.backdrop),Ct(te,H.hideClass.backdrop),b(E,O,H),!0};function si(E){const O=Qi.swalPromiseReject.get(this);Mn(this),O&&O(E)}const Mn=E=>{E.isAwaitingPromise&&(delete E.isAwaitingPromise,Vt.innerParams.get(E)||E._destroy())},g=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),b=(E,O,H)=>{var te;const xe=K(),Ye=_n(O);typeof H.willClose=="function"&&H.willClose(O),(te=p.eventEmitter)===null||te===void 0||te.emit("willClose",O),Ye?D(E,O,xe,H.returnFocus,H.didClose):bn(E,xe,H.returnFocus,H.didClose)},D=(E,O,H,te,xe)=>{p.swalCloseEventFinishedCallback=bn.bind(null,E,H,te,xe);const Ye=function(Mt){if(Mt.target===O){var $t;($t=p.swalCloseEventFinishedCallback)===null||$t===void 0||$t.call(p),delete p.swalCloseEventFinishedCallback,O.removeEventListener("animationend",Ye),O.removeEventListener("transitionend",Ye)}};O.addEventListener("animationend",Ye),O.addEventListener("transitionend",Ye)},L=(E,O)=>{setTimeout(()=>{var H;typeof O=="function"&&O.bind(E.params)(),(H=p.eventEmitter)===null||H===void 0||H.emit("didClose"),E._destroy&&E._destroy()})},z=E=>{let O=Z();if(O||new Ko,O=Z(),!O)return;const H=Je();Qt()?lr(de()):V(O,E),mr(H),O.setAttribute("data-loading","true"),O.setAttribute("aria-busy","true"),O.focus()},V=(E,O)=>{const H=kt(),te=Je();!H||!te||(!O&&Bt(ke())&&(O=ke()),mr(H),O&&(lr(O),te.setAttribute("data-button-to-replace",O.className),H.insertBefore(te,O)),Ct([E,H],w.loading))},G=(E,O)=>{O.input==="select"||O.input==="radio"?Oe(E,O):["text","email","number","tel","textarea"].some(H=>H===O.input)&&(F(O.inputValue)||U(O.inputValue))&&(z(ke()),be(E,O))},ue=(E,O)=>{const H=E.getInput();if(!H)return null;switch(O.input){case"checkbox":return ae(H);case"radio":return ge(H);case"file":return Te(H);default:return O.inputAutoTrim?H.value.trim():H.value}},ae=E=>E.checked?1:0,ge=E=>E.checked?E.value:null,Te=E=>E.files&&E.files.length?E.getAttribute("multiple")!==null?E.files:E.files[0]:null,Oe=(E,O)=>{const H=Z();if(!H)return;const te=xe=>{O.input==="select"?Ie(H,Dt(xe),O):O.input==="radio"&&vt(H,Dt(xe),O)};F(O.inputOptions)||U(O.inputOptions)?(z(ke()),I(O.inputOptions).then(xe=>{E.hideLoading(),te(xe)})):typeof O.inputOptions=="object"?te(O.inputOptions):T(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof O.inputOptions}`)},be=(E,O)=>{const H=E.getInput();H&&(lr(H),I(O.inputValue).then(te=>{H.value=O.input==="number"?`${parseFloat(te)||0}`:`${te}`,mr(H),H.focus(),E.hideLoading()}).catch(te=>{T(`Error in inputValue promise: ${te}`),H.value="",mr(H),H.focus(),E.hideLoading()}))};function Ie(E,O,H){const te=Qe(E,w.select);if(!te)return;const xe=(Ye,Mt,$t)=>{const fr=document.createElement("option");fr.value=$t,cr(fr,Mt),fr.selected=wt($t,H.inputValue),Ye.appendChild(fr)};O.forEach(Ye=>{const Mt=Ye[0],$t=Ye[1];if(Array.isArray($t)){const fr=document.createElement("optgroup");fr.label=Mt,fr.disabled=!1,te.appendChild(fr),$t.forEach(oi=>xe(fr,oi[1],oi[0]))}else xe(te,$t,Mt)}),te.focus()}function vt(E,O,H){const te=Qe(E,w.radio);if(!te)return;O.forEach(Ye=>{const Mt=Ye[0],$t=Ye[1],fr=document.createElement("input"),oi=document.createElement("label");fr.type="radio",fr.name=w.radio,fr.value=Mt,wt(Mt,H.inputValue)&&(fr.checked=!0);const vr=document.createElement("span");cr(vr,$t),vr.className=w.label,oi.appendChild(fr),oi.appendChild(vr),te.appendChild(oi)});const xe=te.querySelectorAll("input");xe.length&&xe[0].focus()}const Dt=E=>{const O=[];return E instanceof Map?E.forEach((H,te)=>{let xe=H;typeof xe=="object"&&(xe=Dt(xe)),O.push([te,xe])}):Object.keys(E).forEach(H=>{let te=E[H];typeof te=="object"&&(te=Dt(te)),O.push([H,te])}),O},wt=(E,O)=>!!O&&O.toString()===E.toString(),$=E=>{const O=Vt.innerParams.get(E);E.disableButtons(),O.input?B(E,"confirm"):De(E,!0)},Y=E=>{const O=Vt.innerParams.get(E);E.disableButtons(),O.returnInputValueOnDeny?B(E,"deny"):ie(E,!1)},P=(E,O)=>{E.disableButtons(),O(On.cancel)},B=(E,O)=>{const H=Vt.innerParams.get(E);if(!H.input){T(`The "input" parameter is needed to be set when using returnInputValueOn${v(O)}`);return}const te=E.getInput(),xe=ue(E,H);H.inputValidator?J(E,xe,O):te&&!te.checkValidity()?(E.enableButtons(),E.showValidationMessage(H.validationMessage||te.validationMessage)):O==="deny"?ie(E,xe):De(E,xe)},J=(E,O,H)=>{const te=Vt.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>I(te.inputValidator(O,te.validationMessage))).then(Ye=>{E.enableButtons(),E.enableInput(),Ye?E.showValidationMessage(Ye):H==="deny"?ie(E,O):De(E,O)})},ie=(E,O)=>{const H=Vt.innerParams.get(E||void 0);H.showLoaderOnDeny&&z(Ue()),H.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(()=>I(H.preDeny(O,H.validationMessage))).then(xe=>{xe===!1?(E.hideLoading(),Mn(E)):E.close({isDenied:!0,value:typeof xe>"u"?O:xe})}).catch(xe=>Se(E||void 0,xe))):E.close({isDenied:!0,value:O})},se=(E,O)=>{E.close({isConfirmed:!0,value:O})},Se=(E,O)=>{E.rejectPromise(O)},De=(E,O)=>{const H=Vt.innerParams.get(E||void 0);H.showLoaderOnConfirm&&z(),H.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(()=>I(H.preConfirm(O,H.validationMessage))).then(xe=>{Bt(fe())||xe===!1?(E.hideLoading(),Mn(E)):se(E,typeof xe>"u"?O:xe)}).catch(xe=>Se(E||void 0,xe))):se(E,O)};function We(){const E=Vt.innerParams.get(this);if(!E)return;const O=Vt.domCache.get(this);lr(O.loader),Qt()?E.icon&&mr(de()):Ke(O),nr([O.popup,O.actions],w.loading),O.popup.removeAttribute("aria-busy"),O.popup.removeAttribute("data-loading"),O.confirmButton.disabled=!1,O.denyButton.disabled=!1,O.cancelButton.disabled=!1}const Ke=E=>{const O=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));O.length?mr(O[0],"inline-block"):Sr()&&lr(E.actions)};function Ge(){const E=Vt.innerParams.get(this),O=Vt.domCache.get(this);return O?vn(O.popup,E.input):null}function tt(E,O,H){const te=Vt.domCache.get(E);O.forEach(xe=>{te[xe].disabled=H})}function mt(E,O){const H=Z();if(!(!H||!E))if(E.type==="radio"){const te=H.querySelectorAll(`[name="${w.radio}"]`);for(let xe=0;xe<te.length;xe++)te[xe].disabled=O}else E.disabled=O}function At(){tt(this,["confirmButton","denyButton","cancelButton"],!1)}function Ft(){tt(this,["confirmButton","denyButton","cancelButton"],!0)}function ur(){mt(this.getInput(),!1)}function Cr(){mt(this.getInput(),!0)}function Wt(E){const O=Vt.domCache.get(this),H=Vt.innerParams.get(this);cr(O.validationMessage,E),O.validationMessage.className=w["validation-message"],H.customClass&&H.customClass.validationMessage&&Ct(O.validationMessage,H.customClass.validationMessage),mr(O.validationMessage);const te=this.getInput();te&&(te.setAttribute("aria-invalid","true"),te.setAttribute("aria-describedby",w["validation-message"]),xn(te),Ct(te,w.inputerror))}function dr(){const E=Vt.domCache.get(this);E.validationMessage&&lr(E.validationMessage);const O=this.getInput();O&&(O.removeAttribute("aria-invalid"),O.removeAttribute("aria-describedby"),nr(O,w.inputerror))}const Pr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Sn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],_t={allowEnterKey:void 0},Br=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ir=E=>Object.prototype.hasOwnProperty.call(Pr,E),dn=E=>Sn.indexOf(E)!==-1,Ps=E=>_t[E],Os=E=>{ir(E)||C(`Unknown parameter "${E}"`)},Ni=E=>{Br.includes(E)&&C(`The parameter "${E}" is incompatible with toasts`)},fn=E=>{const O=Ps(E);O&&N(E,O)},Cn=E=>{E.backdrop===!1&&E.allowOutsideClick&&C('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),E.theme&&!["light","dark","auto","borderless","embed-iframe"].includes(E.theme)&&C(`Invalid theme "${E.theme}". Expected "light", "dark", "auto", "borderless", or "embed-iframe"`);for(const O in E)Os(O),E.toast&&Ni(O),fn(O)};function An(E){const O=K(),H=Z(),te=Vt.innerParams.get(this);if(!H||xr(H,te.hideClass.popup)){C("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const xe=gi(E),Ye=Object.assign({},te,xe);Cn(Ye),O.dataset.swal2Theme=Ye.theme,ln(this,Ye),Vt.innerParams.set(this,Ye),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}const gi=E=>{const O={};return Object.keys(E).forEach(H=>{dn(H)?O[H]=E[H]:C(`Invalid parameter to update: ${H}`)}),O};function es(){const E=Vt.domCache.get(this),O=Vt.innerParams.get(this);if(!O){Yo(this);return}E.popup&&p.swalCloseEventFinishedCallback&&(p.swalCloseEventFinishedCallback(),delete p.swalCloseEventFinishedCallback),typeof O.didDestroy=="function"&&O.didDestroy(),p.eventEmitter.emit("didDestroy"),Sa(this)}const Sa=E=>{Yo(E),delete E.params,delete p.keydownHandler,delete p.keydownTarget,delete p.currentInstance},Yo=E=>{E.isAwaitingPromise?(vo(Vt,E),E.isAwaitingPromise=!0):(vo(Qi,E),vo(Vt,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},vo=(E,O)=>{for(const H in E)E[H].delete(O)};var Kc=Object.freeze({__proto__:null,_destroy:es,close:un,closeModal:un,closePopup:un,closeToast:un,disableButtons:Ft,disableInput:Cr,disableLoading:We,enableButtons:At,enableInput:ur,getInput:Ge,handleAwaitingPromise:Mn,hideLoading:We,rejectPromise:si,resetValidationMessage:dr,showValidationMessage:Wt,update:An});const ts=(E,O,H)=>{E.toast?Ds(E,O,H):(nc(O),ic(O),re(E,O,H))},Ds=(E,O,H)=>{O.popup.onclick=()=>{E&&(rc(E)||E.timer||E.input)||H(On.close)}},rc=E=>!!(E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton);let Ms=!1;const nc=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(O){E.container.onmouseup=()=>{},O.target===E.container&&(Ms=!0)}}},ic=E=>{E.container.onmousedown=O=>{O.target===E.container&&O.preventDefault(),E.popup.onmouseup=function(H){E.popup.onmouseup=()=>{},(H.target===E.popup||H.target instanceof HTMLElement&&E.popup.contains(H.target))&&(Ms=!0)}}},re=(E,O,H)=>{O.container.onclick=te=>{if(Ms){Ms=!1;return}te.target===O.container&&y(E.allowOutsideClick)&&H(On.backdrop)}},he=E=>typeof E=="object"&&E.jquery,Ce=E=>E instanceof Element||he(E),Ee=E=>{const O={};return typeof E[0]=="object"&&!Ce(E[0])?Object.assign(O,E[0]):["title","html","icon"].forEach((H,te)=>{const xe=E[te];typeof xe=="string"||Ce(xe)?O[H]=xe:xe!==void 0&&T(`Unexpected type of ${H}! Expected "string" or "Element", got ${typeof xe}`)}),O};function Me(){for(var E=arguments.length,O=new Array(E),H=0;H<E;H++)O[H]=arguments[H];return new this(...O)}function ze(E){class O extends this{_main(te,xe){return super._main(te,Object.assign({},E,xe))}}return O}const et=()=>p.timeout&&p.timeout.getTimerLeft(),ot=()=>{if(p.timeout)return pt(),p.timeout.stop()},Ze=()=>{if(p.timeout){const E=p.timeout.start();return Xn(E),E}},Nt=()=>{const E=p.timeout;return E&&(E.running?ot():Ze())},lt=E=>{if(p.timeout){const O=p.timeout.increase(E);return Xn(O,!0),O}},bt=()=>!!(p.timeout&&p.timeout.isRunning());let xt=!1;const dt={};function sr(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";dt[E]=this,xt||(document.body.addEventListener("click",hn),xt=!0)}const hn=E=>{for(let O=E.target;O&&O!==document;O=O.parentNode)for(const H in dt){const te=O.getAttribute(H);if(te){dt[H].fire({template:te});return}}};class Gr{constructor(){this.events={}}_getHandlersByEventName(O){return typeof this.events[O]>"u"&&(this.events[O]=[]),this.events[O]}on(O,H){const te=this._getHandlersByEventName(O);te.includes(H)||te.push(H)}once(O,H){var te=this;const xe=function(){te.removeListener(O,xe);for(var Ye=arguments.length,Mt=new Array(Ye),$t=0;$t<Ye;$t++)Mt[$t]=arguments[$t];H.apply(te,Mt)};this.on(O,xe)}emit(O){for(var H=arguments.length,te=new Array(H>1?H-1:0),xe=1;xe<H;xe++)te[xe-1]=arguments[xe];this._getHandlersByEventName(O).forEach(Ye=>{try{Ye.apply(this,te)}catch(Mt){console.error(Mt)}})}removeListener(O,H){const te=this._getHandlersByEventName(O),xe=te.indexOf(H);xe>-1&&te.splice(xe,1)}removeAllListeners(O){this.events[O]!==void 0&&(this.events[O].length=0)}reset(){this.events={}}}p.eventEmitter=new Gr;var Jr=Object.freeze({__proto__:null,argsToParams:Ee,bindClickHandler:sr,clickCancel:uo,clickConfirm:qo,clickDeny:ni,enableLoading:z,fire:Me,getActions:kt,getCancelButton:Re,getCloseButton:pr,getConfirmButton:ke,getContainer:K,getDenyButton:Ue,getFocusableElements:Jt,getFooter:Xt,getHtmlContainer:ee,getIcon:de,getIconContent:ye,getImage:ce,getInputLabel:qe,getLoader:Je,getPopup:Z,getProgressSteps:ve,getTimerLeft:et,getTimerProgressBar:qt,getTitle:q,getValidationMessage:fe,increaseTimer:lt,isDeprecatedParameter:Ps,isLoading:on,isTimerRunning:bt,isUpdatableParameter:dn,isValidParameter:ir,isVisible:ks,mixin:ze,off:(E,O)=>{if(!E){p.eventEmitter.reset();return}O?p.eventEmitter.removeListener(E,O):p.eventEmitter.removeAllListeners(E)},on:(E,O)=>{p.eventEmitter.on(E,O)},once:(E,O)=>{p.eventEmitter.once(E,O)},resumeTimer:Ze,showLoading:z,stopTimer:ot,toggleTimer:Nt});class sc{constructor(O,H){this.callback=O,this.remaining=H,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(O){const H=this.running;return H&&this.stop(),this.remaining+=O,H&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Gc=["swal-title","swal-html","swal-footer"],Hd=E=>{const O=typeof E.template=="string"?document.querySelector(E.template):E.template;if(!O)return{};const H=O.content;return Yd(H),Object.assign(Vd(H),Vl(H),oc(H),Pp(H),zd(H),Wd(H),kr(H,Gc))},Vd=E=>{const O={};return Array.from(E.querySelectorAll("swal-param")).forEach(te=>{_o(te,["name","value"]);const xe=te.getAttribute("name"),Ye=te.getAttribute("value");!xe||!Ye||(typeof Pr[xe]=="boolean"?O[xe]=Ye!=="false":typeof Pr[xe]=="object"?O[xe]=JSON.parse(Ye):O[xe]=Ye)}),O},Vl=E=>{const O={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(te=>{const xe=te.getAttribute("name"),Ye=te.getAttribute("value");!xe||!Ye||(O[xe]=new Function(`return ${Ye}`)())}),O},oc=E=>{const O={};return Array.from(E.querySelectorAll("swal-button")).forEach(te=>{_o(te,["type","color","aria-label"]);const xe=te.getAttribute("type");!xe||!["confirm","cancel","deny"].includes(xe)||(O[`${xe}ButtonText`]=te.innerHTML,O[`show${v(xe)}Button`]=!0,te.hasAttribute("color")&&(O[`${xe}ButtonColor`]=te.getAttribute("color")),te.hasAttribute("aria-label")&&(O[`${xe}ButtonAriaLabel`]=te.getAttribute("aria-label")))}),O},Pp=E=>{const O={},H=E.querySelector("swal-image");return H&&(_o(H,["src","width","height","alt"]),H.hasAttribute("src")&&(O.imageUrl=H.getAttribute("src")||void 0),H.hasAttribute("width")&&(O.imageWidth=H.getAttribute("width")||void 0),H.hasAttribute("height")&&(O.imageHeight=H.getAttribute("height")||void 0),H.hasAttribute("alt")&&(O.imageAlt=H.getAttribute("alt")||void 0)),O},zd=E=>{const O={},H=E.querySelector("swal-icon");return H&&(_o(H,["type","color"]),H.hasAttribute("type")&&(O.icon=H.getAttribute("type")),H.hasAttribute("color")&&(O.iconColor=H.getAttribute("color")),O.iconHtml=H.innerHTML),O},Wd=E=>{const O={},H=E.querySelector("swal-input");H&&(_o(H,["type","label","placeholder","value"]),O.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(O.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(O.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(O.inputValue=H.getAttribute("value")));const te=Array.from(E.querySelectorAll("swal-input-option"));return te.length&&(O.inputOptions={},te.forEach(xe=>{_o(xe,["value"]);const Ye=xe.getAttribute("value");if(!Ye)return;const Mt=xe.innerHTML;O.inputOptions[Ye]=Mt})),O},kr=(E,O)=>{const H={};for(const te in O){const xe=O[te],Ye=E.querySelector(xe);Ye&&(_o(Ye,[]),H[xe.replace(/^swal-/,"")]=Ye.innerHTML.trim())}return H},Yd=E=>{const O=Gc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(H=>{const te=H.tagName.toLowerCase();O.includes(te)||C(`Unrecognized element <${te}>`)})},_o=(E,O)=>{Array.from(E.attributes).forEach(H=>{O.indexOf(H.name)===-1&&C([`Unrecognized attribute "${H.name}" on <${E.tagName.toLowerCase()}>.`,`${O.length?`Allowed attributes are: ${O.join(", ")}`:"To set the value, use HTML within the element."}`])})},zl=10,Kd=E=>{const O=K(),H=Z();typeof E.willOpen=="function"&&E.willOpen(H),p.eventEmitter.emit("willOpen",H);const xe=window.getComputedStyle(document.body).overflowY;Ca(O,H,E),setTimeout(()=>{cc(O,H)},zl),br()&&(Jc(O,E.scrollbarPadding,xe),Es()),!Qt()&&!p.previousActiveElement&&(p.previousActiveElement=document.activeElement),typeof E.didOpen=="function"&&setTimeout(()=>E.didOpen(H)),p.eventEmitter.emit("didOpen",H),nr(O,w["no-transition"])},ac=E=>{const O=Z();if(E.target!==O)return;const H=K();O.removeEventListener("animationend",ac),O.removeEventListener("transitionend",ac),H.style.overflowY="auto"},cc=(E,O)=>{_n(O)?(E.style.overflowY="hidden",O.addEventListener("animationend",ac),O.addEventListener("transitionend",ac)):E.style.overflowY="auto"},Jc=(E,O,H)=>{ii(),O&&H!=="hidden"&&zo(H),setTimeout(()=>{E.scrollTop=0})},Ca=(E,O,H)=>{Ct(E,H.showClass.backdrop),H.animation?(O.style.setProperty("opacity","0","important"),mr(O,"grid"),setTimeout(()=>{Ct(O,H.showClass.popup),O.style.removeProperty("opacity")},zl)):mr(O,"grid"),Ct([document.documentElement,document.body],w.shown),H.heightAuto&&H.backdrop&&!H.toast&&Ct([document.documentElement,document.body],w["height-auto"])};var Wl={email:(E,O)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(E)?Promise.resolve():Promise.resolve(O||"Invalid email address"),url:(E,O)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(O||"Invalid URL")};function Xc(E){E.inputValidator||(E.input==="email"&&(E.inputValidator=Wl.email),E.input==="url"&&(E.inputValidator=Wl.url))}function Yl(E){(!E.target||typeof E.target=="string"&&!document.querySelector(E.target)||typeof E.target!="string"&&!E.target.appendChild)&&(C('Target parameter is not valid, defaulting to "body"'),E.target="body")}function Kl(E){Xc(E),E.showLoaderOnConfirm&&!E.preConfirm&&C(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Yl(E),typeof E.title=="string"&&(E.title=E.title.split(`
`).join("<br />")),gr(E)}let Fi;var ka=new WeakMap;class Or{constructor(){if(i(this,ka,void 0),typeof window>"u")return;Fi=this;for(var O=arguments.length,H=new Array(O),te=0;te<O;te++)H[te]=arguments[te];const xe=Object.freeze(this.constructor.argsToParams(H));this.params=xe,this.isAwaitingPromise=!1,a(ka,this,this._main(Fi.params))}_main(O){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Cn(Object.assign({},H,O)),p.currentInstance){const Ye=Qi.swalPromiseResolve.get(p.currentInstance),{isAwaitingPromise:Mt}=p.currentInstance;p.currentInstance._destroy(),Mt||Ye({isDismissed:!0}),br()&&Vo()}p.currentInstance=Fi;const te=Gl(O,H);Kl(te),Object.freeze(te),p.timeout&&(p.timeout.stop(),delete p.timeout),clearTimeout(p.restoreFocusTimeout);const xe=xa(Fi);return ln(Fi,te),Vt.innerParams.set(Fi,te),Op(Fi,xe,te)}then(O){return s(ka,this).then(O)}finally(O){return s(ka,this).finally(O)}}const Op=(E,O,H)=>new Promise((te,xe)=>{const Ye=Mt=>{E.close({isDismissed:!0,dismiss:Mt})};Qi.swalPromiseResolve.set(E,te),Qi.swalPromiseReject.set(E,xe),O.confirmButton.onclick=()=>{$(E)},O.denyButton.onclick=()=>{Y(E)},O.cancelButton.onclick=()=>{P(E,Ye)},O.closeButton.onclick=()=>{Ye(On.close)},ts(H,O,Ye),Ho(p,H,Ye),G(E,H),Kd(H),Gd(p,H,Ye),Jl(O,H),setTimeout(()=>{O.container.scrollTop=0})}),Gl=(E,O)=>{const H=Hd(E),te=Object.assign({},Pr,O,H,E);return te.showClass=Object.assign({},Pr.showClass,te.showClass),te.hideClass=Object.assign({},Pr.hideClass,te.hideClass),te.animation===!1&&(te.showClass={backdrop:"swal2-noanimation"},te.hideClass={}),te},xa=E=>{const O={popup:Z(),container:K(),actions:kt(),confirmButton:ke(),denyButton:Ue(),cancelButton:Re(),loader:Je(),closeButton:pr(),validationMessage:fe(),progressSteps:ve()};return Vt.domCache.set(E,O),O},Gd=(E,O,H)=>{const te=qt();lr(te),O.timer&&(E.timeout=new sc(()=>{H("timer"),delete E.timeout},O.timer),O.timerProgressBar&&(mr(te),jr(te,O,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&Xn(O.timer)})))},Jl=(E,O)=>{if(!O.toast){if(!y(O.allowEnterKey)){N("allowEnterKey"),yo();return}Dp(E)||Qc(E,O)||ho(-1,1)}},Dp=E=>{const O=Array.from(E.popup.querySelectorAll("[autofocus]"));for(const H of O)if(H instanceof HTMLElement&&Bt(H))return H.focus(),!0;return!1},Qc=(E,O)=>O.focusDeny&&Bt(E.denyButton)?(E.denyButton.focus(),!0):O.focusCancel&&Bt(E.cancelButton)?(E.cancelButton.focus(),!0):O.focusConfirm&&Bt(E.confirmButton)?(E.confirmButton.focus(),!0):!1,yo=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const E=new Date,O=localStorage.getItem("swal-initiation");O?(E.getTime()-Date.parse(O))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const H=document.createElement("audio");H.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",H.loop=!0,document.body.appendChild(H),setTimeout(()=>{H.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}Or.prototype.disableButtons=Ft,Or.prototype.enableButtons=At,Or.prototype.getInput=Ge,Or.prototype.disableInput=Cr,Or.prototype.enableInput=ur,Or.prototype.hideLoading=We,Or.prototype.disableLoading=We,Or.prototype.showValidationMessage=Wt,Or.prototype.resetValidationMessage=dr,Or.prototype.close=un,Or.prototype.closePopup=un,Or.prototype.closeModal=un,Or.prototype.closeToast=un,Or.prototype.rejectPromise=si,Or.prototype.update=An,Or.prototype._destroy=es,Object.assign(Or,Jr),Object.keys(Kc).forEach(E=>{Or[E]=function(){return Fi&&Fi[E]?Fi[E](...arguments):null}}),Or.DismissReason=On,Or.version="11.19.1";const Ko=Or;return Ko.default=Ko,Ko}),typeof Ua<"u"&&Ua.Sweetalert2&&(Ua.swal=Ua.sweetAlert=Ua.Swal=Ua.SweetAlert=Ua.Sweetalert2)}(uh)),uh.exports}var HO=qO();const ud=Ei(HO);function L_(r,e=!1){r=r.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+r+"=([^&#]*)"),t=window.location.search;!t&&e&&(t=window.location.href);var s=n.exec(t);return s===null?"":decodeURIComponent(s[1].replace(/\+/g," "))}function N_(){return window.current_user}function Fx(){var r=localStorage.getItem("subscription");return r?JSON.parse(r):!1}function td(r){var{title:e,text:n,icon:t,html:s}=r;return ud.fire({title:e,text:n,html:s,icon:t,position:"center",confirmButtonText:Fe.t("OK")})}function dh(r){var{title:e,text:n,confirm_btn_text:t,cancel_btn_text:s}=r;return e=e||Fe.t("AreYouSure"),t=t||Fe.t("Yes"),s=s||Fe.t("Cancel"),ud.fire({title:e,text:n,position:"top",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t,cancelButtonText:s,buttonsStyling:!1})}function VO(r={}){var{title:e,text:n,icon:t,html:s,customClass:i}=r;return ud.fire({title:e,text:n,html:s,icon:t,customClass:i,position:"center",didOpen:()=>{ud.showLoading()}})}function zO(){ud.close()}function WO(r){var{file_name:e,content:n}=r,t=new Blob([n],{type:"text/plain;charset=utf-8;"}),s=document.createElement("a");s.setAttribute("href",URL.createObjectURL(t)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function YO(r){r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()}function a0(){document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}function kh({milliseconds:r}){return new Promise((e,n)=>{setTimeout(t=>e(),r)})}const KO=r=>(e,n)=>(r.set(e,n),n),c0=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Bx=536870912,l0=Bx*2,GO=(r,e)=>n=>{const t=e.get(n);let s=t===void 0?n.size:t<l0?t+1:0;if(!n.has(s))return r(n,s);if(n.size<Bx){for(;n.has(s);)s=Math.floor(Math.random()*l0);return r(n,s)}if(n.size>c0)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(s);)s=Math.floor(Math.random()*c0);return r(n,s)},$x=new WeakMap,JO=KO($x),Gf=GO(JO,$x),XO=r=>r.method!==void 0&&r.method==="call",QO=r=>r.error===null&&typeof r.id=="number",ZO=r=>{const e=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),t=new Map,s=new Worker(r);return s.addEventListener("message",({data:c})=>{if(XO(c)){const{params:{timerId:f,timerType:d}}=c;if(d==="interval"){const h=e.get(f);if(typeof h=="number"){const w=t.get(h);if(w===void 0||w.timerId!==f||w.timerType!==d)throw new Error("The timer is in an undefined state.")}else if(typeof h<"u")h();else throw new Error("The timer is in an undefined state.")}else if(d==="timeout"){const h=n.get(f);if(typeof h=="number"){const w=t.get(h);if(w===void 0||w.timerId!==f||w.timerType!==d)throw new Error("The timer is in an undefined state.")}else if(typeof h<"u")h(),n.delete(f);else throw new Error("The timer is in an undefined state.")}}else if(QO(c)){const{id:f}=c,d=t.get(f);if(d===void 0)throw new Error("The timer is in an undefined state.");const{timerId:h,timerType:w}=d;t.delete(f),w==="interval"?e.delete(h):n.delete(h)}else{const{error:{message:f}}=c;throw new Error(f)}}),{clearInterval:c=>{const f=Gf(t);t.set(f,{timerId:c,timerType:"interval"}),e.set(c,f),s.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=Gf(t);t.set(f,{timerId:c,timerType:"timeout"}),n.set(c,f),s.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f=0)=>{const d=Gf(e);return e.set(d,()=>{c(),typeof e.get(d)=="function"&&s.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:d,timerType:"interval"}})}),s.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:d,timerType:"interval"}}),d},setTimeout:(c,f=0)=>{const d=Gf(n);return n.set(d,c),s.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:d,timerType:"timeout"}}),d}}},eD=(r,e)=>{let n=null;return()=>{if(n!==null)return n;const t=new Blob([e],{type:"application/javascript; charset=utf-8"}),s=URL.createObjectURL(t);return n=r(s),setTimeout(()=>URL.revokeObjectURL(s)),n}},tD=`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`,rD=eD(ZO,tD),nD=r=>rD().clearInterval(r);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Ux;function Xe(){return Ux.apply(null,arguments)}function iD(r){Ux=r}function Qs(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function $c(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function tr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function I_(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var e;for(e in r)if(tr(r,e))return!1;return!0}function Si(r){return r===void 0}function da(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function Od(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function qx(r,e){var n=[],t,s=r.length;for(t=0;t<s;++t)n.push(e(r[t],t));return n}function Wa(r,e){for(var n in e)tr(e,n)&&(r[n]=e[n]);return tr(e,"toString")&&(r.toString=e.toString),tr(e,"valueOf")&&(r.valueOf=e.valueOf),r}function jo(r,e,n,t){return d1(r,e,n,t,!0).utc()}function sD(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function It(r){return r._pf==null&&(r._pf=sD()),r._pf}var Nv;Array.prototype.some?Nv=Array.prototype.some:Nv=function(r){var e=Object(this),n=e.length>>>0,t;for(t=0;t<n;t++)if(t in e&&r.call(this,e[t],t,e))return!0;return!1};function F_(r){var e=null,n=!1,t=r._d&&!isNaN(r._d.getTime());if(t&&(e=It(r),n=Nv.call(e.parsedDateParts,function(s){return s!=null}),t=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),r._strict&&(t=t&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=t;else return t;return r._isValid}function Kh(r){var e=jo(NaN);return r!=null?Wa(It(e),r):It(e).userInvalidated=!0,e}var u0=Xe.momentProperties=[],Dg=!1;function B_(r,e){var n,t,s,i=u0.length;if(Si(e._isAMomentObject)||(r._isAMomentObject=e._isAMomentObject),Si(e._i)||(r._i=e._i),Si(e._f)||(r._f=e._f),Si(e._l)||(r._l=e._l),Si(e._strict)||(r._strict=e._strict),Si(e._tzm)||(r._tzm=e._tzm),Si(e._isUTC)||(r._isUTC=e._isUTC),Si(e._offset)||(r._offset=e._offset),Si(e._pf)||(r._pf=It(e)),Si(e._locale)||(r._locale=e._locale),i>0)for(n=0;n<i;n++)t=u0[n],s=e[t],Si(s)||(r[t]=s);return r}function Dd(r){B_(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Dg===!1&&(Dg=!0,Xe.updateOffset(this),Dg=!1)}function Zs(r){return r instanceof Dd||r!=null&&r._isAMomentObject!=null}function Hx(r){Xe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function us(r,e){var n=!0;return Wa(function(){if(Xe.deprecationHandler!=null&&Xe.deprecationHandler(null,r),n){var t=[],s,i,a,u=arguments.length;for(i=0;i<u;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(a in arguments[0])tr(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[i];t.push(s)}Hx(r+`
Arguments: `+Array.prototype.slice.call(t).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var d0={};function Vx(r,e){Xe.deprecationHandler!=null&&Xe.deprecationHandler(r,e),d0[r]||(Hx(e),d0[r]=!0)}Xe.suppressDeprecationWarnings=!1;Xe.deprecationHandler=null;function Lo(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function oD(r){var e,n;for(n in r)tr(r,n)&&(e=r[n],Lo(e)?this[n]=e:this["_"+n]=e);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Iv(r,e){var n=Wa({},r),t;for(t in e)tr(e,t)&&($c(r[t])&&$c(e[t])?(n[t]={},Wa(n[t],r[t]),Wa(n[t],e[t])):e[t]!=null?n[t]=e[t]:delete n[t]);for(t in r)tr(r,t)&&!tr(e,t)&&$c(r[t])&&(n[t]=Wa({},n[t]));return n}function $_(r){r!=null&&this.set(r)}var Fv;Object.keys?Fv=Object.keys:Fv=function(r){var e,n=[];for(e in r)tr(r,e)&&n.push(e);return n};var aD={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function cD(r,e,n){var t=this._calendar[r]||this._calendar.sameElse;return Lo(t)?t.call(e,n):t}function Mo(r,e,n){var t=""+Math.abs(r),s=e-t.length,i=r>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+t}var U_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mg={},Rl={};function gt(r,e,n,t){var s=t;typeof t=="string"&&(s=function(){return this[t]()}),r&&(Rl[r]=s),e&&(Rl[e[0]]=function(){return Mo(s.apply(this,arguments),e[1],e[2])}),n&&(Rl[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),r)})}function lD(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function uD(r){var e=r.match(U_),n,t;for(n=0,t=e.length;n<t;n++)Rl[e[n]]?e[n]=Rl[e[n]]:e[n]=lD(e[n]);return function(s){var i="",a;for(a=0;a<t;a++)i+=Lo(e[a])?e[a].call(s,r):e[a];return i}}function fh(r,e){return r.isValid()?(e=zx(e,r.localeData()),Mg[e]=Mg[e]||uD(e),Mg[e](r)):r.localeData().invalidDate()}function zx(r,e){var n=5;function t(s){return e.longDateFormat(s)||s}for(Jf.lastIndex=0;n>=0&&Jf.test(r);)r=r.replace(Jf,t),Jf.lastIndex=0,n-=1;return r}var dD={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fD(r){var e=this._longDateFormat[r],n=this._longDateFormat[r.toUpperCase()];return e||!n?e:(this._longDateFormat[r]=n.match(U_).map(function(t){return t==="MMMM"||t==="MM"||t==="DD"||t==="dddd"?t.slice(1):t}).join(""),this._longDateFormat[r])}var hD="Invalid date";function pD(){return this._invalidDate}var mD="%d",gD=/\d{1,2}/;function vD(r){return this._ordinal.replace("%d",r)}var _D={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yD(r,e,n,t){var s=this._relativeTime[n];return Lo(s)?s(r,e,n,t):s.replace(/%d/i,r)}function wD(r,e){var n=this._relativeTime[r>0?"future":"past"];return Lo(n)?n(e):n.replace(/%s/i,e)}var f0={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ds(r){return typeof r=="string"?f0[r]||f0[r.toLowerCase()]:void 0}function q_(r){var e={},n,t;for(t in r)tr(r,t)&&(n=ds(t),n&&(e[n]=r[t]));return e}var bD={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function SD(r){var e=[],n;for(n in r)tr(r,n)&&e.push({unit:n,priority:bD[n]});return e.sort(function(t,s){return t.priority-s.priority}),e}var Wx=/\d/,Wi=/\d\d/,Yx=/\d{3}/,H_=/\d{4}/,Gh=/[+-]?\d{6}/,Rr=/\d\d?/,Kx=/\d\d\d\d?/,Gx=/\d\d\d\d\d\d?/,Jh=/\d{1,3}/,V_=/\d{1,4}/,Xh=/[+-]?\d{1,6}/,Fl=/\d+/,Qh=/[+-]?\d+/,CD=/Z|[+-]\d\d:?\d\d/gi,Zh=/Z|[+-]\d\d(?::?\d\d)?/gi,kD=/[+-]?\d+(\.\d{1,3})?/,Md=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Bl=/^[1-9]\d?/,z_=/^([1-9]\d|\d)/,xh;xh={};function st(r,e,n){xh[r]=Lo(e)?e:function(t,s){return t&&n?n:e}}function xD(r,e){return tr(xh,r)?xh[r](e._strict,e._locale):new RegExp(ED(r))}function ED(r){return ca(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,t,s,i){return n||t||s||i}))}function ca(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function os(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function Ht(r){var e=+r,n=0;return e!==0&&isFinite(e)&&(n=os(e)),n}var Bv={};function wr(r,e){var n,t=e,s;for(typeof r=="string"&&(r=[r]),da(e)&&(t=function(i,a){a[e]=Ht(i)}),s=r.length,n=0;n<s;n++)Bv[r[n]]=t}function Ad(r,e){wr(r,function(n,t,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function TD(r,e,n){e!=null&&tr(Bv,r)&&Bv[r](e,n._a,n,r)}function ep(r){return r%4===0&&r%100!==0||r%400===0}var Gn=0,oa=1,Ro=2,mn=3,Gs=4,aa=5,Lc=6,RD=7,PD=8;gt("Y",0,0,function(){var r=this.year();return r<=9999?Mo(r,4):"+"+r});gt(0,["YY",2],0,function(){return this.year()%100});gt(0,["YYYY",4],0,"year");gt(0,["YYYYY",5],0,"year");gt(0,["YYYYYY",6,!0],0,"year");st("Y",Qh);st("YY",Rr,Wi);st("YYYY",V_,H_);st("YYYYY",Xh,Gh);st("YYYYYY",Xh,Gh);wr(["YYYYY","YYYYYY"],Gn);wr("YYYY",function(r,e){e[Gn]=r.length===2?Xe.parseTwoDigitYear(r):Ht(r)});wr("YY",function(r,e){e[Gn]=Xe.parseTwoDigitYear(r)});wr("Y",function(r,e){e[Gn]=parseInt(r,10)});function rd(r){return ep(r)?366:365}Xe.parseTwoDigitYear=function(r){return Ht(r)+(Ht(r)>68?1900:2e3)};var Jx=$l("FullYear",!0);function OD(){return ep(this.year())}function $l(r,e){return function(n){return n!=null?(Xx(this,r,n),Xe.updateOffset(this,e),this):dd(this,r)}}function dd(r,e){if(!r.isValid())return NaN;var n=r._d,t=r._isUTC;switch(e){case"Milliseconds":return t?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return t?n.getUTCSeconds():n.getSeconds();case"Minutes":return t?n.getUTCMinutes():n.getMinutes();case"Hours":return t?n.getUTCHours():n.getHours();case"Date":return t?n.getUTCDate():n.getDate();case"Day":return t?n.getUTCDay():n.getDay();case"Month":return t?n.getUTCMonth():n.getMonth();case"FullYear":return t?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Xx(r,e,n){var t,s,i,a,u;if(!(!r.isValid()||isNaN(n))){switch(t=r._d,s=r._isUTC,e){case"Milliseconds":return void(s?t.setUTCMilliseconds(n):t.setMilliseconds(n));case"Seconds":return void(s?t.setUTCSeconds(n):t.setSeconds(n));case"Minutes":return void(s?t.setUTCMinutes(n):t.setMinutes(n));case"Hours":return void(s?t.setUTCHours(n):t.setHours(n));case"Date":return void(s?t.setUTCDate(n):t.setDate(n));case"FullYear":break;default:return}i=n,a=r.month(),u=r.date(),u=u===29&&a===1&&!ep(i)?28:u,s?t.setUTCFullYear(i,a,u):t.setFullYear(i,a,u)}}function DD(r){return r=ds(r),Lo(this[r])?this[r]():this}function MD(r,e){if(typeof r=="object"){r=q_(r);var n=SD(r),t,s=n.length;for(t=0;t<s;t++)this[n[t].unit](r[n[t].unit])}else if(r=ds(r),Lo(this[r]))return this[r](e);return this}function AD(r,e){return(r%e+e)%e}var Qr;Array.prototype.indexOf?Qr=Array.prototype.indexOf:Qr=function(r){var e;for(e=0;e<this.length;++e)if(this[e]===r)return e;return-1};function W_(r,e){if(isNaN(r)||isNaN(e))return NaN;var n=AD(e,12);return r+=(e-n)/12,n===1?ep(r)?29:28:31-n%7%2}gt("M",["MM",2],"Mo",function(){return this.month()+1});gt("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)});gt("MMMM",0,0,function(r){return this.localeData().months(this,r)});st("M",Rr,Bl);st("MM",Rr,Wi);st("MMM",function(r,e){return e.monthsShortRegex(r)});st("MMMM",function(r,e){return e.monthsRegex(r)});wr(["M","MM"],function(r,e){e[oa]=Ht(r)-1});wr(["MMM","MMMM"],function(r,e,n,t){var s=n._locale.monthsParse(r,t,n._strict);s!=null?e[oa]=s:It(n).invalidMonth=r});var jD="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qx="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Zx=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,LD=Md,ND=Md;function ID(r,e){return r?Qs(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||Zx).test(e)?"format":"standalone"][r.month()]:Qs(this._months)?this._months:this._months.standalone}function FD(r,e){return r?Qs(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[Zx.test(e)?"format":"standalone"][r.month()]:Qs(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function BD(r,e,n){var t,s,i,a=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],t=0;t<12;++t)i=jo([2e3,t]),this._shortMonthsParse[t]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[t]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:(s=Qr.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Qr.call(this._longMonthsParse,a),s!==-1?s:(s=Qr.call(this._shortMonthsParse,a),s!==-1?s:null))}function $D(r,e,n){var t,s,i;if(this._monthsParseExact)return BD.call(this,r,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;t<12;t++){if(s=jo([2e3,t]),n&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[t]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[t].test(r))return t;if(n&&e==="MMM"&&this._shortMonthsParse[t].test(r))return t;if(!n&&this._monthsParse[t].test(r))return t}}function e1(r,e){if(!r.isValid())return r;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ht(e);else if(e=r.localeData().monthsParse(e),!da(e))return r}var n=e,t=r.date();return t=t<29?t:Math.min(t,W_(r.year(),n)),r._isUTC?r._d.setUTCMonth(n,t):r._d.setMonth(n,t),r}function t1(r){return r!=null?(e1(this,r),Xe.updateOffset(this,!0),this):dd(this,"Month")}function UD(){return W_(this.year(),this.month())}function qD(r){return this._monthsParseExact?(tr(this,"_monthsRegex")||r1.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(tr(this,"_monthsShortRegex")||(this._monthsShortRegex=LD),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function HD(r){return this._monthsParseExact?(tr(this,"_monthsRegex")||r1.call(this),r?this._monthsStrictRegex:this._monthsRegex):(tr(this,"_monthsRegex")||(this._monthsRegex=ND),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function r1(){function r(p,c){return c.length-p.length}var e=[],n=[],t=[],s,i,a,u;for(s=0;s<12;s++)i=jo([2e3,s]),a=ca(this.monthsShort(i,"")),u=ca(this.months(i,"")),e.push(a),n.push(u),t.push(u),t.push(a);e.sort(r),n.sort(r),t.sort(r),this._monthsRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function VD(r,e,n,t,s,i,a){var u;return r<100&&r>=0?(u=new Date(r+400,e,n,t,s,i,a),isFinite(u.getFullYear())&&u.setFullYear(r)):u=new Date(r,e,n,t,s,i,a),u}function fd(r){var e,n;return r<100&&r>=0?(n=Array.prototype.slice.call(arguments),n[0]=r+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(r)):e=new Date(Date.UTC.apply(null,arguments)),e}function Eh(r,e,n){var t=7+e-n,s=(7+fd(r,0,t).getUTCDay()-e)%7;return-s+t-1}function n1(r,e,n,t,s){var i=(7+n-t)%7,a=Eh(r,t,s),u=1+7*(e-1)+i+a,p,c;return u<=0?(p=r-1,c=rd(p)+u):u>rd(r)?(p=r+1,c=u-rd(r)):(p=r,c=u),{year:p,dayOfYear:c}}function hd(r,e,n){var t=Eh(r.year(),e,n),s=Math.floor((r.dayOfYear()-t-1)/7)+1,i,a;return s<1?(a=r.year()-1,i=s+la(a,e,n)):s>la(r.year(),e,n)?(i=s-la(r.year(),e,n),a=r.year()+1):(a=r.year(),i=s),{week:i,year:a}}function la(r,e,n){var t=Eh(r,e,n),s=Eh(r+1,e,n);return(rd(r)-t+s)/7}gt("w",["ww",2],"wo","week");gt("W",["WW",2],"Wo","isoWeek");st("w",Rr,Bl);st("ww",Rr,Wi);st("W",Rr,Bl);st("WW",Rr,Wi);Ad(["w","ww","W","WW"],function(r,e,n,t){e[t.substr(0,1)]=Ht(r)});function zD(r){return hd(r,this._week.dow,this._week.doy).week}var WD={dow:0,doy:6};function YD(){return this._week.dow}function KD(){return this._week.doy}function GD(r){var e=this.localeData().week(this);return r==null?e:this.add((r-e)*7,"d")}function JD(r){var e=hd(this,1,4).week;return r==null?e:this.add((r-e)*7,"d")}gt("d",0,"do","day");gt("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)});gt("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)});gt("dddd",0,0,function(r){return this.localeData().weekdays(this,r)});gt("e",0,0,"weekday");gt("E",0,0,"isoWeekday");st("d",Rr);st("e",Rr);st("E",Rr);st("dd",function(r,e){return e.weekdaysMinRegex(r)});st("ddd",function(r,e){return e.weekdaysShortRegex(r)});st("dddd",function(r,e){return e.weekdaysRegex(r)});Ad(["dd","ddd","dddd"],function(r,e,n,t){var s=n._locale.weekdaysParse(r,t,n._strict);s!=null?e.d=s:It(n).invalidWeekday=r});Ad(["d","e","E"],function(r,e,n,t){e[t]=Ht(r)});function XD(r,e){return typeof r!="string"?r:isNaN(r)?(r=e.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function QD(r,e){return typeof r=="string"?e.weekdaysParse(r)%7||7:isNaN(r)?null:r}function Y_(r,e){return r.slice(e,7).concat(r.slice(0,e))}var ZD="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),i1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),eM="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tM=Md,rM=Md,nM=Md;function iM(r,e){var n=Qs(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return r===!0?Y_(n,this._week.dow):r?n[r.day()]:n}function sM(r){return r===!0?Y_(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function oM(r){return r===!0?Y_(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function aM(r,e,n){var t,s,i,a=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],t=0;t<7;++t)i=jo([2e3,1]).day(t),this._minWeekdaysParse[t]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[t]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[t]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=Qr.call(this._weekdaysParse,a),s!==-1||(s=Qr.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=Qr.call(this._shortWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Qr.call(this._minWeekdaysParse,a),s!==-1||(s=Qr.call(this._weekdaysParse,a),s!==-1)?s:(s=Qr.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function cM(r,e,n){var t,s,i;if(this._weekdaysParseExact)return aM.call(this,r,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),t=0;t<7;t++){if(s=jo([2e3,1]).day(t),n&&!this._fullWeekdaysParse[t]&&(this._fullWeekdaysParse[t]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[t]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[t]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[t]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[t].test(r))return t;if(n&&e==="ddd"&&this._shortWeekdaysParse[t].test(r))return t;if(n&&e==="dd"&&this._minWeekdaysParse[t].test(r))return t;if(!n&&this._weekdaysParse[t].test(r))return t}}function lM(r){if(!this.isValid())return r!=null?this:NaN;var e=dd(this,"Day");return r!=null?(r=XD(r,this.localeData()),this.add(r-e,"d")):e}function uM(r){if(!this.isValid())return r!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return r==null?e:this.add(r-e,"d")}function dM(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var e=QD(r,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function fM(r){return this._weekdaysParseExact?(tr(this,"_weekdaysRegex")||K_.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(tr(this,"_weekdaysRegex")||(this._weekdaysRegex=tM),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function hM(r){return this._weekdaysParseExact?(tr(this,"_weekdaysRegex")||K_.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(tr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=rM),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function pM(r){return this._weekdaysParseExact?(tr(this,"_weekdaysRegex")||K_.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(tr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nM),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function K_(){function r(f,d){return d.length-f.length}var e=[],n=[],t=[],s=[],i,a,u,p,c;for(i=0;i<7;i++)a=jo([2e3,1]).day(i),u=ca(this.weekdaysMin(a,"")),p=ca(this.weekdaysShort(a,"")),c=ca(this.weekdays(a,"")),e.push(u),n.push(p),t.push(c),s.push(u),s.push(p),s.push(c);e.sort(r),n.sort(r),t.sort(r),s.sort(r),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function G_(){return this.hours()%12||12}function mM(){return this.hours()||24}gt("H",["HH",2],0,"hour");gt("h",["hh",2],0,G_);gt("k",["kk",2],0,mM);gt("hmm",0,0,function(){return""+G_.apply(this)+Mo(this.minutes(),2)});gt("hmmss",0,0,function(){return""+G_.apply(this)+Mo(this.minutes(),2)+Mo(this.seconds(),2)});gt("Hmm",0,0,function(){return""+this.hours()+Mo(this.minutes(),2)});gt("Hmmss",0,0,function(){return""+this.hours()+Mo(this.minutes(),2)+Mo(this.seconds(),2)});function s1(r,e){gt(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}s1("a",!0);s1("A",!1);function o1(r,e){return e._meridiemParse}st("a",o1);st("A",o1);st("H",Rr,z_);st("h",Rr,Bl);st("k",Rr,Bl);st("HH",Rr,Wi);st("hh",Rr,Wi);st("kk",Rr,Wi);st("hmm",Kx);st("hmmss",Gx);st("Hmm",Kx);st("Hmmss",Gx);wr(["H","HH"],mn);wr(["k","kk"],function(r,e,n){var t=Ht(r);e[mn]=t===24?0:t});wr(["a","A"],function(r,e,n){n._isPm=n._locale.isPM(r),n._meridiem=r});wr(["h","hh"],function(r,e,n){e[mn]=Ht(r),It(n).bigHour=!0});wr("hmm",function(r,e,n){var t=r.length-2;e[mn]=Ht(r.substr(0,t)),e[Gs]=Ht(r.substr(t)),It(n).bigHour=!0});wr("hmmss",function(r,e,n){var t=r.length-4,s=r.length-2;e[mn]=Ht(r.substr(0,t)),e[Gs]=Ht(r.substr(t,2)),e[aa]=Ht(r.substr(s)),It(n).bigHour=!0});wr("Hmm",function(r,e,n){var t=r.length-2;e[mn]=Ht(r.substr(0,t)),e[Gs]=Ht(r.substr(t))});wr("Hmmss",function(r,e,n){var t=r.length-4,s=r.length-2;e[mn]=Ht(r.substr(0,t)),e[Gs]=Ht(r.substr(t,2)),e[aa]=Ht(r.substr(s))});function gM(r){return(r+"").toLowerCase().charAt(0)==="p"}var vM=/[ap]\.?m?\.?/i,_M=$l("Hours",!0);function yM(r,e,n){return r>11?n?"pm":"PM":n?"am":"AM"}var a1={calendar:aD,longDateFormat:dD,invalidDate:hD,ordinal:mD,dayOfMonthOrdinalParse:gD,relativeTime:_D,months:jD,monthsShort:Qx,week:WD,weekdays:ZD,weekdaysMin:eM,weekdaysShort:i1,meridiemParse:vM},Ar={},Ru={},pd;function wM(r,e){var n,t=Math.min(r.length,e.length);for(n=0;n<t;n+=1)if(r[n]!==e[n])return n;return t}function h0(r){return r&&r.toLowerCase().replace("_","-")}function bM(r){for(var e=0,n,t,s,i;e<r.length;){for(i=h0(r[e]).split("-"),n=i.length,t=h0(r[e+1]),t=t?t.split("-"):null;n>0;){if(s=tp(i.slice(0,n).join("-")),s)return s;if(t&&t.length>=n&&wM(i,t)>=n-1)break;n--}e++}return pd}function SM(r){return!!(r&&r.match("^[^/\\\\]*$"))}function tp(r){var e=null,n;if(Ar[r]===void 0&&typeof yh<"u"&&yh&&yh.exports&&SM(r))try{e=pd._abbr,n=require,n("./locale/"+r),Ka(e)}catch{Ar[r]=null}return Ar[r]}function Ka(r,e){var n;return r&&(Si(e)?n=pa(r):n=J_(r,e),n?pd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),pd._abbr}function J_(r,e){if(e!==null){var n,t=a1;if(e.abbr=r,Ar[r]!=null)Vx("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),t=Ar[r]._config;else if(e.parentLocale!=null)if(Ar[e.parentLocale]!=null)t=Ar[e.parentLocale]._config;else if(n=tp(e.parentLocale),n!=null)t=n._config;else return Ru[e.parentLocale]||(Ru[e.parentLocale]=[]),Ru[e.parentLocale].push({name:r,config:e}),null;return Ar[r]=new $_(Iv(t,e)),Ru[r]&&Ru[r].forEach(function(s){J_(s.name,s.config)}),Ka(r),Ar[r]}else return delete Ar[r],null}function CM(r,e){if(e!=null){var n,t,s=a1;Ar[r]!=null&&Ar[r].parentLocale!=null?Ar[r].set(Iv(Ar[r]._config,e)):(t=tp(r),t!=null&&(s=t._config),e=Iv(s,e),t==null&&(e.abbr=r),n=new $_(e),n.parentLocale=Ar[r],Ar[r]=n),Ka(r)}else Ar[r]!=null&&(Ar[r].parentLocale!=null?(Ar[r]=Ar[r].parentLocale,r===Ka()&&Ka(r)):Ar[r]!=null&&delete Ar[r]);return Ar[r]}function pa(r){var e;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return pd;if(!Qs(r)){if(e=tp(r),e)return e;r=[r]}return bM(r)}function kM(){return Fv(Ar)}function X_(r){var e,n=r._a;return n&&It(r).overflow===-2&&(e=n[oa]<0||n[oa]>11?oa:n[Ro]<1||n[Ro]>W_(n[Gn],n[oa])?Ro:n[mn]<0||n[mn]>24||n[mn]===24&&(n[Gs]!==0||n[aa]!==0||n[Lc]!==0)?mn:n[Gs]<0||n[Gs]>59?Gs:n[aa]<0||n[aa]>59?aa:n[Lc]<0||n[Lc]>999?Lc:-1,It(r)._overflowDayOfYear&&(e<Gn||e>Ro)&&(e=Ro),It(r)._overflowWeeks&&e===-1&&(e=RD),It(r)._overflowWeekday&&e===-1&&(e=PD),It(r).overflow=e),r}var xM=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,EM=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,TM=/Z|[+-]\d\d(?::?\d\d)?/,Xf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ag=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RM=/^\/?Date\((-?\d+)/i,PM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,OM={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function c1(r){var e,n,t=r._i,s=xM.exec(t)||EM.exec(t),i,a,u,p,c=Xf.length,f=Ag.length;if(s){for(It(r).iso=!0,e=0,n=c;e<n;e++)if(Xf[e][1].exec(s[1])){a=Xf[e][0],i=Xf[e][2]!==!1;break}if(a==null){r._isValid=!1;return}if(s[3]){for(e=0,n=f;e<n;e++)if(Ag[e][1].exec(s[3])){u=(s[2]||" ")+Ag[e][0];break}if(u==null){r._isValid=!1;return}}if(!i&&u!=null){r._isValid=!1;return}if(s[4])if(TM.exec(s[4]))p="Z";else{r._isValid=!1;return}r._f=a+(u||"")+(p||""),Z_(r)}else r._isValid=!1}function DM(r,e,n,t,s,i){var a=[MM(r),Qx.indexOf(e),parseInt(n,10),parseInt(t,10),parseInt(s,10)];return i&&a.push(parseInt(i,10)),a}function MM(r){var e=parseInt(r,10);return e<=49?2e3+e:e<=999?1900+e:e}function AM(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jM(r,e,n){if(r){var t=i1.indexOf(r),s=new Date(e[0],e[1],e[2]).getDay();if(t!==s)return It(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function LM(r,e,n){if(r)return OM[r];if(e)return 0;var t=parseInt(n,10),s=t%100,i=(t-s)/100;return i*60+s}function l1(r){var e=PM.exec(AM(r._i)),n;if(e){if(n=DM(e[4],e[3],e[2],e[5],e[6],e[7]),!jM(e[1],n,r))return;r._a=n,r._tzm=LM(e[8],e[9],e[10]),r._d=fd.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),It(r).rfc2822=!0}else r._isValid=!1}function NM(r){var e=RM.exec(r._i);if(e!==null){r._d=new Date(+e[1]);return}if(c1(r),r._isValid===!1)delete r._isValid;else return;if(l1(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:Xe.createFromInputFallback(r)}Xe.createFromInputFallback=us("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function Cl(r,e,n){return r??e??n}function IM(r){var e=new Date(Xe.now());return r._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Q_(r){var e,n,t=[],s,i,a;if(!r._d){for(s=IM(r),r._w&&r._a[Ro]==null&&r._a[oa]==null&&FM(r),r._dayOfYear!=null&&(a=Cl(r._a[Gn],s[Gn]),(r._dayOfYear>rd(a)||r._dayOfYear===0)&&(It(r)._overflowDayOfYear=!0),n=fd(a,0,r._dayOfYear),r._a[oa]=n.getUTCMonth(),r._a[Ro]=n.getUTCDate()),e=0;e<3&&r._a[e]==null;++e)r._a[e]=t[e]=s[e];for(;e<7;e++)r._a[e]=t[e]=r._a[e]==null?e===2?1:0:r._a[e];r._a[mn]===24&&r._a[Gs]===0&&r._a[aa]===0&&r._a[Lc]===0&&(r._nextDay=!0,r._a[mn]=0),r._d=(r._useUTC?fd:VD).apply(null,t),i=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[mn]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==i&&(It(r).weekdayMismatch=!0)}}function FM(r){var e,n,t,s,i,a,u,p,c;e=r._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,a=4,n=Cl(e.GG,r._a[Gn],hd(Tr(),1,4).year),t=Cl(e.W,1),s=Cl(e.E,1),(s<1||s>7)&&(p=!0)):(i=r._locale._week.dow,a=r._locale._week.doy,c=hd(Tr(),i,a),n=Cl(e.gg,r._a[Gn],c.year),t=Cl(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(p=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(p=!0)):s=i),t<1||t>la(n,i,a)?It(r)._overflowWeeks=!0:p!=null?It(r)._overflowWeekday=!0:(u=n1(n,t,s,i,a),r._a[Gn]=u.year,r._dayOfYear=u.dayOfYear)}Xe.ISO_8601=function(){};Xe.RFC_2822=function(){};function Z_(r){if(r._f===Xe.ISO_8601){c1(r);return}if(r._f===Xe.RFC_2822){l1(r);return}r._a=[],It(r).empty=!0;var e=""+r._i,n,t,s,i,a,u=e.length,p=0,c,f;for(s=zx(r._f,r._locale).match(U_)||[],f=s.length,n=0;n<f;n++)i=s[n],t=(e.match(xD(i,r))||[])[0],t&&(a=e.substr(0,e.indexOf(t)),a.length>0&&It(r).unusedInput.push(a),e=e.slice(e.indexOf(t)+t.length),p+=t.length),Rl[i]?(t?It(r).empty=!1:It(r).unusedTokens.push(i),TD(i,t,r)):r._strict&&!t&&It(r).unusedTokens.push(i);It(r).charsLeftOver=u-p,e.length>0&&It(r).unusedInput.push(e),r._a[mn]<=12&&It(r).bigHour===!0&&r._a[mn]>0&&(It(r).bigHour=void 0),It(r).parsedDateParts=r._a.slice(0),It(r).meridiem=r._meridiem,r._a[mn]=BM(r._locale,r._a[mn],r._meridiem),c=It(r).era,c!==null&&(r._a[Gn]=r._locale.erasConvertYear(c,r._a[Gn])),Q_(r),X_(r)}function BM(r,e,n){var t;return n==null?e:r.meridiemHour!=null?r.meridiemHour(e,n):(r.isPM!=null&&(t=r.isPM(n),t&&e<12&&(e+=12),!t&&e===12&&(e=0)),e)}function $M(r){var e,n,t,s,i,a,u=!1,p=r._f.length;if(p===0){It(r).invalidFormat=!0,r._d=new Date(NaN);return}for(s=0;s<p;s++)i=0,a=!1,e=B_({},r),r._useUTC!=null&&(e._useUTC=r._useUTC),e._f=r._f[s],Z_(e),F_(e)&&(a=!0),i+=It(e).charsLeftOver,i+=It(e).unusedTokens.length*10,It(e).score=i,u?i<t&&(t=i,n=e):(t==null||i<t||a)&&(t=i,n=e,a&&(u=!0));Wa(r,n||e)}function UM(r){if(!r._d){var e=q_(r._i),n=e.day===void 0?e.date:e.day;r._a=qx([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Q_(r)}}function qM(r){var e=new Dd(X_(u1(r)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function u1(r){var e=r._i,n=r._f;return r._locale=r._locale||pa(r._l),e===null||n===void 0&&e===""?Kh({nullInput:!0}):(typeof e=="string"&&(r._i=e=r._locale.preparse(e)),Zs(e)?new Dd(X_(e)):(Od(e)?r._d=e:Qs(n)?$M(r):n?Z_(r):HM(r),F_(r)||(r._d=null),r))}function HM(r){var e=r._i;Si(e)?r._d=new Date(Xe.now()):Od(e)?r._d=new Date(e.valueOf()):typeof e=="string"?NM(r):Qs(e)?(r._a=qx(e.slice(0),function(n){return parseInt(n,10)}),Q_(r)):$c(e)?UM(r):da(e)?r._d=new Date(e):Xe.createFromInputFallback(r)}function d1(r,e,n,t,s){var i={};return(e===!0||e===!1)&&(t=e,e=void 0),(n===!0||n===!1)&&(t=n,n=void 0),($c(r)&&I_(r)||Qs(r)&&r.length===0)&&(r=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=r,i._f=e,i._strict=t,qM(i)}function Tr(r,e,n,t){return d1(r,e,n,t,!1)}var VM=us("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Tr.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:Kh()}),zM=us("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Tr.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:Kh()});function f1(r,e){var n,t;if(e.length===1&&Qs(e[0])&&(e=e[0]),!e.length)return Tr();for(n=e[0],t=1;t<e.length;++t)(!e[t].isValid()||e[t][r](n))&&(n=e[t]);return n}function WM(){var r=[].slice.call(arguments,0);return f1("isBefore",r)}function YM(){var r=[].slice.call(arguments,0);return f1("isAfter",r)}var KM=function(){return Date.now?Date.now():+new Date},Pu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GM(r){var e,n=!1,t,s=Pu.length;for(e in r)if(tr(r,e)&&!(Qr.call(Pu,e)!==-1&&(r[e]==null||!isNaN(r[e]))))return!1;for(t=0;t<s;++t)if(r[Pu[t]]){if(n)return!1;parseFloat(r[Pu[t]])!==Ht(r[Pu[t]])&&(n=!0)}return!0}function JM(){return this._isValid}function XM(){return to(NaN)}function rp(r){var e=q_(r),n=e.year||0,t=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,u=e.hour||0,p=e.minute||0,c=e.second||0,f=e.millisecond||0;this._isValid=GM(e),this._milliseconds=+f+c*1e3+p*6e4+u*1e3*60*60,this._days=+a+i*7,this._months=+s+t*3+n*12,this._data={},this._locale=pa(),this._bubble()}function hh(r){return r instanceof rp}function $v(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function QM(r,e,n){var t=Math.min(r.length,e.length),s=Math.abs(r.length-e.length),i=0,a;for(a=0;a<t;a++)Ht(r[a])!==Ht(e[a])&&i++;return i+s}function h1(r,e){gt(r,0,0,function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+Mo(~~(n/60),2)+e+Mo(~~n%60,2)})}h1("Z",":");h1("ZZ","");st("Z",Zh);st("ZZ",Zh);wr(["Z","ZZ"],function(r,e,n){n._useUTC=!0,n._tzm=ey(Zh,r)});var ZM=/([\+\-]|\d\d)/gi;function ey(r,e){var n=(e||"").match(r),t,s,i;return n===null?null:(t=n[n.length-1]||[],s=(t+"").match(ZM)||["-",0,0],i=+(s[1]*60)+Ht(s[2]),i===0?0:s[0]==="+"?i:-i)}function ty(r,e){var n,t;return e._isUTC?(n=e.clone(),t=(Zs(r)||Od(r)?r.valueOf():Tr(r).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+t),Xe.updateOffset(n,!1),n):Tr(r).local()}function Uv(r){return-Math.round(r._d.getTimezoneOffset())}Xe.updateOffset=function(){};function eA(r,e,n){var t=this._offset||0,s;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=ey(Zh,r),r===null)return this}else Math.abs(r)<16&&!n&&(r=r*60);return!this._isUTC&&e&&(s=Uv(this)),this._offset=r,this._isUTC=!0,s!=null&&this.add(s,"m"),t!==r&&(!e||this._changeInProgress?g1(this,to(r-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Xe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?t:Uv(this)}function tA(r,e){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,e),this):-this.utcOffset()}function rA(r){return this.utcOffset(0,r)}function nA(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(Uv(this),"m")),this}function iA(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=ey(CD,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function sA(r){return this.isValid()?(r=r?Tr(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function oA(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function aA(){if(!Si(this._isDSTShifted))return this._isDSTShifted;var r={},e;return B_(r,this),r=u1(r),r._a?(e=r._isUTC?jo(r._a):Tr(r._a),this._isDSTShifted=this.isValid()&&QM(r._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function cA(){return this.isValid()?!this._isUTC:!1}function lA(){return this.isValid()?this._isUTC:!1}function p1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var uA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,dA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function to(r,e){var n=r,t=null,s,i,a;return hh(r)?n={ms:r._milliseconds,d:r._days,M:r._months}:da(r)||!isNaN(+r)?(n={},e?n[e]=+r:n.milliseconds=+r):(t=uA.exec(r))?(s=t[1]==="-"?-1:1,n={y:0,d:Ht(t[Ro])*s,h:Ht(t[mn])*s,m:Ht(t[Gs])*s,s:Ht(t[aa])*s,ms:Ht($v(t[Lc]*1e3))*s}):(t=dA.exec(r))?(s=t[1]==="-"?-1:1,n={y:bc(t[2],s),M:bc(t[3],s),w:bc(t[4],s),d:bc(t[5],s),h:bc(t[6],s),m:bc(t[7],s),s:bc(t[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=fA(Tr(n.from),Tr(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new rp(n),hh(r)&&tr(r,"_locale")&&(i._locale=r._locale),hh(r)&&tr(r,"_isValid")&&(i._isValid=r._isValid),i}to.fn=rp.prototype;to.invalid=XM;function bc(r,e){var n=r&&parseFloat(r.replace(",","."));return(isNaN(n)?0:n)*e}function p0(r,e){var n={};return n.months=e.month()-r.month()+(e.year()-r.year())*12,r.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+r.clone().add(n.months,"M"),n}function fA(r,e){var n;return r.isValid()&&e.isValid()?(e=ty(e,r),r.isBefore(e)?n=p0(r,e):(n=p0(e,r),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function m1(r,e){return function(n,t){var s,i;return t!==null&&!isNaN(+t)&&(Vx(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=t,t=i),s=to(n,t),g1(this,s,r),this}}function g1(r,e,n,t){var s=e._milliseconds,i=$v(e._days),a=$v(e._months);r.isValid()&&(t=t??!0,a&&e1(r,dd(r,"Month")+a*n),i&&Xx(r,"Date",dd(r,"Date")+i*n),s&&r._d.setTime(r._d.valueOf()+s*n),t&&Xe.updateOffset(r,i||a))}var hA=m1(1,"add"),pA=m1(-1,"subtract");function v1(r){return typeof r=="string"||r instanceof String}function mA(r){return Zs(r)||Od(r)||v1(r)||da(r)||vA(r)||gA(r)||r===null||r===void 0}function gA(r){var e=$c(r)&&!I_(r),n=!1,t=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,a=t.length;for(s=0;s<a;s+=1)i=t[s],n=n||tr(r,i);return e&&n}function vA(r){var e=Qs(r),n=!1;return e&&(n=r.filter(function(t){return!da(t)&&v1(r)}).length===0),e&&n}function _A(r){var e=$c(r)&&!I_(r),n=!1,t=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<t.length;s+=1)i=t[s],n=n||tr(r,i);return e&&n}function yA(r,e){var n=r.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function wA(r,e){arguments.length===1&&(arguments[0]?mA(arguments[0])?(r=arguments[0],e=void 0):_A(arguments[0])&&(e=arguments[0],r=void 0):(r=void 0,e=void 0));var n=r||Tr(),t=ty(n,this).startOf("day"),s=Xe.calendarFormat(this,t)||"sameElse",i=e&&(Lo(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,Tr(n)))}function bA(){return new Dd(this)}function SA(r,e){var n=Zs(r)?r:Tr(r);return this.isValid()&&n.isValid()?(e=ds(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function CA(r,e){var n=Zs(r)?r:Tr(r);return this.isValid()&&n.isValid()?(e=ds(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function kA(r,e,n,t){var s=Zs(r)?r:Tr(r),i=Zs(e)?e:Tr(e);return this.isValid()&&s.isValid()&&i.isValid()?(t=t||"()",(t[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(t[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function xA(r,e){var n=Zs(r)?r:Tr(r),t;return this.isValid()&&n.isValid()?(e=ds(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(t=n.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf())):!1}function EA(r,e){return this.isSame(r,e)||this.isAfter(r,e)}function TA(r,e){return this.isSame(r,e)||this.isBefore(r,e)}function RA(r,e,n){var t,s,i;if(!this.isValid())return NaN;if(t=ty(r,this),!t.isValid())return NaN;switch(s=(t.utcOffset()-this.utcOffset())*6e4,e=ds(e),e){case"year":i=ph(this,t)/12;break;case"month":i=ph(this,t);break;case"quarter":i=ph(this,t)/3;break;case"second":i=(this-t)/1e3;break;case"minute":i=(this-t)/6e4;break;case"hour":i=(this-t)/36e5;break;case"day":i=(this-t-s)/864e5;break;case"week":i=(this-t-s)/6048e5;break;default:i=this-t}return n?i:os(i)}function ph(r,e){if(r.date()<e.date())return-ph(e,r);var n=(e.year()-r.year())*12+(e.month()-r.month()),t=r.clone().add(n,"months"),s,i;return e-t<0?(s=r.clone().add(n-1,"months"),i=(e-t)/(t-s)):(s=r.clone().add(n+1,"months"),i=(e-t)/(s-t)),-(n+i)||0}Xe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Xe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function PA(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OA(r){if(!this.isValid())return null;var e=r!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?fh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Lo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",fh(n,"Z")):fh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function DA(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",e="",n,t,s,i;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+t+s+i)}function MA(r){r||(r=this.isUtc()?Xe.defaultFormatUtc:Xe.defaultFormat);var e=fh(this,r);return this.localeData().postformat(e)}function AA(r,e){return this.isValid()&&(Zs(r)&&r.isValid()||Tr(r).isValid())?to({to:this,from:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function jA(r){return this.from(Tr(),r)}function LA(r,e){return this.isValid()&&(Zs(r)&&r.isValid()||Tr(r).isValid())?to({from:this,to:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function NA(r){return this.to(Tr(),r)}function _1(r){var e;return r===void 0?this._locale._abbr:(e=pa(r),e!=null&&(this._locale=e),this)}var y1=us("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function w1(){return this._locale}var Th=1e3,Pl=60*Th,Rh=60*Pl,b1=(365*400+97)*24*Rh;function Ol(r,e){return(r%e+e)%e}function S1(r,e,n){return r<100&&r>=0?new Date(r+400,e,n)-b1:new Date(r,e,n).valueOf()}function C1(r,e,n){return r<100&&r>=0?Date.UTC(r+400,e,n)-b1:Date.UTC(r,e,n)}function IA(r){var e,n;if(r=ds(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?C1:S1,r){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ol(e+(this._isUTC?0:this.utcOffset()*Pl),Rh);break;case"minute":e=this._d.valueOf(),e-=Ol(e,Pl);break;case"second":e=this._d.valueOf(),e-=Ol(e,Th);break}return this._d.setTime(e),Xe.updateOffset(this,!0),this}function FA(r){var e,n;if(r=ds(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?C1:S1,r){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Rh-Ol(e+(this._isUTC?0:this.utcOffset()*Pl),Rh)-1;break;case"minute":e=this._d.valueOf(),e+=Pl-Ol(e,Pl)-1;break;case"second":e=this._d.valueOf(),e+=Th-Ol(e,Th)-1;break}return this._d.setTime(e),Xe.updateOffset(this,!0),this}function BA(){return this._d.valueOf()-(this._offset||0)*6e4}function $A(){return Math.floor(this.valueOf()/1e3)}function UA(){return new Date(this.valueOf())}function qA(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function HA(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function VA(){return this.isValid()?this.toISOString():null}function zA(){return F_(this)}function WA(){return Wa({},It(this))}function YA(){return It(this).overflow}function KA(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}gt("N",0,0,"eraAbbr");gt("NN",0,0,"eraAbbr");gt("NNN",0,0,"eraAbbr");gt("NNNN",0,0,"eraName");gt("NNNNN",0,0,"eraNarrow");gt("y",["y",1],"yo","eraYear");gt("y",["yy",2],0,"eraYear");gt("y",["yyy",3],0,"eraYear");gt("y",["yyyy",4],0,"eraYear");st("N",ry);st("NN",ry);st("NNN",ry);st("NNNN",sj);st("NNNNN",oj);wr(["N","NN","NNN","NNNN","NNNNN"],function(r,e,n,t){var s=n._locale.erasParse(r,t,n._strict);s?It(n).era=s:It(n).invalidEra=r});st("y",Fl);st("yy",Fl);st("yyy",Fl);st("yyyy",Fl);st("yo",aj);wr(["y","yy","yyy","yyyy"],Gn);wr(["yo"],function(r,e,n,t){var s;n._locale._eraYearOrdinalRegex&&(s=r.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Gn]=n._locale.eraYearOrdinalParse(r,s):e[Gn]=parseInt(r,10)});function GA(r,e){var n,t,s,i=this._eras||pa("en")._eras;for(n=0,t=i.length;n<t;++n){switch(typeof i[n].since){case"string":s=Xe(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=Xe(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function JA(r,e,n){var t,s,i=this.eras(),a,u,p;for(r=r.toUpperCase(),t=0,s=i.length;t<s;++t)if(a=i[t].name.toUpperCase(),u=i[t].abbr.toUpperCase(),p=i[t].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===r)return i[t];break;case"NNNN":if(a===r)return i[t];break;case"NNNNN":if(p===r)return i[t];break}else if([a,u,p].indexOf(r)>=0)return i[t]}function XA(r,e){var n=r.since<=r.until?1:-1;return e===void 0?Xe(r.since).year():Xe(r.since).year()+(e-r.offset)*n}function QA(){var r,e,n,t=this.localeData().eras();for(r=0,e=t.length;r<e;++r)if(n=this.clone().startOf("day").valueOf(),t[r].since<=n&&n<=t[r].until||t[r].until<=n&&n<=t[r].since)return t[r].name;return""}function ZA(){var r,e,n,t=this.localeData().eras();for(r=0,e=t.length;r<e;++r)if(n=this.clone().startOf("day").valueOf(),t[r].since<=n&&n<=t[r].until||t[r].until<=n&&n<=t[r].since)return t[r].narrow;return""}function ej(){var r,e,n,t=this.localeData().eras();for(r=0,e=t.length;r<e;++r)if(n=this.clone().startOf("day").valueOf(),t[r].since<=n&&n<=t[r].until||t[r].until<=n&&n<=t[r].since)return t[r].abbr;return""}function tj(){var r,e,n,t,s=this.localeData().eras();for(r=0,e=s.length;r<e;++r)if(n=s[r].since<=s[r].until?1:-1,t=this.clone().startOf("day").valueOf(),s[r].since<=t&&t<=s[r].until||s[r].until<=t&&t<=s[r].since)return(this.year()-Xe(s[r].since).year())*n+s[r].offset;return this.year()}function rj(r){return tr(this,"_erasNameRegex")||ny.call(this),r?this._erasNameRegex:this._erasRegex}function nj(r){return tr(this,"_erasAbbrRegex")||ny.call(this),r?this._erasAbbrRegex:this._erasRegex}function ij(r){return tr(this,"_erasNarrowRegex")||ny.call(this),r?this._erasNarrowRegex:this._erasRegex}function ry(r,e){return e.erasAbbrRegex(r)}function sj(r,e){return e.erasNameRegex(r)}function oj(r,e){return e.erasNarrowRegex(r)}function aj(r,e){return e._eraYearOrdinalRegex||Fl}function ny(){var r=[],e=[],n=[],t=[],s,i,a,u,p,c=this.eras();for(s=0,i=c.length;s<i;++s)a=ca(c[s].name),u=ca(c[s].abbr),p=ca(c[s].narrow),e.push(a),r.push(u),n.push(p),t.push(a),t.push(u),t.push(p);this._erasRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}gt(0,["gg",2],0,function(){return this.weekYear()%100});gt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function np(r,e){gt(0,[r,r.length],0,e)}np("gggg","weekYear");np("ggggg","weekYear");np("GGGG","isoWeekYear");np("GGGGG","isoWeekYear");st("G",Qh);st("g",Qh);st("GG",Rr,Wi);st("gg",Rr,Wi);st("GGGG",V_,H_);st("gggg",V_,H_);st("GGGGG",Xh,Gh);st("ggggg",Xh,Gh);Ad(["gggg","ggggg","GGGG","GGGGG"],function(r,e,n,t){e[t.substr(0,2)]=Ht(r)});Ad(["gg","GG"],function(r,e,n,t){e[t]=Xe.parseTwoDigitYear(r)});function cj(r){return k1.call(this,r,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function lj(r){return k1.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function uj(){return la(this.year(),1,4)}function dj(){return la(this.isoWeekYear(),1,4)}function fj(){var r=this.localeData()._week;return la(this.year(),r.dow,r.doy)}function hj(){var r=this.localeData()._week;return la(this.weekYear(),r.dow,r.doy)}function k1(r,e,n,t,s){var i;return r==null?hd(this,t,s).year:(i=la(r,t,s),e>i&&(e=i),pj.call(this,r,e,n,t,s))}function pj(r,e,n,t,s){var i=n1(r,e,n,t,s),a=fd(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}gt("Q",0,"Qo","quarter");st("Q",Wx);wr("Q",function(r,e){e[oa]=(Ht(r)-1)*3});function mj(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}gt("D",["DD",2],"Do","date");st("D",Rr,Bl);st("DD",Rr,Wi);st("Do",function(r,e){return r?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});wr(["D","DD"],Ro);wr("Do",function(r,e){e[Ro]=Ht(r.match(Rr)[0])});var x1=$l("Date",!0);gt("DDD",["DDDD",3],"DDDo","dayOfYear");st("DDD",Jh);st("DDDD",Yx);wr(["DDD","DDDD"],function(r,e,n){n._dayOfYear=Ht(r)});function gj(r){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?e:this.add(r-e,"d")}gt("m",["mm",2],0,"minute");st("m",Rr,z_);st("mm",Rr,Wi);wr(["m","mm"],Gs);var vj=$l("Minutes",!1);gt("s",["ss",2],0,"second");st("s",Rr,z_);st("ss",Rr,Wi);wr(["s","ss"],aa);var _j=$l("Seconds",!1);gt("S",0,0,function(){return~~(this.millisecond()/100)});gt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});gt(0,["SSS",3],0,"millisecond");gt(0,["SSSS",4],0,function(){return this.millisecond()*10});gt(0,["SSSSS",5],0,function(){return this.millisecond()*100});gt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});gt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});gt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});gt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});st("S",Jh,Wx);st("SS",Jh,Wi);st("SSS",Jh,Yx);var Ya,E1;for(Ya="SSSS";Ya.length<=9;Ya+="S")st(Ya,Fl);function yj(r,e){e[Lc]=Ht(("0."+r)*1e3)}for(Ya="S";Ya.length<=9;Ya+="S")wr(Ya,yj);E1=$l("Milliseconds",!1);gt("z",0,0,"zoneAbbr");gt("zz",0,0,"zoneName");function wj(){return this._isUTC?"UTC":""}function bj(){return this._isUTC?"Coordinated Universal Time":""}var He=Dd.prototype;He.add=hA;He.calendar=wA;He.clone=bA;He.diff=RA;He.endOf=FA;He.format=MA;He.from=AA;He.fromNow=jA;He.to=LA;He.toNow=NA;He.get=DD;He.invalidAt=YA;He.isAfter=SA;He.isBefore=CA;He.isBetween=kA;He.isSame=xA;He.isSameOrAfter=EA;He.isSameOrBefore=TA;He.isValid=zA;He.lang=y1;He.locale=_1;He.localeData=w1;He.max=zM;He.min=VM;He.parsingFlags=WA;He.set=MD;He.startOf=IA;He.subtract=pA;He.toArray=qA;He.toObject=HA;He.toDate=UA;He.toISOString=OA;He.inspect=DA;typeof Symbol<"u"&&Symbol.for!=null&&(He[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});He.toJSON=VA;He.toString=PA;He.unix=$A;He.valueOf=BA;He.creationData=KA;He.eraName=QA;He.eraNarrow=ZA;He.eraAbbr=ej;He.eraYear=tj;He.year=Jx;He.isLeapYear=OD;He.weekYear=cj;He.isoWeekYear=lj;He.quarter=He.quarters=mj;He.month=t1;He.daysInMonth=UD;He.week=He.weeks=GD;He.isoWeek=He.isoWeeks=JD;He.weeksInYear=fj;He.weeksInWeekYear=hj;He.isoWeeksInYear=uj;He.isoWeeksInISOWeekYear=dj;He.date=x1;He.day=He.days=lM;He.weekday=uM;He.isoWeekday=dM;He.dayOfYear=gj;He.hour=He.hours=_M;He.minute=He.minutes=vj;He.second=He.seconds=_j;He.millisecond=He.milliseconds=E1;He.utcOffset=eA;He.utc=rA;He.local=nA;He.parseZone=iA;He.hasAlignedHourOffset=sA;He.isDST=oA;He.isLocal=cA;He.isUtcOffset=lA;He.isUtc=p1;He.isUTC=p1;He.zoneAbbr=wj;He.zoneName=bj;He.dates=us("dates accessor is deprecated. Use date instead.",x1);He.months=us("months accessor is deprecated. Use month instead",t1);He.years=us("years accessor is deprecated. Use year instead",Jx);He.zone=us("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tA);He.isDSTShifted=us("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",aA);function Sj(r){return Tr(r*1e3)}function Cj(){return Tr.apply(null,arguments).parseZone()}function T1(r){return r}var rr=$_.prototype;rr.calendar=cD;rr.longDateFormat=fD;rr.invalidDate=pD;rr.ordinal=vD;rr.preparse=T1;rr.postformat=T1;rr.relativeTime=yD;rr.pastFuture=wD;rr.set=oD;rr.eras=GA;rr.erasParse=JA;rr.erasConvertYear=XA;rr.erasAbbrRegex=nj;rr.erasNameRegex=rj;rr.erasNarrowRegex=ij;rr.months=ID;rr.monthsShort=FD;rr.monthsParse=$D;rr.monthsRegex=HD;rr.monthsShortRegex=qD;rr.week=zD;rr.firstDayOfYear=KD;rr.firstDayOfWeek=YD;rr.weekdays=iM;rr.weekdaysMin=oM;rr.weekdaysShort=sM;rr.weekdaysParse=cM;rr.weekdaysRegex=fM;rr.weekdaysShortRegex=hM;rr.weekdaysMinRegex=pM;rr.isPM=gM;rr.meridiem=yM;function Ph(r,e,n,t){var s=pa(),i=jo().set(t,e);return s[n](i,r)}function R1(r,e,n){if(da(r)&&(e=r,r=void 0),r=r||"",e!=null)return Ph(r,e,n,"month");var t,s=[];for(t=0;t<12;t++)s[t]=Ph(r,t,n,"month");return s}function iy(r,e,n,t){typeof r=="boolean"?(da(e)&&(n=e,e=void 0),e=e||""):(e=r,n=e,r=!1,da(e)&&(n=e,e=void 0),e=e||"");var s=pa(),i=r?s._week.dow:0,a,u=[];if(n!=null)return Ph(e,(n+i)%7,t,"day");for(a=0;a<7;a++)u[a]=Ph(e,(a+i)%7,t,"day");return u}function kj(r,e){return R1(r,e,"months")}function xj(r,e){return R1(r,e,"monthsShort")}function Ej(r,e,n){return iy(r,e,n,"weekdays")}function Tj(r,e,n){return iy(r,e,n,"weekdaysShort")}function Rj(r,e,n){return iy(r,e,n,"weekdaysMin")}Ka("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var e=r%10,n=Ht(r%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return r+n}});Xe.lang=us("moment.lang is deprecated. Use moment.locale instead.",Ka);Xe.langData=us("moment.langData is deprecated. Use moment.localeData instead.",pa);var ea=Math.abs;function Pj(){var r=this._data;return this._milliseconds=ea(this._milliseconds),this._days=ea(this._days),this._months=ea(this._months),r.milliseconds=ea(r.milliseconds),r.seconds=ea(r.seconds),r.minutes=ea(r.minutes),r.hours=ea(r.hours),r.months=ea(r.months),r.years=ea(r.years),this}function P1(r,e,n,t){var s=to(e,n);return r._milliseconds+=t*s._milliseconds,r._days+=t*s._days,r._months+=t*s._months,r._bubble()}function Oj(r,e){return P1(this,r,e,1)}function Dj(r,e){return P1(this,r,e,-1)}function m0(r){return r<0?Math.floor(r):Math.ceil(r)}function Mj(){var r=this._milliseconds,e=this._days,n=this._months,t=this._data,s,i,a,u,p;return r>=0&&e>=0&&n>=0||r<=0&&e<=0&&n<=0||(r+=m0(qv(n)+e)*864e5,e=0,n=0),t.milliseconds=r%1e3,s=os(r/1e3),t.seconds=s%60,i=os(s/60),t.minutes=i%60,a=os(i/60),t.hours=a%24,e+=os(a/24),p=os(O1(e)),n+=p,e-=m0(qv(p)),u=os(n/12),n%=12,t.days=e,t.months=n,t.years=u,this}function O1(r){return r*4800/146097}function qv(r){return r*146097/4800}function Aj(r){if(!this.isValid())return NaN;var e,n,t=this._milliseconds;if(r=ds(r),r==="month"||r==="quarter"||r==="year")switch(e=this._days+t/864e5,n=this._months+O1(e),r){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(qv(this._months)),r){case"week":return e/7+t/6048e5;case"day":return e+t/864e5;case"hour":return e*24+t/36e5;case"minute":return e*1440+t/6e4;case"second":return e*86400+t/1e3;case"millisecond":return Math.floor(e*864e5)+t;default:throw new Error("Unknown unit "+r)}}function ma(r){return function(){return this.as(r)}}var D1=ma("ms"),jj=ma("s"),Lj=ma("m"),Nj=ma("h"),Ij=ma("d"),Fj=ma("w"),Bj=ma("M"),$j=ma("Q"),Uj=ma("y"),qj=D1;function Hj(){return to(this)}function Vj(r){return r=ds(r),this.isValid()?this[r+"s"]():NaN}function Vc(r){return function(){return this.isValid()?this._data[r]:NaN}}var zj=Vc("milliseconds"),Wj=Vc("seconds"),Yj=Vc("minutes"),Kj=Vc("hours"),Gj=Vc("days"),Jj=Vc("months"),Xj=Vc("years");function Qj(){return os(this.days()/7)}var na=Math.round,xl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Zj(r,e,n,t,s){return s.relativeTime(e||1,!!n,r,t)}function eL(r,e,n,t){var s=to(r).abs(),i=na(s.as("s")),a=na(s.as("m")),u=na(s.as("h")),p=na(s.as("d")),c=na(s.as("M")),f=na(s.as("w")),d=na(s.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||u<=1&&["h"]||u<n.h&&["hh",u]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(h=h||f<=1&&["w"]||f<n.w&&["ww",f]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+r>0,h[4]=t,Zj.apply(null,h)}function tL(r){return r===void 0?na:typeof r=="function"?(na=r,!0):!1}function rL(r,e){return xl[r]===void 0?!1:e===void 0?xl[r]:(xl[r]=e,r==="s"&&(xl.ss=e-1),!0)}function nL(r,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,t=xl,s,i;return typeof r=="object"&&(e=r,r=!1),typeof r=="boolean"&&(n=r),typeof e=="object"&&(t=Object.assign({},xl,e),e.s!=null&&e.ss==null&&(t.ss=e.s-1)),s=this.localeData(),i=eL(this,!n,t,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var jg=Math.abs;function hl(r){return(r>0)-(r<0)||+r}function ip(){if(!this.isValid())return this.localeData().invalidDate();var r=jg(this._milliseconds)/1e3,e=jg(this._days),n=jg(this._months),t,s,i,a,u=this.asSeconds(),p,c,f,d;return u?(t=os(r/60),s=os(t/60),r%=60,t%=60,i=os(n/12),n%=12,a=r?r.toFixed(3).replace(/\.?0+$/,""):"",p=u<0?"-":"",c=hl(this._months)!==hl(u)?"-":"",f=hl(this._days)!==hl(u)?"-":"",d=hl(this._milliseconds)!==hl(u)?"-":"",p+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?f+e+"D":"")+(s||t||r?"T":"")+(s?d+s+"H":"")+(t?d+t+"M":"")+(r?d+a+"S":"")):"P0D"}var Gt=rp.prototype;Gt.isValid=JM;Gt.abs=Pj;Gt.add=Oj;Gt.subtract=Dj;Gt.as=Aj;Gt.asMilliseconds=D1;Gt.asSeconds=jj;Gt.asMinutes=Lj;Gt.asHours=Nj;Gt.asDays=Ij;Gt.asWeeks=Fj;Gt.asMonths=Bj;Gt.asQuarters=$j;Gt.asYears=Uj;Gt.valueOf=qj;Gt._bubble=Mj;Gt.clone=Hj;Gt.get=Vj;Gt.milliseconds=zj;Gt.seconds=Wj;Gt.minutes=Yj;Gt.hours=Kj;Gt.days=Gj;Gt.weeks=Qj;Gt.months=Jj;Gt.years=Xj;Gt.humanize=nL;Gt.toISOString=ip;Gt.toString=ip;Gt.toJSON=ip;Gt.locale=_1;Gt.localeData=w1;Gt.toIsoString=us("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ip);Gt.lang=y1;gt("X",0,0,"unix");gt("x",0,0,"valueOf");st("x",Qh);st("X",kD);wr("X",function(r,e,n){n._d=new Date(parseFloat(r)*1e3)});wr("x",function(r,e,n){n._d=new Date(Ht(r))});//! moment.js
Xe.version="2.30.1";iD(Tr);Xe.fn=He;Xe.min=WM;Xe.max=YM;Xe.now=KM;Xe.utc=jo;Xe.unix=Sj;Xe.months=kj;Xe.isDate=Od;Xe.locale=Ka;Xe.invalid=Kh;Xe.duration=to;Xe.isMoment=Zs;Xe.weekdays=Ej;Xe.parseZone=Cj;Xe.localeData=pa;Xe.isDuration=hh;Xe.monthsShort=xj;Xe.weekdaysMin=Rj;Xe.defineLocale=J_;Xe.updateLocale=CM;Xe.locales=kM;Xe.weekdaysShort=Tj;Xe.normalizeUnits=ds;Xe.relativeTimeRounding=tL;Xe.relativeTimeThreshold=rL;Xe.calendarFormat=yA;Xe.prototype=He;Xe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function sy(r,e="",n=!1,t=!1){var s=r;r||(r=Xe());var i=M1().name;return n=="local"&&(n=i),t=="local"&&(t=i),!(s instanceof Xe)&&r&&(t&&t.toUpperCase()=="UTC"?s=Xe.utc(r):s=Xe(r,t)),n&&s.tz(n),s.format(e)}function iL(r,e=!0,n="local",t=!1){var s="MMM D, YYYY";return e&&(s=s+" hh:mm A"),sy(r,s,n,t)}function sL(r,e=!0,n="local"){return iL(r,e,n,"utc")}function oL(r,e=!1,n=!1,t=!1){var s="YYYY-MM-DD";return e&&(s+=" HH:mm:ss"),sy(r,s,n,t)}function M1(){var r=Xe.tz.guess();return{name:r,display_name:" (GMT"+Xe.tz(r).format("Z")+") "+r}}function aL(r,e=!0,n="local"){return cL(r,e,n,"utc")}function cL(r,e=!0,n="local",t=!1){if(e)var s="hh:mm A";return sy(r,s,n,t)}function lL(){return oL(!1,!0,"local","local")}function uL(r){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date(r.replace(/-/g,"/")),t=e[n.getDay()];return t}function dL(){return M1().name}class A1{constructor(e){this.socket=e.socket,this.user=e.user,this.callbacks=["onInvitation","onInvitationCancelled"],this.enableMultipleCallbacks(),this.attachSocketListeners()}enableMultipleCallbacks(){this.callbacks.forEach(e=>{Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[`__${e}`]},set:function(n){n.callback_name=e,this[`__${e}`]=this[`__${e}`]||[],this[`__${e}`].push(n),console.log("rtc_helpers setter: "+e)}})})}attachSocketListeners(){this.socket&&(this.socket.on("room:invitation",e=>{console.log("room:invitation",e),this.callCallback({name:"onInvitation",data:e})}),this.socket.on("room:invitation-cancelled",e=>{console.log("room:invitation-cancelled",e),this.callCallback({name:"onInvitationCancelled",data:e})}))}acceptInvitation(e){this.socket.emit("room:invitation-updated",{...e,status:"accepted"})}rejectInvitation(e){this.socket.emit("room:invitation-updated",{...e,status:"rejected"})}getRoom(e){return new Promise(n=>{this.socket.emit("get-room",e,t=>{n(t)})})}getUserRooms(e){return new Promise(n=>{this.socket.emit("get-user-rooms",e,t=>{n(t)})})}leaveAllRooms(e){return new Promise(n=>{this.socket.emit("leave-all-rooms",e,()=>{n()})})}deleteRoom(e){this.socket.emit("delete-room",e)}saveToCache(e){return new Promise(n=>{this.socket.emit("save-to-cache",e,()=>{n()})})}saveToCacheTemporarily(e){return this.saveToCache(e)}getFromCache(e){return new Promise(n=>{this.socket.emit("get-from-cache",e,t=>{n(t)})})}socketEmit(e){var{event:n,data:t={},return_response:s=!1}=e;return console.log("socket emit",n,t),s?new Promise((i,a)=>{this.socket.emit(n,t,u=>{i(u)})}):this.socket.emit(n,t)}notifyTheseUsers(e){var{event:n,user_ids:t,data:s={}}=e;s.event=n,s.user_ids=t,this.socketEmit({event:"notify-these-users",data:s})}callCallback(e){var{name:n,data:t={}}=e;console.log("rtc_helpers callCallback",n,t);var s=this[n];s&&(Array.isArray(s)?s.forEach(i=>{i(t)}):s(t))}}var Lg,g0;function fL(){if(g0)return Lg;g0=1,Lg=r;function r(){}return r.mixin=function(e){var n=e.prototype||e;n.isWildEmitter=!0,n.on=function(t,s,i){this.callbacks=this.callbacks||{};var a=arguments.length===3,u=a?arguments[1]:void 0,p=a?arguments[2]:arguments[1];return p._groupName=u,(this.callbacks[t]=this.callbacks[t]||[]).push(p),this},n.once=function(t,s,i){var a=this,u=arguments.length===3,p=u?arguments[1]:void 0,c=u?arguments[2]:arguments[1];function f(){a.off(t,f),c.apply(this,arguments)}return this.on(t,p,f),this},n.releaseGroup=function(t){this.callbacks=this.callbacks||{};var s,i,a,u;for(s in this.callbacks)for(u=this.callbacks[s],i=0,a=u.length;i<a;i++)u[i]._groupName===t&&(u.splice(i,1),i--,a--);return this},n.off=function(t,s){this.callbacks=this.callbacks||{};var i=this.callbacks[t],a;return i?arguments.length===1?(delete this.callbacks[t],this):(a=i.indexOf(s),a!==-1&&(i.splice(a,1),i.length===0&&delete this.callbacks[t]),this):this},n.emit=function(t){this.callbacks=this.callbacks||{};var s=[].slice.call(arguments,1),i=this.callbacks[t],a=this.getWildcardCallbacks(t),u,p,c;if(i)for(c=i.slice(),u=0,p=c.length;u<p&&c[u];++u)c[u].apply(this,s);if(a)for(p=a.length,c=a.slice(),u=0,p=c.length;u<p&&c[u];++u)c[u].apply(this,[t].concat(s));return this},n.getWildcardCallbacks=function(t){this.callbacks=this.callbacks||{};var s,i,a=[];for(s in this.callbacks)i=s.split("*"),(s==="*"||i.length===2&&t.slice(0,i[0].length)===i[0])&&(a=a.concat(this.callbacks[s]));return a}},r.mixin(r),Lg}var Ng,v0;function hL(){if(v0)return Ng;v0=1;var r=fL();function e(s,i){var a=-1/0;s.getFloatFrequencyData(i);for(var u=4,p=i.length;u<p;u++)i[u]>a&&i[u]<0&&(a=i[u]);return a}var n;typeof window<"u"&&(n=window.AudioContext||window.webkitAudioContext);var t=null;return Ng=function(s,u){var a=new r;if(!n)return a;var u=u||{},p=u.smoothing||.1,c=u.interval||50,f=u.threshold,d=u.play,h=u.history||10,w=!0;t=u.audioContext||t||new n;var R,S,_;_=t.createAnalyser(),_.fftSize=512,_.smoothingTimeConstant=p,S=new Float32Array(_.frequencyBinCount),s.jquery&&(s=s[0]),s instanceof HTMLAudioElement||s instanceof HTMLVideoElement?(R=t.createMediaElementSource(s),typeof d>"u"&&(d=!0),f=f||-50):(R=t.createMediaStreamSource(s),f=f||-50),R.connect(_),d&&_.connect(t.destination),a.speaking=!1,a.suspend=function(){return t.suspend()},a.resume=function(){return t.resume()},Object.defineProperty(a,"state",{get:function(){return t.state}}),t.onstatechange=function(){a.emit("state_change",t.state)},a.setThreshold=function(T){f=T},a.setInterval=function(T){c=T},a.stop=function(){w=!1,a.emit("volume_change",-100,f),a.speaking&&(a.speaking=!1,a.emit("stopped_speaking")),_.disconnect(),R.disconnect()},a.speakingHistory=[];for(var v=0;v<h;v++)a.speakingHistory.push(0);var C=function(){setTimeout(function(){if(w){var T=e(_,S);a.emit("volume_change",T,f);var M=0;if(T>f&&!a.speaking){for(var k=a.speakingHistory.length-3;k<a.speakingHistory.length;k++)M+=a.speakingHistory[k];M>=2&&(a.speaking=!0,a.emit("speaking"))}else if(T<f&&a.speaking){for(var k=0;k<a.speakingHistory.length;k++)M+=a.speakingHistory[k];M==0&&(a.speaking=!1,a.emit("stopped_speaking"))}a.speakingHistory.shift(),a.speakingHistory.push(0+(T>f)),C()}},c)};return C(),a},Ng}var j1=hL();const L1=Ei(j1),pL=w_({__proto__:null,default:L1},[j1]);var mL=L1||pL;class gL{wait(e){var{duration_ms:n}=e;return new Promise(t=>{setTimeout(()=>{t()},n)})}registerSpeechEvents(e){var{stream:n,on_speaking_callback:t,on_stopped_speaking_callback:s,hark_options:i={}}=e;if(!(!n||!n.getAudioTracks().length)){var a=mL(n,i);a.on("speaking",t),a.on("stopped_speaking",s)}}}class vL{constructor(e){var{participant:n}=e;return this.id="",this.user={},this.is_video_on=!1,this.is_audio_on=!1,this.is_sharing=!1,this.is_recording=!1,this.is_hand_raised=!1,this.is_speaking=!1,this.is_disconnected=!1,this.loadParticipant({participant:n}),this}onAudioSwitched(e){var{is_audio_on:n}=e;this.is_audio_on=n}onVideoSwitched(e){var{is_video_on:n}=e;this.is_video_on=n}onSpeaking(){this.is_speaking=!0}onStoppedSpeaking(){this.is_speaking=!1}onHandRaised(){this.is_hand_raised=!0}onHandLowered(){this.is_hand_raised=!1}onStream(e){var{stream:n}=e;this.is_video_on=!!n.getVideoTracks().length,this.is_audio_on=!!n.getAudioTracks().length}onScreenShared(){this.is_sharing=new Date().toJSON().slice(0,19).replace("T"," ")}onShareScreenStopped(){this.is_sharing=!1}onRecordingStarted(){this.is_recording=!0}onRecordingStopped(){this.is_recording=!1}onReconnecting(){this.is_disconnected=!0}onReconnected(){this.is_disconnected=!1}loadParticipant(e){var{participant:n}=e;Object.keys(n).forEach(t=>{this.hasOwnProperty(t)&&(this[t]=n[t])})}}function N1(r){var{track:e}=r;return e.is_custom=!0,e.stopTrack=()=>{console.log("tttttt stopTrack",e.readyState,e.is_stopped),!e.is_stopped&&(e.enabled=!1,e.is_stopped=!0,e.stop(),e.dispatchEvent(new Event("ended")))},e}function _0(r){var{stream:e}=r;return e.is_custom=!0,e.prepareStream=()=>{console.log("tttttt stream prepareStream tracks",e.getTracks()),e.getTracks().forEach(n=>{e.prepareTrack({track:n})})},e.prepareTrack=({track:n})=>{console.log("tttttt stream prepareTrack is_prepared",n.is_prepared),!n.is_prepared&&(n=new N1({track:n}),n.is_prepared=!0,n.onended=()=>{e.onTrackEnded&&e.onTrackEnded({track:n}),e.getActiveTracks().length||e.onStreamEnded&&e.onStreamEnded()})},e.addNewTrack=({track:n})=>{console.log("tttttt stream addNewTrack",n),e.addTrack(n),e.prepareTrack({track:n}),e.onTrackAdded&&e.onTrackAdded({track:n})},e.stopStream=()=>{e.getActiveTracks().length&&e.getTracks().forEach(n=>{n.stopTrack()})},e.getActiveTracks=(n={})=>{var{kind:t=""}=n;return e.getTracks().filter(function(s){return(!t||s.kind==t)&&s.readyState=="live"})},e.stopAudioTracks=()=>e.getAudioTracks().forEach(n=>{n.stopTrack()}),e.stopVideoTracks=()=>e.getVideoTracks().forEach(n=>{n.stopTrack()}),e.removeVideoTracks=()=>{e.getVideoTracks().forEach(n=>{e.removeTrack(n)})},e.removeAudioTracks=()=>{e.getAudioTracks().forEach(n=>{e.removeTrack(n)})},e.pauseAudioTracks=()=>e.getAudioTracks().forEach(n=>{n.enabled=!1}),e.resumeAudioTracks=()=>e.getAudioTracks().forEach(n=>{n.enabled=!0}),e.getStreamInfo=()=>{var n=e.getTracks()[0];return n&&n.track_info?n.track_info:{}},e.getTrackByKind=({kind:n})=>e.getTracks().find(t=>t.kind==n),e.prepareStream(),e}class I1{constructor(e){var{id:n,type:t,user:s={},stream:i}=e;return this.id=n,this.type=t,this.user_id=s.id,this.user=s,this.streams={},this.tracks={},this.tracks_underway={},this.incoming_tracks={},this.outgoing_tracks={},this.tracks_wrt_name={},this.reconnect_interval_id=!1,this.is_reconnecting=!1,this.max_reconnection_attempts=10,this.current_reconnection_attempt=0,this.max_track_retry_attempts=5,this.retry_add_track_attempt=0,this.retry_get_track_attempt=0,this.rtc_client=e.rtc_client,this.connector=e.connector,this}onTrack(e){var{track:n,track_type:t}=e,s=new MediaStream([n]);this.retry_get_track_attempt=0,console.log("onTrack",n,s,s.id&&s.getTracks()),this.streams[s.id]=s,this.connector.onRemoteStream({stream:s,stream_type:t,user_id:this.user_id}),n.track_info.connection_id=this.id;var i=n.track_info;this.tracks[n.id]=n,this.incoming_tracks[n.id]=n.id,this.tracks_wrt_name[i.name]=n.id,delete this.tracks_underway[i.name],t=="user"&&(this.stream=s),this.rtc_client.callCallback({callback:this.rtc_client.onStreamReconnected,data:{stream_id:s.id}})}onTrackEnded(e){var{track:n}=e;console.log("onTrackEnded","reconnecting",this.is_reconnecting);var t=n.track_info.name,s=n.track_info.stream_id;delete this.tracks[n.id],delete this.incoming_tracks[n.id],delete this.outgoing_tracks[n.id],delete this.tracks_wrt_name[t],delete this.streams[s]}async addStream(e){var{stream:n,stream_type:t}=e;if(n)for(const s of n.getActiveTracks())this.addTrack({track:s,track_type:t,stream:n})}onTrackAdded(e){var{track:n,stream:t}=e,s=n.track_info;s.is_outgoing=!0,s.connection_id=this.id,this.streams[t.id]=t,this.tracks[n.id]=n,this.outgoing_tracks[n.id]=n.id,this.tracks_wrt_name[s.name]=n.id,this.retry_get_track_attempt=0;var i=s.type,a=s.kind,u=i.charAt(0).toUpperCase()+i.slice(1),p=a.charAt(0).toUpperCase()+a.slice(1),c=`on${u}${p}TrackAdded`;this.rtc_client.callCallback({callback:this[c],data:{track:n}})}onTrackRemoved(e){var{track:n}=e;delete this.tracks[n.id],delete this.outgoing_tracks[n.id],delete this.tracks_wrt_name[n.track_info.name]}onTrackReplaced(e){this.onTrackAdded(e),setTimeout(()=>this.restartIce(),5e3)}removeTrackById(e){var{track:n}=e;if(this.outgoing_tracks[n.id])return this.removeTrack(e)}addTrack(e){var{stream:n,stream_id:t}=e;!n&&t&&(e.stream=this.streams[t])}replaceTrack(e){}getTrack(e){var{user_id:n,track_type:t,track_kind:s}=e,i=this.rtc_client.makeTrackName({user_id:n,track_type:t,track_kind:s}),a=this.tracks_underway[i],u=this.tracks_wrt_name[i],p=this.tracks[u];return console.log("getTrack","track_name:",i,"track_underway:",a,"existing_track_id",u,"existing_track",p,"tracks_underway",this.tracks_underway),{track_name:i,track_underway:a,existing_track:p}}trackUnderway({track_name:e}){this.tracks_underway[e]=!0,setTimeout(()=>{delete this.tracks_underway[e]},5e4)}retryAddTrack(e){console.log("imp retryAddTrack init",this.retry_add_track_attempt,this.max_track_retry_attempts),!(this.retry_add_track_attempt>=this.max_track_retry_attempts)&&(console.log("imp retryAddTrack inside"),this.closeConnection(),this.addTrack(e),this.retry_add_track_attempt++)}retryGetTrack(e){var{track_name:n}=e;console.log("imp retryGetTrack init",this.retry_get_track_attempt,this.max_track_retry_attempts),!(this.retry_get_track_attempt>=this.max_track_retry_attempts)&&(delete this.tracks_underway[n],console.log("imp retryGetTrack inside"),this.closeConnection(),this.getTrack(e),this.retry_get_track_attempt++)}streamsReconnecting(){Object.keys(this.streams).forEach(e=>{this.rtc_client.callCallback({callback:this.rtc_client.onStreamReconnecting,data:{stream_id:e}})})}streamsReconnected(){Object.keys(this.streams).forEach(e=>{this.rtc_client.callCallback({callback:this.rtc_client.onStreamReconnected,data:{stream_id:e}})})}onOtherEndReconnecting(){this.streamsReconnecting()}onOtherEndReconnected(){this.streamsReconnected()}close(e={}){var{soft_close:n}=e;for(var t in this.tracks){var s=this.tracks[t];n&&this.outgoing_tracks[t]||this.outgoing_tracks[t]||s.stopTrack()}n||(this.tracks_wrt_name={},clearInterval(this.reconnect_interval_id),this.reconnect_interval_id=!1,this.connector.onConnectionClosed({connection:this}))}closeConnection(){}reconnectInit(){this.is_reconnecting||(this.is_reconnecting=!0,this.streamsReconnecting(),this.is_reconnecting||this.rtc_client.socketEmit({event:"room:connection-reconnecting",data:{connection:{id:this.id,type:this.type,user_id:this.user_id}}}))}reconnect(){}keepReconnecting(){console.log("keepReconnecting type",this.type,"user_id",this.user_id," reconnect_interval_id",this.reconnect_interval_id),!this.reconnect_interval_id&&(console.log("keepReconnecting doing"),this.reconnect(),this.reconnect_interval_id=setInterval(()=>{this.reconnect(),this.current_reconnection_attempt++,console.log("keepReconnecting setInterval",this.current_reconnection_attempt,this.max_reconnection_attempts),this.current_reconnection_attempt>=this.max_reconnection_attempts&&(console.log("keepReconnecting setInterval clearInterval"),clearInterval(this.reconnect_interval_id),this.current_reconnection_attempt=0,this.reconnect_interval_id=!1)},1e4))}reconnected(){console.log("rtc_connection reconnected"),this.is_reconnecting=!1,clearInterval(this.reconnect_interval_id),this.reconnect_interval_id=!1,this.current_reconnection_attempt=0,this.streamsReconnected(),this.rtc_client.socketEmit({event:"room:connection-reconnected",data:{connection:{id:this.id,type:this.type,user_id:this.user_id}}})}async getStats(){var e=this.getPeer();if(e)return await e.getStats()}async getStatsByType({type:e,single:n}){var t=await this.getStats(),s=[];return t&&t.forEach(i=>{i.type==e&&s.push(i)}),n?s[0]:s}async getRoundTripTime(){var e=await this.getStatsByType({type:"candidate-pair"}),n=-1,t=-1;if(e.forEach(i=>{i.state=="succeeded"&&i.currentRoundTripTime>=0&&(n=i.currentRoundTripTime),i.state=="in-progress"&&i.currentRoundTripTime>=0&&(t=i.currentRoundTripTime)}),n==-1&&t==-1)return-1;var s=n!=-1?n:t;return parseFloat(s.toFixed(1))}toJSON(){var e={},n=["rtc_client"];return Object.getOwnPropertyNames(this).forEach(t=>{n.indexOf(t)===-1&&(e[t]=this[t])}),e}}function _L({rtc_config:r,is_polite:e}){return this.peer=new RTCPeerConnection(r),this.peer.onOffer=async n=>{var{offer:t}=n;console.log("ddddd onoffer is_polite",e);var s=!1;if((this.peer.making_offer||this.peer.signalingState!="stable")&&(s=!0),console.log("ddddd onoffer offer_collision",s),!(!e&&s)){console.log("ddddd onoffer setRemoteDescription"),this.peer.setRemoteDescription(t);var i=await this.peer.createAnswer();i=this.peer.processSdp({sdp:i}),await this.peer.setLocalDescription(i),this.peer.onAnswerGenerated({answer:i})}},this.peer.makeOffer=async(n={})=>{console.log("ddddd makeOffer offer_options",n);try{this.peer.making_offer=!0;var t=await this.peer.createOffer(n);t=this.peer.processSdp({sdp:t}),await this.peer.setLocalDescription(t),console.log("ddddd makeOffer setLocalDescription"),this.peer.onOfferGenerated({offer:t||this.peer.localDescription})}finally{this.peer.making_offer=!1}},this.peer.getSender=n=>{var{track_id:t,track_name:s}=n;console.log("rtc_peer getSender",t,s);var i=!1;return this.peer.getSenders().forEach(a=>{var u=a.track||{},p=u.track_info||{};console.log("replaceTrack sender",u,p),t&&u.id==t&&(i=a),s&&p.name==s&&(i=a)}),i},this.peer.setBandwidthForBundleStreams=({sdp:n,bandwidth:t})=>{if(!t)return n;var s=t.audio,i=t.video,p=new RegExp("m=(audio).*?\\r\\n","g");n=n.replace(p,function(f){return console.log("match",f),f+`b=AS:${s}\r
`});var a=c(n)||1;a=a>2?2:a;var u=i*a,p=new RegExp("m=(video).*?\\r\\n","g");n=n.replace(p,function(f){return console.log("match",f),f+`b=AS:${u}\r
`}),console.log("setBandwidthForBundleStreams",t,s,i,u,a);function c(f){const d=f.split(`
`);let h=0;for(const w of d)w.startsWith("m=video")&&h++;return h}return n},this.peer.setBandwidthOverall=({sdp:n,bitrate:t})=>{console.log("setBandwidthOverall bitrate",t);var s=new RegExp("m=(video|audio).*?\\r\\n","g");return n=n.replace(s,function(i){return console.log("setBandwidthOverall match",i),i+`b=AS:${t}\r
`}),n},this.peer}class yL extends I1{constructor(e){var{user_id:n,is_polite:t,rtc_config:s,rtc_client:i}=e;return super(e),this.is_polite=t,this.rtc_client=i,s=s||this.rtc_client.rtc_config,this.user_id=n,this.peer=new _L({rtc_config:s,is_polite:t}),this.peer.onnegotiationneeded=()=>this.onNegotiationNeeded(),this.peer.onicecandidate=a=>this.onIceCandidateGenerated(a),this.peer.ontrack=a=>this.onTrackReceived(a),this.peer.iceconnectionstatechange=a=>this.onIceConnectionStateChange(a),this.peer.onsignalingstatechange=a=>this.onSignalingStateChange(a),this.peer.onconnectionstatechange=a=>this.onConnectionStateChange(a),this.peer.onAnswerGenerated=a=>this.onAnswerGenerated(a),this.peer.onOfferGenerated=a=>this.onOfferGenerated(a),this.peer.processSdp=a=>this.onProcessSdp(a),this}onNegotiationNeeded(){console.log("onNegotiationNeeded","type",this.type,"user_id",this.user_id),this.peer.makeOffer()}onIceCandidateGenerated(e){var{candidate:n}=e;this.rtc_client.socketEmit({event:"room:candidate",data:{candidate:n,target_user_id:this.user_id,connection_type:this.type}})}onOfferGenerated(e){var{offer:n}=e;this.rtc_client.socketEmit({event:"room:offer",data:{offer:n,target_user_id:this.user_id,connection_type:this.type}})}onAnswerGenerated(e){var{answer:n}=e;console.log("dddd onAnswerGenerated"),this.rtc_client.socketEmit({event:"room:answer",data:{answer:n,target_user_id:this.user_id,connection_type:this.type}})}onIceConnectionStateChange(){console.log("onIceConnectionStateChange",this.peer.iceConnectionState)}onSignalingStateChange(){var e=this.peer.signalingState;console.log("peer.onsignalingstatechange",e),e=="closed"&&this.close()}onConnectionStateChange(){var e=this.peer.connectionState;console.log("peer.onconnectionstatechange connection_state",e,"type",this.type,"user_id",this.user_id),e=="failed"&&this.type=="outgoing"&&this.keepReconnecting(),e=="connected"&&this.is_reconnecting&&this.reconnected()}onOffer(e){this.peer.onOffer(e)}onAnswer({answer:e}){console.log("dddd setRemoteDescription"),e=this.onProcessSdp({sdp:e}),this.peer.setRemoteDescription(e)}onCandidate({candidate:e}){console.log("dddd addIceCandidate"),this.peer.addIceCandidate(e)}onTrackReceived({track:e,streams:n}){console.log("dddd onTrackReceived",e,n);var t=n[0]||{},s=this.connector.streams_info[t.id]||{},i=s.track_type||"user";this.onTrack({track:e,track_type:i})}onProcessSdp(e){var{sdp:n}=e;return this.rtc_client.bandwidth&&(n.sdp=this.peer.setBandwidthOverall({sdp:n.sdp,bitrate:this.rtc_client.bandwidth.max_overall})),n}addTrack(e){console.log("ddddd addTrack",e);var{track:n,stream:t}=e,s=this.rtc_client.participants[this.user_id];if(this.rtc_client.user.is_bot&&s.user.is_bot){console.log("addTrackToUser is_bot",this.user_id);return}var i=this.peer.getSender({track_id:n.id});if(console.log("dddd addtrack already_added",i),!i){this.rtc_client.socketEmit({event:"room:track-info",data:{track_id:n.id,stream_id:t.id,track_type:n.track_info.type,target_user_id:this.user_id}});var a=this.peer.addTrack(n,t);this.applyBandwidth({track:n,sender:a}),this.onTrackAdded(e)}}removeTrack(e){var{track:n}=e,t=this.peer.getSender({track_id:n.id}),s=this.peer.getTransceivers(),i=s.find(a=>a.sender===t);if(console.log("removeTrack",n,t,i),!!t)return this.peer.removeTrack(t),i&&i.stop(),this.onTrackRemoved({track:n}),!0}getTrack(e){var{track_type:n,track_kind:t,get_fresh:s}=e,{existing_track:i,track_underway:a,track_name:u}=super.getTrack(e);if(!(a&&!s)){if(i&&!s){this.onTrack({track:i,track_type:n});return}this.trackUnderway({track_name:u}),n=="user"&&t=="video"&&this.requestGetTrack(e)}}requestGetTrack({track_type:e,track_kind:n,user_id:t}){console.log("requestGetTrack",t),this.rtc_client.socketEmit({event:"room:request-get-track",data:{track_type:e,track_kind:n,target_user_id:t}})}dropTrack({track_type:e,track_kind:n,user_id:t}){this.rtc_client.socketEmit({event:"room:request-remove-track",data:{track_type:e,track_kind:n,target_user_id:t}})}replaceTrack(e){var{track:n}=e,t=this.peer.getSender({track_name:n.track_info.name});if(t)return t.replaceTrack(n),this.onTrackReplaced(e),!0}restartIce(){console.log("restartIce type",this.type,"user_id",this.user_id),this.peer.makeOffer({iceRestart:!0})}getPeer(){return this.peer}close(e={}){super.close(e),this.peer.close(),this.peer=null}reconnect(){console.log("reconnect type",this.type,"user_id",this.user_id),super.reconnectInit(),this.restartIce()}applyBandwidth(e){this.doApplyBandwidth(e),setTimeout(()=>{this.doApplyBandwidth(e)},5e3)}doApplyBandwidth(e){var{sender:n,track:t}=e;if(this.rtc_client.bandwidth){var s=n.getParameters(),i=this.rtc_client.bandwidth.max_overall,a=t.track_info.type;a=="user"?i=this.rtc_client.bandwidth[t.kind]:i=this.rtc_client.bandwidth[a],console.log("applyBandwidth track_type",a,"track_kind",t.kind,"max_bitrate",i,"bandwidth",this.rtc_client.bandwidth,"total_encodings",s.encodings.length),(!s.encodings||!s.encodings.length)&&(s.encodings=[{}]),s.encodings[0].maxBitrate=i*1e3,n.setParameters(s).catch(u=>{console.log("applyBandwidth maxbitrate error",u)})}}}class F1{constructor({rtc_client:e}){this.rtc_client=e,this.connections={},this.connections_wrt_user={},this.type=""}async initiate(){this.addAllStreams()}async getUserTrack(e){var{user_id:n,track_kind:t}=e;e.track_type="user";var s=n==this.rtc_client.user.id,i=this.rtc_client.participants[n];if(console.log("connector getUserTrack","user_id",n,"is_me",s,"track_kind",t,"participant",i,"is_video_on",i&&i.is_video_on),!!i){if(s){this.onRemoteStream({stream:this.rtc_client.stream,stream_type:"user",user_id:n});return}if(!(t=="video"&&!i.is_video_on))return this.getTrack(e)}}addStream({stream:e,stream_type:n,track_kind:t}){console.log("dddd addStream",e,n,t),e&&e.getTracks().forEach(s=>{t&&s.kind!=t||this.addTrack({track:s,track_type:n,stream:e})})}addAllStreams(){this.addStream({stream:this.rtc_client.stream,stream_type:"user"}),this.addStream({stream:this.rtc_client.screen_stream,stream_type:"screen"})}pauseTrack(){}resumeTrack(){}async getRoundTripTime(){var e=0;for(var n in this.connections){var t=await this.connections[n].getRoundTripTime();t=t>-1?t:.2,e+=t}var s=e/Object.keys(this.connections).length;return s=s>=0?s:0,s}close(){for(var e in this.connections)this.connections[e]&&this.connections[e].close()}closeConnection(e){var{user_id:n}=e,t=this.connections_wrt_user[n];t&&(t.forEach(s=>{this.connections[s]&&this.connections[s].close(),delete this.connections[s]}),delete this.connections_wrt_user[n])}onTrackEnded(e){var{track:n}=e,t=this.connections[n.track_info.connection_id];t&&t.onTrackEnded(e)}onLocalTrackEnded(){}onRemoteStream(e){var{stream:n,stream_type:t,user_id:s}=e;return console.log("tttttt onRemoteStream",e),n=this.rtc_client.prepareStream(e),t=="screen"&&this.rtc_client.callCallback({callback_name:"onScreenStream",data:{stream:n,user_id:s}}),t=="user"&&this.onUserStream({stream:n,user_id:s}),n}onUserStream(e){var{stream:n,user_id:t}=e;n=n||{},t!=this.rtc_client.user.id&&this.rtc_client.registerSpeechEvents(e);var s=n.getAudioTracks&&n.getAudioTracks()[0],i=n.getVideoTracks&&n.getVideoTracks()[0];console.log("dddd _onUserStream audio_track",s,"video_track",i,"user_id",t),s&&this.rtc_client.callCallback({callback_name:"onUserAudioStream",data:e}),i&&this.rtc_client.callCallback({callback_name:"onUserVideoStream",data:e})}onRemoteStreamEnded(e){var{stream:n}=e;console.log("tttttt onRemoteStreamEnded",e);var t=n.getStreamInfo(),s=t.user_id,i=t.type,a=t.kind;if(i=="user"){var u=a.charAt(0).toUpperCase()+a.slice(1),p=`onUser${u}StreamEnded`;this.rtc_client.callCallback({callback_name:p,data:{stream:n,user_id:s}})}else i=="screen"&&this.rtc_client.callCallback({callback_name:"onScreenStreamEnded",data:{stream:n,user_id:s}})}onConnectionClosed(e){var{connection:n}=e;delete this.connections[n.id]}}class y0 extends F1{constructor(e){super(e),this.type="p2p",this.streams_info={},this.attachSocketListeners(),this.rtc_client.socket_events=[...this.rtc_client.socket_events,"room:offer","room:answer","room:candidate","room:track-info"]}attachSocketListeners(){this.rtc_client.socket.on("room:offer",e=>this.onOffer(e)),this.rtc_client.socket.on("room:answer",e=>this.onAnswer(e)),this.rtc_client.socket.on("room:candidate",e=>this.onCandidate(e)),this.rtc_client.socket.on("room:track-info",e=>this.onTrackInfo(e))}prepare(){}addAllStreams(){this.addStreamsToUsers()}addStreamsToUsers(){this.addStream({stream:this.rtc_client.stream,stream_type:"screen",track_kind:"audio"}),this.addStream({stream:this.rtc_client.screen_stream,stream_type:"screen"})}addStreamsToUser({user_id:e}){this.addStreamToUser({user_id:e,stream:this.rtc_client.stream,stream_type:"screen",track_kind:"audio"}),this.addStreamToUser({user_id:e,stream:this.rtc_client.screen_stream,stream_type:"screen"})}addStreamToUser({user_id:e,stream:n,stream_type:t,track_kind:s}){console.log("ddddd addStreamToUser",e,n,t,s),n&&n.getTracks().forEach(i=>{s&&i.kind!=s||this.addTrackToUser({user_id:e,track:i,track_type:t,stream:n})})}addTrackToUsers(e){console.log("ddddd addTrackToUsers",this.rtc_client.participants_ids),this.rtc_client.participants_ids.forEach(n=>{n!=this.rtc_client.user.id&&this.addTrackToUser({...e,user_id:n})})}addTrackToUser(e){var{user_id:n}=e,t=this.getOrMakeConnection({user_id:n,type:"outgoing"});t&&t.addTrack({...e,user_id:n})}addTrack(e){console.log("dddd addTrack",e),this.addTrackToUsers(e)}removeTrack(e){Object.values(this.connections).forEach(n=>{n.type=="outgoing"&&n.removeTrack(e)})}removeTrackFromUser(e){var{user_id:n}=e,t=this.getOrMakeConnection({user_id:n,type:"outgoing"});t&&t.removeTrack(e)}replaceTrack(e){Object.values(this.connections).forEach(n=>{n.type=="outgoing"&&n.replaceTrack(e)})}getTrack(e){var{user_id:n,track_type:t,track_kind:s}=e;console.log("peer_connector getTrack","user_id",n,"track_type",t,"track_kind",s);var i=this.getOrMakeConnection({user_id:n,type:"incoming"});i&&i.getTrack(e)}dropTrack(e){var{user_id:n}=e,t=this.getOrMakeConnection({user_id:n,type:"incoming"});t&&t.dropTrack(e)}onLocalTrackEnded(e){this.removeTrack(e)}onOffer(e){var{user_id:n,connection_type:t}=e,s=t=="outgoing"?"incoming":"outgoing",i=this.getOrMakeConnection({user_id:n,type:s});i&&i.onOffer(e)}onAnswer(e){var{user_id:n,connection_type:t}=e,s=t=="outgoing"?"incoming":"outgoing",i=this.getOrMakeConnection({user_id:n,type:s});i&&i.onAnswer(e)}onCandidate(e){var{user_id:n,connection_type:t}=e,s=t=="outgoing"?"incoming":"outgoing",i=this.getOrMakeConnection({user_id:n,type:s});i.onCandidate(e)}onTrackInfo(e){var{track_id:n,track_type:t,stream_id:s}=e;this.streams_info[s]={track_id:n,track_type:t}}onJoined(e){var{user:n}=e;n.id==this.rtc_client.user.id?this.addStreamsToUsers():(this.closeConnection({user_id:n.id}),this.addStreamsToUser({user_id:n.id}))}onRequestGetTrack({user_id:e}){if(this.rtc_client.stream){var n=this.rtc_client.stream,t=n.getVideoTracks()[0];this.addTrackToUser({user_id:e,track:t,track_type:"user",stream:n})}}onRequestRemoveTrack({user_id:e}){if(this.rtc_client.stream){var n=this.rtc_client.stream,t=n.getVideoTracks()[0];this.removeTrackFromUser({user_id:e,track:t,track_type:"user"})}}onVideoSwitched({user_id:e,is_video_on:n}){n&&this.rtc_client.callCallback({callback_name:"onPotentialUserVideo",data:{user_id:e}})}onPostJoinData(){}getOrMakeConnection(e){var{user_id:n,type:t}=e,s=`${n}_${t}`,i=this.connections[s];if(console.log("dddd getOrMakeConnection","id",s,"existing_connection",i),i)return i;e.id=s,e.rtc_client=this.rtc_client,e.connector=this,e.is_polite=n<this.rtc_client.user.id;var a=new yL(e);return this.connections[a.id]=a,this.connections_wrt_user[n]=this.connections_wrt_user[n]||[],this.connections_wrt_user[n].push(a.id),a}}var Ls={},Qf={exports:{}},Ig,w0;function wL(){if(w0)return Ig;w0=1;var r=1e3,e=r*60,n=e*60,t=n*24,s=t*7,i=t*365.25;Ig=function(f,d){d=d||{};var h=typeof f;if(h==="string"&&f.length>0)return a(f);if(h==="number"&&isFinite(f))return d.long?p(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var h=parseFloat(d[1]),w=(d[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*t;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function u(f){var d=Math.abs(f);return d>=t?Math.round(f/t)+"d":d>=n?Math.round(f/n)+"h":d>=e?Math.round(f/e)+"m":d>=r?Math.round(f/r)+"s":f+"ms"}function p(f){var d=Math.abs(f);return d>=t?c(f,d,t,"day"):d>=n?c(f,d,n,"hour"):d>=e?c(f,d,e,"minute"):d>=r?c(f,d,r,"second"):f+" ms"}function c(f,d,h,w){var R=d>=h*1.5;return Math.round(f/h)+" "+w+(R?"s":"")}return Ig}var Fg,b0;function bL(){if(b0)return Fg;b0=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=u,t.humanize=wL(),t.destroy=f,Object.keys(e).forEach(d=>{t[d]=e[d]}),t.names=[],t.skips=[],t.formatters={};function n(d){let h=0;for(let w=0;w<d.length;w++)h=(h<<5)-h+d.charCodeAt(w),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(d){let h,w=null,R,S;function _(...v){if(!_.enabled)return;const C=_,T=Number(new Date),M=T-(h||T);C.diff=M,C.prev=h,C.curr=T,h=T,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let k=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(y,F)=>{if(y==="%%")return"%";k++;const I=t.formatters[F];if(typeof I=="function"){const U=v[k];y=I.call(C,U),v.splice(k,1),k--}return y}),t.formatArgs.call(C,v),(C.log||t.log).apply(C,v)}return _.namespace=d,_.useColors=t.useColors(),_.color=t.selectColor(d),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(R!==t.namespaces&&(R=t.namespaces,S=t.enabled(d)),S),set:v=>{w=v}}),typeof t.init=="function"&&t.init(_),_}function s(d,h){const w=t(this.namespace+(typeof h>"u"?":":h)+d);return w.log=this.log,w}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h;const w=(typeof d=="string"?d:"").split(/[\s,]+/),R=w.length;for(h=0;h<R;h++)w[h]&&(d=w[h].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.slice(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...t.names.map(p),...t.skips.map(p).map(h=>"-"+h)].join(",");return t.enable(""),d}function u(d){if(d[d.length-1]==="*")return!0;let h,w;for(h=0,w=t.skips.length;h<w;h++)if(t.skips[h].test(d))return!1;for(h=0,w=t.names.length;h<w;h++)if(t.names[h].test(d))return!0;return!1}function p(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Fg=r,Fg}var S0;function sp(){return S0||(S0=1,function(r,e){var n={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=t,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(d++,w==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function a(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=bL()(e);const{formatters:p}=r.exports;p.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(Qf,Qf.exports)),Qf.exports}var ci={},mh={exports:{}},SL=mh.exports,C0;function CL(){return C0||(C0=1,function(r,e){(function(n,t){r.exports=t()})(SL,function(){return function(n){var t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=t,s.d=function(i,a,u){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:u})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(1&a&&(i=s(i)),8&a||4&a&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),2&a&&typeof i!="string")for(var p in i)s.d(u,p,(function(c){return i[c]}).bind(null,p));return u},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=90)}({17:function(n,t,s){t.__esModule=!0,t.default=void 0;var i=s(18),a=function(){function u(){}return u.getFirstMatch=function(p,c){var f=c.match(p);return f&&f.length>0&&f[1]||""},u.getSecondMatch=function(p,c){var f=c.match(p);return f&&f.length>1&&f[2]||""},u.matchAndReturnConst=function(p,c,f){if(p.test(c))return f},u.getWindowsVersionName=function(p){switch(p){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},u.getMacOSVersionName=function(p){var c=p.split(".").splice(0,2).map(function(f){return parseInt(f,10)||0});if(c.push(0),c[0]===10)switch(c[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},u.getAndroidVersionName=function(p){var c=p.split(".").splice(0,2).map(function(f){return parseInt(f,10)||0});if(c.push(0),!(c[0]===1&&c[1]<5))return c[0]===1&&c[1]<6?"Cupcake":c[0]===1&&c[1]>=6?"Donut":c[0]===2&&c[1]<2?"Eclair":c[0]===2&&c[1]===2?"Froyo":c[0]===2&&c[1]>2?"Gingerbread":c[0]===3?"Honeycomb":c[0]===4&&c[1]<1?"Ice Cream Sandwich":c[0]===4&&c[1]<4?"Jelly Bean":c[0]===4&&c[1]>=4?"KitKat":c[0]===5?"Lollipop":c[0]===6?"Marshmallow":c[0]===7?"Nougat":c[0]===8?"Oreo":c[0]===9?"Pie":void 0},u.getVersionPrecision=function(p){return p.split(".").length},u.compareVersions=function(p,c,f){f===void 0&&(f=!1);var d=u.getVersionPrecision(p),h=u.getVersionPrecision(c),w=Math.max(d,h),R=0,S=u.map([p,c],function(_){var v=w-u.getVersionPrecision(_),C=_+new Array(v+1).join(".0");return u.map(C.split("."),function(T){return new Array(20-T.length).join("0")+T}).reverse()});for(f&&(R=w-Math.min(d,h)),w-=1;w>=R;){if(S[0][w]>S[1][w])return 1;if(S[0][w]===S[1][w]){if(w===R)return 0;w-=1}else if(S[0][w]<S[1][w])return-1}},u.map=function(p,c){var f,d=[];if(Array.prototype.map)return Array.prototype.map.call(p,c);for(f=0;f<p.length;f+=1)d.push(c(p[f]));return d},u.find=function(p,c){var f,d;if(Array.prototype.find)return Array.prototype.find.call(p,c);for(f=0,d=p.length;f<d;f+=1){var h=p[f];if(c(h,f))return h}},u.assign=function(p){for(var c,f,d=p,h=arguments.length,w=new Array(h>1?h-1:0),R=1;R<h;R++)w[R-1]=arguments[R];if(Object.assign)return Object.assign.apply(Object,[p].concat(w));var S=function(){var _=w[c];typeof _=="object"&&_!==null&&Object.keys(_).forEach(function(v){d[v]=_[v]})};for(c=0,f=w.length;c<f;c+=1)S();return p},u.getBrowserAlias=function(p){return i.BROWSER_ALIASES_MAP[p]},u.getBrowserTypeByAlias=function(p){return i.BROWSER_MAP[p]||""},u}();t.default=a,n.exports=t.default},18:function(n,t,s){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(n,t,s){t.__esModule=!0,t.default=void 0;var i,a=(i=s(91))&&i.__esModule?i:{default:i},u=s(18);function p(f,d){for(var h=0;h<d.length;h++){var w=d[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}var c=function(){function f(){}var d,h,w;return f.getParser=function(R,S){if(S===void 0&&(S=!1),typeof R!="string")throw new Error("UserAgent should be a string");return new a.default(R,S)},f.parse=function(R){return new a.default(R).getResult()},d=f,w=[{key:"BROWSER_MAP",get:function(){return u.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return u.ENGINE_MAP}},{key:"OS_MAP",get:function(){return u.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return u.PLATFORMS_MAP}}],(h=null)&&p(d.prototype,h),w&&p(d,w),f}();t.default=c,n.exports=t.default},91:function(n,t,s){t.__esModule=!0,t.default=void 0;var i=f(s(92)),a=f(s(93)),u=f(s(94)),p=f(s(95)),c=f(s(17));function f(h){return h&&h.__esModule?h:{default:h}}var d=function(){function h(R,S){if(S===void 0&&(S=!1),R==null||R==="")throw new Error("UserAgent parameter can't be empty");this._ua=R,this.parsedResult={},S!==!0&&this.parse()}var w=h.prototype;return w.getUA=function(){return this._ua},w.test=function(R){return R.test(this._ua)},w.parseBrowser=function(){var R=this;this.parsedResult.browser={};var S=c.default.find(i.default,function(_){if(typeof _.test=="function")return _.test(R);if(_.test instanceof Array)return _.test.some(function(v){return R.test(v)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.browser=S.describe(this.getUA())),this.parsedResult.browser},w.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},w.getBrowserName=function(R){return R?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},w.getBrowserVersion=function(){return this.getBrowser().version},w.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},w.parseOS=function(){var R=this;this.parsedResult.os={};var S=c.default.find(a.default,function(_){if(typeof _.test=="function")return _.test(R);if(_.test instanceof Array)return _.test.some(function(v){return R.test(v)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.os=S.describe(this.getUA())),this.parsedResult.os},w.getOSName=function(R){var S=this.getOS().name;return R?String(S).toLowerCase()||"":S||""},w.getOSVersion=function(){return this.getOS().version},w.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},w.getPlatformType=function(R){R===void 0&&(R=!1);var S=this.getPlatform().type;return R?String(S).toLowerCase()||"":S||""},w.parsePlatform=function(){var R=this;this.parsedResult.platform={};var S=c.default.find(u.default,function(_){if(typeof _.test=="function")return _.test(R);if(_.test instanceof Array)return _.test.some(function(v){return R.test(v)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.platform=S.describe(this.getUA())),this.parsedResult.platform},w.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},w.getEngineName=function(R){return R?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},w.parseEngine=function(){var R=this;this.parsedResult.engine={};var S=c.default.find(p.default,function(_){if(typeof _.test=="function")return _.test(R);if(_.test instanceof Array)return _.test.some(function(v){return R.test(v)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.engine=S.describe(this.getUA())),this.parsedResult.engine},w.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},w.getResult=function(){return c.default.assign({},this.parsedResult)},w.satisfies=function(R){var S=this,_={},v=0,C={},T=0;if(Object.keys(R).forEach(function(K){var Q=R[K];typeof Q=="string"?(C[K]=Q,T+=1):typeof Q=="object"&&(_[K]=Q,v+=1)}),v>0){var M=Object.keys(_),k=c.default.find(M,function(K){return S.isOS(K)});if(k){var N=this.satisfies(_[k]);if(N!==void 0)return N}var y=c.default.find(M,function(K){return S.isPlatform(K)});if(y){var F=this.satisfies(_[y]);if(F!==void 0)return F}}if(T>0){var I=Object.keys(C),U=c.default.find(I,function(K){return S.isBrowser(K,!0)});if(U!==void 0)return this.compareVersion(C[U])}},w.isBrowser=function(R,S){S===void 0&&(S=!1);var _=this.getBrowserName().toLowerCase(),v=R.toLowerCase(),C=c.default.getBrowserTypeByAlias(v);return S&&C&&(v=C.toLowerCase()),v===_},w.compareVersion=function(R){var S=[0],_=R,v=!1,C=this.getBrowserVersion();if(typeof C=="string")return R[0]===">"||R[0]==="<"?(_=R.substr(1),R[1]==="="?(v=!0,_=R.substr(2)):S=[],R[0]===">"?S.push(1):S.push(-1)):R[0]==="="?_=R.substr(1):R[0]==="~"&&(v=!0,_=R.substr(1)),S.indexOf(c.default.compareVersions(C,_,v))>-1},w.isOS=function(R){return this.getOSName(!0)===String(R).toLowerCase()},w.isPlatform=function(R){return this.getPlatformType(!0)===String(R).toLowerCase()},w.isEngine=function(R){return this.getEngineName(!0)===String(R).toLowerCase()},w.is=function(R,S){return S===void 0&&(S=!1),this.isBrowser(R,S)||this.isOS(R)||this.isPlatform(R)},w.some=function(R){var S=this;return R===void 0&&(R=[]),R.some(function(_){return S.is(_)})},h}();t.default=d,n.exports=t.default},92:function(n,t,s){t.__esModule=!0,t.default=void 0;var i,a=(i=s(17))&&i.__esModule?i:{default:i},u=/version\/(\d+(\.?_?\d+)+)/i,p=[{test:[/googlebot/i],describe:function(c){var f={name:"Googlebot"},d=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/opera/i],describe:function(c){var f={name:"Opera"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/opr\/|opios/i],describe:function(c){var f={name:"Opera"},d=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/SamsungBrowser/i],describe:function(c){var f={name:"Samsung Internet for Android"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/Whale/i],describe:function(c){var f={name:"NAVER Whale Browser"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/MZBrowser/i],describe:function(c){var f={name:"MZ Browser"},d=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/focus/i],describe:function(c){var f={name:"Focus"},d=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/swing/i],describe:function(c){var f={name:"Swing"},d=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/coast/i],describe:function(c){var f={name:"Opera Coast"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(c){var f={name:"Opera Touch"},d=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/yabrowser/i],describe:function(c){var f={name:"Yandex Browser"},d=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/ucbrowser/i],describe:function(c){var f={name:"UC Browser"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/Maxthon|mxios/i],describe:function(c){var f={name:"Maxthon"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/epiphany/i],describe:function(c){var f={name:"Epiphany"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/puffin/i],describe:function(c){var f={name:"Puffin"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/sleipnir/i],describe:function(c){var f={name:"Sleipnir"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/k-meleon/i],describe:function(c){var f={name:"K-Meleon"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/micromessenger/i],describe:function(c){var f={name:"WeChat"},d=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/qqbrowser/i],describe:function(c){var f={name:/qqbrowserlite/i.test(c)?"QQ Browser Lite":"QQ Browser"},d=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/msie|trident/i],describe:function(c){var f={name:"Internet Explorer"},d=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/\sedg\//i],describe:function(c){var f={name:"Microsoft Edge"},d=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/edg([ea]|ios)/i],describe:function(c){var f={name:"Microsoft Edge"},d=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/vivaldi/i],describe:function(c){var f={name:"Vivaldi"},d=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/seamonkey/i],describe:function(c){var f={name:"SeaMonkey"},d=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/sailfish/i],describe:function(c){var f={name:"Sailfish"},d=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,c);return d&&(f.version=d),f}},{test:[/silk/i],describe:function(c){var f={name:"Amazon Silk"},d=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/phantom/i],describe:function(c){var f={name:"PhantomJS"},d=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/slimerjs/i],describe:function(c){var f={name:"SlimerJS"},d=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var f={name:"BlackBerry"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var f={name:"WebOS Browser"},d=a.default.getFirstMatch(u,c)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/bada/i],describe:function(c){var f={name:"Bada"},d=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/tizen/i],describe:function(c){var f={name:"Tizen"},d=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/qupzilla/i],describe:function(c){var f={name:"QupZilla"},d=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/firefox|iceweasel|fxios/i],describe:function(c){var f={name:"Firefox"},d=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/electron/i],describe:function(c){var f={name:"Electron"},d=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/MiuiBrowser/i],describe:function(c){var f={name:"Miui"},d=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/chromium/i],describe:function(c){var f={name:"Chromium"},d=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,c)||a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/chrome|crios|crmo/i],describe:function(c){var f={name:"Chrome"},d=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/GSA/i],describe:function(c){var f={name:"Google Search"},d=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:function(c){var f=!c.test(/like android/i),d=c.test(/android/i);return f&&d},describe:function(c){var f={name:"Android Browser"},d=a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/playstation 4/i],describe:function(c){var f={name:"PlayStation 4"},d=a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/safari|applewebkit/i],describe:function(c){var f={name:"Safari"},d=a.default.getFirstMatch(u,c);return d&&(f.version=d),f}},{test:[/.*/i],describe:function(c){var f=c.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(f,c),version:a.default.getSecondMatch(f,c)}}}];t.default=p,n.exports=t.default},93:function(n,t,s){t.__esModule=!0,t.default=void 0;var i,a=(i=s(17))&&i.__esModule?i:{default:i},u=s(18),p=[{test:[/Roku\/DVP/],describe:function(c){var f=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,c);return{name:u.OS_MAP.Roku,version:f}}},{test:[/windows phone/i],describe:function(c){var f=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,c);return{name:u.OS_MAP.WindowsPhone,version:f}}},{test:[/windows /i],describe:function(c){var f=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,c),d=a.default.getWindowsVersionName(f);return{name:u.OS_MAP.Windows,version:f,versionName:d}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(c){var f={name:u.OS_MAP.iOS},d=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,c);return d&&(f.version=d),f}},{test:[/macintosh/i],describe:function(c){var f=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,c).replace(/[_\s]/g,"."),d=a.default.getMacOSVersionName(f),h={name:u.OS_MAP.MacOS,version:f};return d&&(h.versionName=d),h}},{test:[/(ipod|iphone|ipad)/i],describe:function(c){var f=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,c).replace(/[_\s]/g,".");return{name:u.OS_MAP.iOS,version:f}}},{test:function(c){var f=!c.test(/like android/i),d=c.test(/android/i);return f&&d},describe:function(c){var f=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,c),d=a.default.getAndroidVersionName(f),h={name:u.OS_MAP.Android,version:f};return d&&(h.versionName=d),h}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var f=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,c),d={name:u.OS_MAP.WebOS};return f&&f.length&&(d.version=f),d}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var f=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,c)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,c)||a.default.getFirstMatch(/\bbb(\d+)/i,c);return{name:u.OS_MAP.BlackBerry,version:f}}},{test:[/bada/i],describe:function(c){var f=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,c);return{name:u.OS_MAP.Bada,version:f}}},{test:[/tizen/i],describe:function(c){var f=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,c);return{name:u.OS_MAP.Tizen,version:f}}},{test:[/linux/i],describe:function(){return{name:u.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:u.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(c){var f=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,c);return{name:u.OS_MAP.PlayStation4,version:f}}}];t.default=p,n.exports=t.default},94:function(n,t,s){t.__esModule=!0,t.default=void 0;var i,a=(i=s(17))&&i.__esModule?i:{default:i},u=s(18),p=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(c){var f=a.default.getFirstMatch(/(can-l01)/i,c)&&"Nova",d={type:u.PLATFORMS_MAP.mobile,vendor:"Huawei"};return f&&(d.model=f),d}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:u.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:u.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:u.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:u.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:u.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:u.PLATFORMS_MAP.tablet}}},{test:function(c){var f=c.test(/ipod|iphone/i),d=c.test(/like (ipod|iphone)/i);return f&&!d},describe:function(c){var f=a.default.getFirstMatch(/(ipod|iphone)/i,c);return{type:u.PLATFORMS_MAP.mobile,vendor:"Apple",model:f}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:u.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:u.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName(!0)==="blackberry"},describe:function(){return{type:u.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(c){return c.getBrowserName(!0)==="bada"},describe:function(){return{type:u.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName()==="windows phone"},describe:function(){return{type:u.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(c){var f=Number(String(c.getOSVersion()).split(".")[0]);return c.getOSName(!0)==="android"&&f>=3},describe:function(){return{type:u.PLATFORMS_MAP.tablet}}},{test:function(c){return c.getOSName(!0)==="android"},describe:function(){return{type:u.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getOSName(!0)==="macos"},describe:function(){return{type:u.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(c){return c.getOSName(!0)==="windows"},describe:function(){return{type:u.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="linux"},describe:function(){return{type:u.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="playstation 4"},describe:function(){return{type:u.PLATFORMS_MAP.tv}}},{test:function(c){return c.getOSName(!0)==="roku"},describe:function(){return{type:u.PLATFORMS_MAP.tv}}}];t.default=p,n.exports=t.default},95:function(n,t,s){t.__esModule=!0,t.default=void 0;var i,a=(i=s(17))&&i.__esModule?i:{default:i},u=s(18),p=[{test:function(c){return c.getBrowserName(!0)==="microsoft edge"},describe:function(c){if(/\sedg\//i.test(c))return{name:u.ENGINE_MAP.Blink};var f=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,c);return{name:u.ENGINE_MAP.EdgeHTML,version:f}}},{test:[/trident/i],describe:function(c){var f={name:u.ENGINE_MAP.Trident},d=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:function(c){return c.test(/presto/i)},describe:function(c){var f={name:u.ENGINE_MAP.Presto},d=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:function(c){var f=c.test(/gecko/i),d=c.test(/like gecko/i);return f&&!d},describe:function(c){var f={name:u.ENGINE_MAP.Gecko},d=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:u.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(c){var f={name:u.ENGINE_MAP.WebKit},d=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,c);return d&&(f.version=d),f}}];t.default=p,n.exports=t.default}})})}(mh)),mh.exports}var Sc={},k0;function gn(){if(k0)return Sc;k0=1;var r=Sc&&Sc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Logger=void 0;const e=r(sp()),n="mediasoup-client";class t{constructor(i){i?(this._debug=(0,e.default)(`${n}:${i}`),this._warn=(0,e.default)(`${n}:WARN:${i}`),this._error=(0,e.default)(`${n}:ERROR:${i}`)):(this._debug=(0,e.default)(n),this._warn=(0,e.default)(`${n}:WARN`),this._error=(0,e.default)(`${n}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Sc.Logger=t,Sc}var Ou={},Zf={exports:{}},x0;function kL(){if(x0)return Zf.exports;x0=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(k,N,y){return Function.prototype.apply.call(k,N,y)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:n=function(k){return Object.getOwnPropertyNames(k)};function t(M){console&&console.warn&&console.warn(M)}var s=Number.isNaN||function(k){return k!==k};function i(){i.init.call(this)}Zf.exports=i,Zf.exports.once=v,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function u(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(M){if(typeof M!="number"||M<0||s(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");a=M}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||s(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function p(M){return M._maxListeners===void 0?i.defaultMaxListeners:M._maxListeners}i.prototype.getMaxListeners=function(){return p(this)},i.prototype.emit=function(k){for(var N=[],y=1;y<arguments.length;y++)N.push(arguments[y]);var F=k==="error",I=this._events;if(I!==void 0)F=F&&I.error===void 0;else if(!F)return!1;if(F){var U;if(N.length>0&&(U=N[0]),U instanceof Error)throw U;var K=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw K.context=U,K}var Q=I[k];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,N);else for(var oe=Q.length,Z=R(Q,oe),y=0;y<oe;++y)e(Z[y],this,N);return!0};function c(M,k,N,y){var F,I,U;if(u(N),I=M._events,I===void 0?(I=M._events=Object.create(null),M._eventsCount=0):(I.newListener!==void 0&&(M.emit("newListener",k,N.listener?N.listener:N),I=M._events),U=I[k]),U===void 0)U=I[k]=N,++M._eventsCount;else if(typeof U=="function"?U=I[k]=y?[N,U]:[U,N]:y?U.unshift(N):U.push(N),F=p(M),F>0&&U.length>F&&!U.warned){U.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=M,K.type=k,K.count=U.length,t(K)}return M}i.prototype.addListener=function(k,N){return c(this,k,N,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(k,N){return c(this,k,N,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(M,k,N){var y={fired:!1,wrapFn:void 0,target:M,type:k,listener:N},F=f.bind(y);return F.listener=N,y.wrapFn=F,F}i.prototype.once=function(k,N){return u(N),this.on(k,d(this,k,N)),this},i.prototype.prependOnceListener=function(k,N){return u(N),this.prependListener(k,d(this,k,N)),this},i.prototype.removeListener=function(k,N){var y,F,I,U,K;if(u(N),F=this._events,F===void 0)return this;if(y=F[k],y===void 0)return this;if(y===N||y.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete F[k],F.removeListener&&this.emit("removeListener",k,y.listener||N));else if(typeof y!="function"){for(I=-1,U=y.length-1;U>=0;U--)if(y[U]===N||y[U].listener===N){K=y[U].listener,I=U;break}if(I<0)return this;I===0?y.shift():S(y,I),y.length===1&&(F[k]=y[0]),F.removeListener!==void 0&&this.emit("removeListener",k,K||N)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(k){var N,y,F;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[k]),this;if(arguments.length===0){var I=Object.keys(y),U;for(F=0;F<I.length;++F)U=I[F],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=y[k],typeof N=="function")this.removeListener(k,N);else if(N!==void 0)for(F=N.length-1;F>=0;F--)this.removeListener(k,N[F]);return this};function h(M,k,N){var y=M._events;if(y===void 0)return[];var F=y[k];return F===void 0?[]:typeof F=="function"?N?[F.listener||F]:[F]:N?_(F):R(F,F.length)}i.prototype.listeners=function(k){return h(this,k,!0)},i.prototype.rawListeners=function(k){return h(this,k,!1)},i.listenerCount=function(M,k){return typeof M.listenerCount=="function"?M.listenerCount(k):w.call(M,k)},i.prototype.listenerCount=w;function w(M){var k=this._events;if(k!==void 0){var N=k[M];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function R(M,k){for(var N=new Array(k),y=0;y<k;++y)N[y]=M[y];return N}function S(M,k){for(;k+1<M.length;k++)M[k]=M[k+1];M.pop()}function _(M){for(var k=new Array(M.length),N=0;N<k.length;++N)k[N]=M[N].listener||M[N];return k}function v(M,k){return new Promise(function(N,y){function F(U){M.removeListener(k,I),y(U)}function I(){typeof M.removeListener=="function"&&M.removeListener("error",F),N([].slice.call(arguments))}T(M,k,I,{once:!0}),k!=="error"&&C(M,F,{once:!0})})}function C(M,k,N){typeof M.on=="function"&&T(M,"error",k,N)}function T(M,k,N,y){if(typeof M.on=="function")y.once?M.once(k,N):M.on(k,N);else if(typeof M.addEventListener=="function")M.addEventListener(k,function F(I){y.once&&M.removeEventListener(k,F),N(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Zf.exports}var E0;function zc(){if(E0)return Ou;E0=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.EnhancedEventEmitter=void 0;const r=kL(),e=gn(),n=new e.Logger("EnhancedEventEmitter");let t=class extends r.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(i,...a){return super.emit(i,...a)}safeEmit(i,...a){const u=super.listenerCount(i);try{return super.emit(i,...a)}catch(p){return n.error("safeEmit() | event listener threw an error [eventName:%s]:%o",i,p),!!u}}on(i,a){return super.on(i,a),this}off(i,a){return super.off(i,a),this}addListener(i,a){return super.on(i,a),this}prependListener(i,a){return super.prependListener(i,a),this}once(i,a){return super.once(i,a),this}prependOnceListener(i,a){return super.prependOnceListener(i,a),this}removeListener(i,a){return super.off(i,a),this}removeAllListeners(i){return super.removeAllListeners(i),this}listenerCount(i){return super.listenerCount(i)}listeners(i){return super.listeners(i)}rawListeners(i){return super.rawListeners(i)}};return Ou.EnhancedEventEmitter=t,Ou}var Cc={},T0;function No(){if(T0)return Cc;T0=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.InvalidStateError=Cc.UnsupportedError=void 0;class r extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(t).stack}}Cc.UnsupportedError=r;class e extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(t).stack}}return Cc.InvalidStateError=e,Cc}var kc={},R0;function Jn(){if(R0)return kc;R0=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.generateRandomNumber=kc.clone=void 0;function r(n,t){return typeof n>"u"?t:JSON.parse(JSON.stringify(n))}kc.clone=r;function e(){return Math.round(Math.random()*1e7)}return kc.generateRandomNumber=e,kc}var yt={},Bg={},P0;function xL(){return P0||(P0=1,function(r){const e=sp()("h264-profile-level-id");e.log=console.info.bind(console);const n=1,t=2,s=3,i=4,a=5;r.ProfileConstrainedBaseline=n,r.ProfileBaseline=t,r.ProfileMain=s,r.ProfileConstrainedHigh=i,r.ProfileHigh=a;const u=0,p=10,c=11,f=12,d=13,h=20,w=21,R=22,S=30,_=31,v=32,C=40,T=41,M=42,k=50,N=51,y=52;r.Level1_b=u,r.Level1=p,r.Level1_1=c,r.Level1_2=f,r.Level1_3=d,r.Level2=h,r.Level2_1=w,r.Level2_2=R,r.Level3=S,r.Level3_1=_,r.Level3_2=v,r.Level4=C,r.Level4_1=T,r.Level4_2=M,r.Level5=k,r.Level5_1=N,r.Level5_2=y;class F{constructor(ce,ve){this.profile=ce,this.level=ve}}r.ProfileLevelId=F;const I=new F(n,_),U=16;class K{constructor(ce){this._mask=~Z("x",ce),this._maskedValue=Z("1",ce)}isMatch(ce){return this._maskedValue===(ce&this._mask)}}class Q{constructor(ce,ve,fe){this.profile_idc=ce,this.profile_iop=ve,this.profile=fe}}const oe=[new Q(66,new K("x1xx0000"),n),new Q(77,new K("1xxx0000"),n),new Q(88,new K("11xx0000"),n),new Q(66,new K("x0xx0000"),t),new Q(88,new K("10xx0000"),t),new Q(77,new K("0x0x0000"),s),new Q(100,new K("00000000"),a),new Q(100,new K("00001100"),i)];r.parseProfileLevelId=function(ee){if(typeof ee!="string"||ee.length!==6)return null;const ce=parseInt(ee,16);if(ce===0)return null;const ve=ce&255,fe=ce>>8&255,ke=ce>>16&255;let Re;switch(ve){case c:{Re=(fe&U)!==0?u:c;break}case p:case f:case d:case h:case w:case R:case S:case _:case v:case C:case T:case M:case k:case N:case y:{Re=ve;break}default:return e("parseProfileLevelId() | unrecognized level_idc:%s",ve),null}for(const Ue of oe)if(ke===Ue.profile_idc&&Ue.profile_iop.isMatch(fe))return new F(Ue.profile,Re);return e("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},r.profileLevelIdToString=function(ee){if(ee.level==u)switch(ee.profile){case n:return"42f00b";case t:return"42100b";case s:return"4d100b";default:return e("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",ee.profile),null}let ce;switch(ee.profile){case n:{ce="42e0";break}case t:{ce="4200";break}case s:{ce="4d00";break}case i:{ce="640c";break}case a:{ce="6400";break}default:return e("profileLevelIdToString() | unrecognized profile:%s",ee.profile),null}let ve=ee.level.toString(16);return ve.length===1&&(ve=`0${ve}`),`${ce}${ve}`},r.parseSdpProfileLevelId=function(ee={}){const ce=ee["profile-level-id"];return ce?r.parseProfileLevelId(ce):I},r.isSameProfile=function(ee={},ce={}){const ve=r.parseSdpProfileLevelId(ee),fe=r.parseSdpProfileLevelId(ce);return!!(ve&&fe&&ve.profile===fe.profile)},r.generateProfileLevelIdForAnswer=function(ee={},ce={}){if(!ee["profile-level-id"]&&!ce["profile-level-id"])return e("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const ve=r.parseSdpProfileLevelId(ee),fe=r.parseSdpProfileLevelId(ce);if(!ve)throw new TypeError("invalid local_profile_level_id");if(!fe)throw new TypeError("invalid remote_profile_level_id");if(ve.profile!==fe.profile)throw new TypeError("H264 Profile mismatch");const ke=q(ee)&&q(ce),Re=ve.level,Ue=fe.level,qe=ye(Re,Ue),Je=ke?Re:qe;return e("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",ve.profile,Je),r.profileLevelIdToString(new F(ve.profile,Je))};function Z(ee,ce){return(ce[0]===ee)<<7|(ce[1]===ee)<<6|(ce[2]===ee)<<5|(ce[3]===ee)<<4|(ce[4]===ee)<<3|(ce[5]===ee)<<2|(ce[6]===ee)<<1|(ce[7]===ee)<<0}function de(ee,ce){return ee===u?ce!==p&&ce!==u:ce===u?ee!==p:ee<ce}function ye(ee,ce){return de(ee,ce)?ee:ce}function q(ee={}){const ce=ee["level-asymmetry-allowed"];return ce===1||ce==="1"}}(Bg)),Bg}var O0;function Yi(){if(O0)return yt;O0=1;var r=yt&&yt.__createBinding||(Object.create?function(q,ee,ce,ve){ve===void 0&&(ve=ce);var fe=Object.getOwnPropertyDescriptor(ee,ce);(!fe||("get"in fe?!ee.__esModule:fe.writable||fe.configurable))&&(fe={enumerable:!0,get:function(){return ee[ce]}}),Object.defineProperty(q,ve,fe)}:function(q,ee,ce,ve){ve===void 0&&(ve=ce),q[ve]=ee[ce]}),e=yt&&yt.__setModuleDefault||(Object.create?function(q,ee){Object.defineProperty(q,"default",{enumerable:!0,value:ee})}:function(q,ee){q.default=ee}),n=yt&&yt.__importStar||function(q){if(q&&q.__esModule)return q;var ee={};if(q!=null)for(var ce in q)ce!=="default"&&Object.prototype.hasOwnProperty.call(q,ce)&&r(ee,q,ce);return e(ee,q),ee};Object.defineProperty(yt,"__esModule",{value:!0}),yt.canReceive=yt.canSend=yt.generateProbatorRtpParameters=yt.reduceCodecs=yt.getSendingRemoteRtpParameters=yt.getSendingRtpParameters=yt.getRecvRtpCapabilities=yt.getExtendedRtpCapabilities=yt.validateSctpStreamParameters=yt.validateSctpParameters=yt.validateNumSctpStreams=yt.validateSctpCapabilities=yt.validateRtcpParameters=yt.validateRtpEncodingParameters=yt.validateRtpHeaderExtensionParameters=yt.validateRtpCodecParameters=yt.validateRtpParameters=yt.validateRtpHeaderExtension=yt.validateRtcpFeedback=yt.validateRtpCodecCapability=yt.validateRtpCapabilities=void 0;const t=n(xL()),s=n(Jn()),i="probator",a=1234,u=127;function p(q){if(typeof q!="object")throw new TypeError("caps is not an object");if(q.codecs&&!Array.isArray(q.codecs))throw new TypeError("caps.codecs is not an array");q.codecs||(q.codecs=[]);for(const ee of q.codecs)c(ee);if(q.headerExtensions&&!Array.isArray(q.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");q.headerExtensions||(q.headerExtensions=[]);for(const ee of q.headerExtensions)d(ee)}yt.validateRtpCapabilities=p;function c(q){const ee=new RegExp("^(audio|video)/(.+)","i");if(typeof q!="object")throw new TypeError("codec is not an object");if(!q.mimeType||typeof q.mimeType!="string")throw new TypeError("missing codec.mimeType");const ce=ee.exec(q.mimeType);if(!ce)throw new TypeError("invalid codec.mimeType");if(q.kind=ce[1].toLowerCase(),q.preferredPayloadType&&typeof q.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof q.clockRate!="number")throw new TypeError("missing codec.clockRate");q.kind==="audio"?typeof q.channels!="number"&&(q.channels=1):delete q.channels,(!q.parameters||typeof q.parameters!="object")&&(q.parameters={});for(const ve of Object.keys(q.parameters)){let fe=q.parameters[ve];if(fe===void 0&&(q.parameters[ve]="",fe=""),typeof fe!="string"&&typeof fe!="number")throw new TypeError(`invalid codec parameter [key:${ve}s, value:${fe}]`);if(ve==="apt"&&typeof fe!="number")throw new TypeError("invalid codec apt parameter")}(!q.rtcpFeedback||!Array.isArray(q.rtcpFeedback))&&(q.rtcpFeedback=[]);for(const ve of q.rtcpFeedback)f(ve)}yt.validateRtpCodecCapability=c;function f(q){if(typeof q!="object")throw new TypeError("fb is not an object");if(!q.type||typeof q.type!="string")throw new TypeError("missing fb.type");(!q.parameter||typeof q.parameter!="string")&&(q.parameter="")}yt.validateRtcpFeedback=f;function d(q){if(typeof q!="object")throw new TypeError("ext is not an object");if(q.kind!=="audio"&&q.kind!=="video")throw new TypeError("invalid ext.kind");if(!q.uri||typeof q.uri!="string")throw new TypeError("missing ext.uri");if(typeof q.preferredId!="number")throw new TypeError("missing ext.preferredId");if(q.preferredEncrypt&&typeof q.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(q.preferredEncrypt||(q.preferredEncrypt=!1),q.direction&&typeof q.direction!="string")throw new TypeError("invalid ext.direction");q.direction||(q.direction="sendrecv")}yt.validateRtpHeaderExtension=d;function h(q){if(typeof q!="object")throw new TypeError("params is not an object");if(q.mid&&typeof q.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(q.codecs))throw new TypeError("missing params.codecs");for(const ee of q.codecs)w(ee);if(q.headerExtensions&&!Array.isArray(q.headerExtensions))throw new TypeError("params.headerExtensions is not an array");q.headerExtensions||(q.headerExtensions=[]);for(const ee of q.headerExtensions)R(ee);if(q.encodings&&!Array.isArray(q.encodings))throw new TypeError("params.encodings is not an array");q.encodings||(q.encodings=[]);for(const ee of q.encodings)S(ee);if(q.rtcp&&typeof q.rtcp!="object")throw new TypeError("params.rtcp is not an object");q.rtcp||(q.rtcp={}),_(q.rtcp)}yt.validateRtpParameters=h;function w(q){const ee=new RegExp("^(audio|video)/(.+)","i");if(typeof q!="object")throw new TypeError("codec is not an object");if(!q.mimeType||typeof q.mimeType!="string")throw new TypeError("missing codec.mimeType");const ce=ee.exec(q.mimeType);if(!ce)throw new TypeError("invalid codec.mimeType");if(typeof q.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof q.clockRate!="number")throw new TypeError("missing codec.clockRate");ce[1].toLowerCase()==="audio"?typeof q.channels!="number"&&(q.channels=1):delete q.channels,(!q.parameters||typeof q.parameters!="object")&&(q.parameters={});for(const fe of Object.keys(q.parameters)){let ke=q.parameters[fe];if(ke===void 0&&(q.parameters[fe]="",ke=""),typeof ke!="string"&&typeof ke!="number")throw new TypeError(`invalid codec parameter [key:${fe}s, value:${ke}]`);if(fe==="apt"&&typeof ke!="number")throw new TypeError("invalid codec apt parameter")}(!q.rtcpFeedback||!Array.isArray(q.rtcpFeedback))&&(q.rtcpFeedback=[]);for(const fe of q.rtcpFeedback)f(fe)}yt.validateRtpCodecParameters=w;function R(q){if(typeof q!="object")throw new TypeError("ext is not an object");if(!q.uri||typeof q.uri!="string")throw new TypeError("missing ext.uri");if(typeof q.id!="number")throw new TypeError("missing ext.id");if(q.encrypt&&typeof q.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");q.encrypt||(q.encrypt=!1),(!q.parameters||typeof q.parameters!="object")&&(q.parameters={});for(const ee of Object.keys(q.parameters)){let ce=q.parameters[ee];if(ce===void 0&&(q.parameters[ee]="",ce=""),typeof ce!="string"&&typeof ce!="number")throw new TypeError("invalid header extension parameter")}}yt.validateRtpHeaderExtensionParameters=R;function S(q){if(typeof q!="object")throw new TypeError("encoding is not an object");if(q.ssrc&&typeof q.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(q.rid&&typeof q.rid!="string")throw new TypeError("invalid encoding.rid");if(q.rtx&&typeof q.rtx!="object")throw new TypeError("invalid encoding.rtx");if(q.rtx&&typeof q.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!q.dtx||typeof q.dtx!="boolean")&&(q.dtx=!1),q.scalabilityMode&&typeof q.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}yt.validateRtpEncodingParameters=S;function _(q){if(typeof q!="object")throw new TypeError("rtcp is not an object");if(q.cname&&typeof q.cname!="string")throw new TypeError("invalid rtcp.cname");(!q.reducedSize||typeof q.reducedSize!="boolean")&&(q.reducedSize=!0)}yt.validateRtcpParameters=_;function v(q){if(typeof q!="object")throw new TypeError("caps is not an object");if(!q.numStreams||typeof q.numStreams!="object")throw new TypeError("missing caps.numStreams");C(q.numStreams)}yt.validateSctpCapabilities=v;function C(q){if(typeof q!="object")throw new TypeError("numStreams is not an object");if(typeof q.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof q.MIS!="number")throw new TypeError("missing numStreams.MIS")}yt.validateNumSctpStreams=C;function T(q){if(typeof q!="object")throw new TypeError("params is not an object");if(typeof q.port!="number")throw new TypeError("missing params.port");if(typeof q.OS!="number")throw new TypeError("missing params.OS");if(typeof q.MIS!="number")throw new TypeError("missing params.MIS");if(typeof q.maxMessageSize!="number")throw new TypeError("missing params.maxMessageSize")}yt.validateSctpParameters=T;function M(q){if(typeof q!="object")throw new TypeError("params is not an object");if(typeof q.streamId!="number")throw new TypeError("missing params.streamId");let ee=!1;if(typeof q.ordered=="boolean"?ee=!0:q.ordered=!0,q.maxPacketLifeTime&&typeof q.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(q.maxRetransmits&&typeof q.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(q.maxPacketLifeTime&&q.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(ee&&q.ordered&&(q.maxPacketLifeTime||q.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!ee&&(q.maxPacketLifeTime||q.maxRetransmits)&&(q.ordered=!1),q.label&&typeof q.label!="string")throw new TypeError("invalid params.label");if(q.protocol&&typeof q.protocol!="string")throw new TypeError("invalid params.protocol")}yt.validateSctpStreamParameters=M;function k(q,ee){const ce={codecs:[],headerExtensions:[]};for(const ve of ee.codecs||[]){if(oe(ve))continue;const fe=(q.codecs||[]).find(Re=>Z(Re,ve,{strict:!0,modify:!0}));if(!fe)continue;const ke={mimeType:fe.mimeType,kind:fe.kind,clockRate:fe.clockRate,channels:fe.channels,localPayloadType:fe.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:ve.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:fe.parameters,remoteParameters:ve.parameters,rtcpFeedback:ye(fe,ve)};ce.codecs.push(ke)}for(const ve of ce.codecs){const fe=q.codecs.find(Re=>oe(Re)&&Re.parameters.apt===ve.localPayloadType),ke=ee.codecs.find(Re=>oe(Re)&&Re.parameters.apt===ve.remotePayloadType);fe&&ke&&(ve.localRtxPayloadType=fe.preferredPayloadType,ve.remoteRtxPayloadType=ke.preferredPayloadType)}for(const ve of ee.headerExtensions){const fe=q.headerExtensions.find(Re=>de(Re,ve));if(!fe)continue;const ke={kind:ve.kind,uri:ve.uri,sendId:fe.preferredId,recvId:ve.preferredId,encrypt:fe.preferredEncrypt,direction:"sendrecv"};switch(ve.direction){case"sendrecv":ke.direction="sendrecv";break;case"recvonly":ke.direction="sendonly";break;case"sendonly":ke.direction="recvonly";break;case"inactive":ke.direction="inactive";break}ce.headerExtensions.push(ke)}return ce}yt.getExtendedRtpCapabilities=k;function N(q){const ee={codecs:[],headerExtensions:[]};for(const ce of q.codecs){const ve={mimeType:ce.mimeType,kind:ce.kind,preferredPayloadType:ce.remotePayloadType,clockRate:ce.clockRate,channels:ce.channels,parameters:ce.localParameters,rtcpFeedback:ce.rtcpFeedback};if(ee.codecs.push(ve),!ce.remoteRtxPayloadType)continue;const fe={mimeType:`${ce.kind}/rtx`,kind:ce.kind,preferredPayloadType:ce.remoteRtxPayloadType,clockRate:ce.clockRate,parameters:{apt:ce.remotePayloadType},rtcpFeedback:[]};ee.codecs.push(fe)}for(const ce of q.headerExtensions){if(ce.direction!=="sendrecv"&&ce.direction!=="recvonly")continue;const ve={kind:ce.kind,uri:ce.uri,preferredId:ce.recvId,preferredEncrypt:ce.encrypt,direction:ce.direction};ee.headerExtensions.push(ve)}return ee}yt.getRecvRtpCapabilities=N;function y(q,ee){const ce={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const ve of ee.codecs){if(ve.kind!==q)continue;const fe={mimeType:ve.mimeType,payloadType:ve.localPayloadType,clockRate:ve.clockRate,channels:ve.channels,parameters:ve.localParameters,rtcpFeedback:ve.rtcpFeedback};if(ce.codecs.push(fe),ve.localRtxPayloadType){const ke={mimeType:`${ve.kind}/rtx`,payloadType:ve.localRtxPayloadType,clockRate:ve.clockRate,parameters:{apt:ve.localPayloadType},rtcpFeedback:[]};ce.codecs.push(ke)}}for(const ve of ee.headerExtensions){if(ve.kind&&ve.kind!==q||ve.direction!=="sendrecv"&&ve.direction!=="sendonly")continue;const fe={uri:ve.uri,id:ve.sendId,encrypt:ve.encrypt,parameters:{}};ce.headerExtensions.push(fe)}return ce}yt.getSendingRtpParameters=y;function F(q,ee){const ce={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const ve of ee.codecs){if(ve.kind!==q)continue;const fe={mimeType:ve.mimeType,payloadType:ve.localPayloadType,clockRate:ve.clockRate,channels:ve.channels,parameters:ve.remoteParameters,rtcpFeedback:ve.rtcpFeedback};if(ce.codecs.push(fe),ve.localRtxPayloadType){const ke={mimeType:`${ve.kind}/rtx`,payloadType:ve.localRtxPayloadType,clockRate:ve.clockRate,parameters:{apt:ve.localPayloadType},rtcpFeedback:[]};ce.codecs.push(ke)}}for(const ve of ee.headerExtensions){if(ve.kind&&ve.kind!==q||ve.direction!=="sendrecv"&&ve.direction!=="sendonly")continue;const fe={uri:ve.uri,id:ve.sendId,encrypt:ve.encrypt,parameters:{}};ce.headerExtensions.push(fe)}if(ce.headerExtensions.some(ve=>ve.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const ve of ce.codecs)ve.rtcpFeedback=(ve.rtcpFeedback||[]).filter(fe=>fe.type!=="goog-remb");else if(ce.headerExtensions.some(ve=>ve.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const ve of ce.codecs)ve.rtcpFeedback=(ve.rtcpFeedback||[]).filter(fe=>fe.type!=="transport-cc");else for(const ve of ce.codecs)ve.rtcpFeedback=(ve.rtcpFeedback||[]).filter(fe=>fe.type!=="transport-cc"&&fe.type!=="goog-remb");return ce}yt.getSendingRemoteRtpParameters=F;function I(q,ee){const ce=[];if(!ee)ce.push(q[0]),oe(q[1])&&ce.push(q[1]);else{for(let ve=0;ve<q.length;++ve)if(Z(q[ve],ee)){ce.push(q[ve]),oe(q[ve+1])&&ce.push(q[ve+1]);break}if(ce.length===0)throw new TypeError("no matching codec found")}return ce}yt.reduceCodecs=I;function U(q){q=s.clone(q,{}),h(q);const ee={mid:i,codecs:[],headerExtensions:[],encodings:[{ssrc:a}],rtcp:{cname:"probator"}};return ee.codecs.push(q.codecs[0]),ee.codecs[0].payloadType=u,ee.headerExtensions=q.headerExtensions,ee}yt.generateProbatorRtpParameters=U;function K(q,ee){return ee.codecs.some(ce=>ce.kind===q)}yt.canSend=K;function Q(q,ee){if(h(q),q.codecs.length===0)return!1;const ce=q.codecs[0];return ee.codecs.some(ve=>ve.remotePayloadType===ce.payloadType)}yt.canReceive=Q;function oe(q){return q?/.+\/rtx$/i.test(q.mimeType):!1}function Z(q,ee,{strict:ce=!1,modify:ve=!1}={}){const fe=q.mimeType.toLowerCase(),ke=ee.mimeType.toLowerCase();if(fe!==ke||q.clockRate!==ee.clockRate||q.channels!==ee.channels)return!1;switch(fe){case"video/h264":{if(ce){const Re=q.parameters["packetization-mode"]||0,Ue=ee.parameters["packetization-mode"]||0;if(Re!==Ue||!t.isSameProfile(q.parameters,ee.parameters))return!1;let qe;try{qe=t.generateProfileLevelIdForAnswer(q.parameters,ee.parameters)}catch{return!1}ve&&(qe?(q.parameters["profile-level-id"]=qe,ee.parameters["profile-level-id"]=qe):(delete q.parameters["profile-level-id"],delete ee.parameters["profile-level-id"]))}break}case"video/vp9":{if(ce){const Re=q.parameters["profile-id"]||0,Ue=ee.parameters["profile-id"]||0;if(Re!==Ue)return!1}break}}return!0}function de(q,ee){return!(q.kind&&ee.kind&&q.kind!==ee.kind||q.uri!==ee.uri)}function ye(q,ee){const ce=[];for(const ve of q.rtcpFeedback||[]){const fe=(ee.rtcpFeedback||[]).find(ke=>ke.type===ve.type&&(ke.parameter===ve.parameter||!ke.parameter&&!ve.parameter));fe&&ce.push(fe)}return ce}return yt}var Ui={},ta={},xc={},D0;function EL(){if(D0)return xc;D0=1;var r=xc&&xc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(xc,"__esModule",{value:!0}),xc.Logger=void 0;const e=r(sp()),n="awaitqueue";let t=class{constructor(i){i?(this._debug=(0,e.default)(`${n}:${i}`),this._warn=(0,e.default)(`${n}:WARN:${i}`),this._error=(0,e.default)(`${n}:ERROR:${i}`)):(this._debug=(0,e.default)(n),this._warn=(0,e.default)(`${n}:WARN`),this._error=(0,e.default)(`${n}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return xc.Logger=t,xc}var M0;function TL(){if(M0)return ta;M0=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.AwaitQueue=ta.AwaitQueueRemovedTaskError=ta.AwaitQueueStoppedError=void 0;const r=EL(),e=new r.Logger;class n extends Error{constructor(a){super(a??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}ta.AwaitQueueStoppedError=n;class t extends Error{constructor(a){super(a??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}}ta.AwaitQueueRemovedTaskError=t;class s{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(a,u){if(u=u??a.name,e.debug(`push() [name:${u}]`),typeof a!="function")throw new TypeError("given task is not a function");if(u)try{Object.defineProperty(a,"name",{value:u})}catch{}return new Promise((p,c)=>{const f={id:this.nextTaskId++,task:a,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:d=>{if(f.completed)return;f.completed=!0,this.pendingTasks.delete(f.id),e.debug(`resolving task [name:${f.name}]`),p(d);const[h]=this.pendingTasks.values();h&&!h.executedAt&&this.execute(h)},reject:d=>{if(!f.completed&&(f.completed=!0,this.pendingTasks.delete(f.id),e.debug(`rejecting task [name:${f.name}]: %s`,String(d)),c(d),!this.stopping)){const[h]=this.pendingTasks.values();h&&!h.executedAt&&this.execute(h)}}};this.pendingTasks.set(f.id,f),this.pendingTasks.size===1&&this.execute(f)})}stop(){e.debug("stop()"),this.stopping=!0;for(const a of this.pendingTasks.values())e.debug(`stop() | stopping task [name:${a.name}]`),a.reject(new n);this.stopping=!1}remove(a){e.debug(`remove() [taskIdx:${a}]`);const u=Array.from(this.pendingTasks.values())[a];if(!u){e.debug(`stop() | no task with given idx [taskIdx:${a}]`);return}u.reject(new t)}dump(){const a=Date.now();let u=0;return Array.from(this.pendingTasks.values()).map(p=>({idx:u++,task:p.task,name:p.name,enqueuedTime:p.executedAt?p.executedAt-p.enqueuedAt:a-p.enqueuedAt,executionTime:p.executedAt?a-p.executedAt:0}))}async execute(a){if(e.debug(`execute() [name:${a.name}]`),a.executedAt)throw new Error("task already being executed");a.executedAt=Date.now();try{const u=await a.task();a.resolve(u)}catch(u){a.reject(u)}}}return ta.AwaitQueue=s,ta}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var $g,A0;function RL(){if(A0)return $g;A0=1;let r;return $g=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Zu):e=>(r||(r=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),$g}var Du={},j0;function B1(){if(j0)return Du;j0=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.Producer=void 0;const r=gn(),e=zc(),n=No(),t=new r.Logger("Producer");let s=class extends e.EnhancedEventEmitter{constructor({id:a,localId:u,rtpSender:p,track:c,rtpParameters:f,stopTracks:d,disableTrackOnPause:h,zeroRtpOnPause:w,appData:R}){super(),this._closed=!1,this._observer=new e.EnhancedEventEmitter,t.debug("constructor()"),this._id=a,this._localId=u,this._rtpSender=p,this._track=c,this._kind=c.kind,this._rtpParameters=f,this._paused=h?!c.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=d,this._disableTrackOnPause=h,this._zeroRtpOnPause=w,this._appData=R||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(a){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(t.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(t.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new n.InvalidStateError("closed");return new Promise((a,u)=>{this.safeEmit("@getstats",a,u)})}pause(){if(t.debug("pause()"),this._closed){t.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((a,u)=>{this.safeEmit("@pause",a,u)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(t.debug("resume()"),this._closed){t.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((a,u)=>{this.safeEmit("@resume",a,u)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:a}){if(t.debug("replaceTrack() [track:%o]",a),this._closed){if(a&&this._stopTracks)try{a.stop()}catch{}throw new n.InvalidStateError("closed")}else if(a&&a.readyState==="ended")throw new n.InvalidStateError("track ended");if(a===this._track){t.debug("replaceTrack() | same track, ignored");return}await new Promise((u,p)=>{this.safeEmit("@replacetrack",a,u,p)}),this.destroyTrack(),this._track=a,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(a){if(this._closed)throw new n.InvalidStateError("closed");if(this._kind!=="video")throw new n.UnsupportedError("not a video Producer");if(typeof a!="number")throw new TypeError("invalid spatialLayer");a!==this._maxSpatialLayer&&(await new Promise((u,p)=>{this.safeEmit("@setmaxspatiallayer",a,u,p)}).catch(()=>{}),this._maxSpatialLayer=a)}async setRtpEncodingParameters(a){if(this._closed)throw new n.InvalidStateError("closed");if(typeof a!="object")throw new TypeError("invalid params");await new Promise((u,p)=>{this.safeEmit("@setrtpencodingparameters",a,u,p)})}onTrackEnded(){t.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Du.Producer=s,Du}var Mu={},L0;function $1(){if(L0)return Mu;L0=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Consumer=void 0;const r=gn(),e=zc(),n=No(),t=new r.Logger("Consumer");class s extends e.EnhancedEventEmitter{constructor({id:a,localId:u,producerId:p,rtpReceiver:c,track:f,rtpParameters:d,appData:h}){super(),this._closed=!1,this._observer=new e.EnhancedEventEmitter,t.debug("constructor()"),this._id=a,this._localId=u,this._producerId=p,this._rtpReceiver=c,this._track=f,this._rtpParameters=d,this._paused=!f.enabled,this._appData=h||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(a){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(t.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(t.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new n.InvalidStateError("closed");return new Promise((a,u)=>{this.safeEmit("@getstats",a,u)})}pause(){if(t.debug("pause()"),this._closed){t.error("pause() | Consumer closed");return}if(this._paused){t.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(t.debug("resume()"),this._closed){t.error("resume() | Consumer closed");return}if(!this._paused){t.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){t.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}return Mu.Consumer=s,Mu}var Au={},N0;function U1(){if(N0)return Au;N0=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.DataProducer=void 0;const r=gn(),e=zc(),n=No(),t=new r.Logger("DataProducer");let s=class extends e.EnhancedEventEmitter{constructor({id:a,dataChannel:u,sctpStreamParameters:p,appData:c}){super(),this._closed=!1,this._observer=new e.EnhancedEventEmitter,t.debug("constructor()"),this._id=a,this._dataChannel=u,this._sctpStreamParameters=p,this._appData=c||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(a){this._dataChannel.bufferedAmountLowThreshold=a}get appData(){return this._appData}set appData(a){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(t.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(t.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(a){if(t.debug("send()"),this._closed)throw new n.InvalidStateError("closed");this._dataChannel.send(a)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(t.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:u}=a;u||(u=new Error("unknown DataChannel error")),u.errorDetail==="sctp-failure"?t.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",u.sctpCauseCode,u.message):t.error('DataChannel "error" event: %o',u),this.safeEmit("error",u)}),this._dataChannel.addEventListener("close",()=>{this._closed||(t.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||t.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Au.DataProducer=s,Au}var ju={},I0;function q1(){if(I0)return ju;I0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.DataConsumer=void 0;const r=gn(),e=zc(),n=new r.Logger("DataConsumer");let t=class extends e.EnhancedEventEmitter{constructor({id:i,dataProducerId:a,dataChannel:u,sctpStreamParameters:p,appData:c}){super(),this._closed=!1,this._observer=new e.EnhancedEventEmitter,n.debug("constructor()"),this._id=i,this._dataProducerId=a,this._dataChannel=u,this._sctpStreamParameters=p,this._appData=c||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(i){this._dataChannel.binaryType=i}get appData(){return this._appData}set appData(i){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",i=>{if(this._closed)return;let{error:a}=i;a||(a=new Error("unknown DataChannel error")),a.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",a.sctpCauseCode,a.message):n.error('DataChannel "error" event: %o',a),this.safeEmit("error",a)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",i=>{this._closed||this.safeEmit("message",i.data)})}};return ju.DataConsumer=t,ju}var F0;function H1(){if(F0)return Ui;F0=1;var r=Ui&&Ui.__createBinding||(Object.create?function(C,T,M,k){k===void 0&&(k=M);var N=Object.getOwnPropertyDescriptor(T,M);(!N||("get"in N?!T.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return T[M]}}),Object.defineProperty(C,k,N)}:function(C,T,M,k){k===void 0&&(k=M),C[k]=T[M]}),e=Ui&&Ui.__setModuleDefault||(Object.create?function(C,T){Object.defineProperty(C,"default",{enumerable:!0,value:T})}:function(C,T){C.default=T}),n=Ui&&Ui.__importStar||function(C){if(C&&C.__esModule)return C;var T={};if(C!=null)for(var M in C)M!=="default"&&Object.prototype.hasOwnProperty.call(C,M)&&r(T,C,M);return e(T,C),T},t=Ui&&Ui.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.Transport=void 0;const s=TL(),i=t(RL()),a=gn(),u=zc(),p=No(),c=n(Jn()),f=n(Yi()),d=B1(),h=$1(),w=U1(),R=q1(),S=new a.Logger("Transport");class _{constructor(T){this.consumerOptions=T,this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}}let v=class extends u.EnhancedEventEmitter{constructor({direction:T,id:M,iceParameters:k,iceCandidates:N,dtlsParameters:y,sctpParameters:F,iceServers:I,iceTransportPolicy:U,additionalSettings:K,proprietaryConstraints:Q,appData:oe,handlerFactory:Z,extendedRtpCapabilities:de,canProduceByKind:ye}){super(),this._closed=!1,this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new s.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new u.EnhancedEventEmitter,S.debug("constructor() [id:%s, direction:%s]",M,T),this._id=M,this._direction=T,this._extendedRtpCapabilities=de,this._canProduceByKind=ye,this._maxSctpMessageSize=F?F.maxMessageSize:null,K=c.clone(K,{}),delete K.iceServers,delete K.iceTransportPolicy,delete K.bundlePolicy,delete K.rtcpMuxPolicy,delete K.sdpSemantics,this._handler=Z(),this._handler.run({direction:T,iceParameters:k,iceCandidates:N,dtlsParameters:y,sctpParameters:F,iceServers:I,iceTransportPolicy:U,additionalSettings:K,proprietaryConstraints:Q,extendedRtpCapabilities:de}),this._appData=oe||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(T){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){if(!this._closed){S.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close();for(const T of this._producers.values())T.transportClosed();this._producers.clear();for(const T of this._consumers.values())T.transportClosed();this._consumers.clear();for(const T of this._dataProducers.values())T.transportClosed();this._dataProducers.clear();for(const T of this._dataConsumers.values())T.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new p.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:T}){if(S.debug("restartIce()"),this._closed)throw new p.InvalidStateError("closed");if(!T)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>this._handler.restartIce(T),"transport.restartIce()")}async updateIceServers({iceServers:T}={}){if(S.debug("updateIceServers()"),this._closed)throw new p.InvalidStateError("closed");if(!Array.isArray(T))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(T),"transport.updateIceServers()")}async produce({track:T,encodings:M,codecOptions:k,codec:N,stopTracks:y=!0,disableTrackOnPause:F=!0,zeroRtpOnPause:I=!1,appData:U={}}={}){if(S.debug("produce() [track:%o]",T),this._closed)throw new p.InvalidStateError("closed");if(T){if(this._direction!=="send")throw new p.UnsupportedError("not a sending Transport");if(this._canProduceByKind[T.kind]){if(T.readyState==="ended")throw new p.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(U&&typeof U!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError(`cannot produce ${T.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let K;if(M&&!Array.isArray(M))throw TypeError("encodings must be an array");M&&M.length===0?K=void 0:M&&(K=M.map(de=>{const ye={active:!0};return de.active===!1&&(ye.active=!1),typeof de.dtx=="boolean"&&(ye.dtx=de.dtx),typeof de.scalabilityMode=="string"&&(ye.scalabilityMode=de.scalabilityMode),typeof de.scaleResolutionDownBy=="number"&&(ye.scaleResolutionDownBy=de.scaleResolutionDownBy),typeof de.maxBitrate=="number"&&(ye.maxBitrate=de.maxBitrate),typeof de.maxFramerate=="number"&&(ye.maxFramerate=de.maxFramerate),typeof de.adaptivePtime=="boolean"&&(ye.adaptivePtime=de.adaptivePtime),typeof de.priority=="string"&&(ye.priority=de.priority),typeof de.networkPriority=="string"&&(ye.networkPriority=de.networkPriority),ye}));const{localId:Q,rtpParameters:oe,rtpSender:Z}=await this._handler.send({track:T,encodings:K,codecOptions:k,codec:N});try{f.validateRtpParameters(oe);const{id:de}=await new Promise((q,ee)=>{this.safeEmit("produce",{kind:T.kind,rtpParameters:oe,appData:U},q,ee)}),ye=new d.Producer({id:de,localId:Q,rtpSender:Z,track:T,rtpParameters:oe,stopTracks:y,disableTrackOnPause:F,zeroRtpOnPause:I,appData:U});return this._producers.set(ye.id,ye),this.handleProducer(ye),this._observer.safeEmit("newproducer",ye),ye}catch(de){throw this._handler.stopSending(Q).catch(()=>{}),de}},"transport.produce()").catch(K=>{if(y)try{T.stop()}catch{}throw K})}async consume({id:T,producerId:M,kind:k,rtpParameters:N,streamId:y,appData:F={}}){if(S.debug("consume()"),N=c.clone(N,void 0),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="recv")throw new p.UnsupportedError("not a receiving Transport");if(typeof T!="string")throw new TypeError("missing id");if(typeof M!="string")throw new TypeError("missing producerId");if(k!=="audio"&&k!=="video")throw new TypeError(`invalid kind '${k}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(F&&typeof F!="object")throw new TypeError("if given, appData must be an object");if(!f.canReceive(N,this._extendedRtpCapabilities))throw new p.UnsupportedError("cannot consume this Producer");const U=new _({id:T,producerId:M,kind:k,rtpParameters:N,streamId:y,appData:F});return this._pendingConsumerTasks.push(U),(0,i.default)(()=>{if(this._closed)throw new p.InvalidStateError("closed");this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),U.promise}async produceData({ordered:T=!0,maxPacketLifeTime:M,maxRetransmits:k,label:N="",protocol:y="",appData:F={}}={}){if(S.debug("produceData()"),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="send")throw new p.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(F&&typeof F!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError("SCTP not enabled by remote Transport");return(M||k)&&(T=!1),this._awaitQueue.push(async()=>{const{dataChannel:I,sctpStreamParameters:U}=await this._handler.sendDataChannel({ordered:T,maxPacketLifeTime:M,maxRetransmits:k,label:N,protocol:y});f.validateSctpStreamParameters(U);const{id:K}=await new Promise((oe,Z)=>{this.safeEmit("producedata",{sctpStreamParameters:U,label:N,protocol:y,appData:F},oe,Z)}),Q=new w.DataProducer({id:K,dataChannel:I,sctpStreamParameters:U,appData:F});return this._dataProducers.set(Q.id,Q),this.handleDataProducer(Q),this._observer.safeEmit("newdataproducer",Q),Q},"transport.produceData()")}async consumeData({id:T,dataProducerId:M,sctpStreamParameters:k,label:N="",protocol:y="",appData:F={}}){if(S.debug("consumeData()"),k=c.clone(k,void 0),this._closed)throw new p.InvalidStateError("closed");if(this._direction!=="recv")throw new p.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof T!="string")throw new TypeError("missing id");if(typeof M!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(F&&typeof F!="object")throw new TypeError("if given, appData must be an object")}else throw new p.UnsupportedError("SCTP not enabled by remote Transport");return f.validateSctpStreamParameters(k),this._awaitQueue.push(async()=>{const{dataChannel:I}=await this._handler.receiveDataChannel({sctpStreamParameters:k,label:N,protocol:y}),U=new R.DataConsumer({id:T,dataProducerId:M,dataChannel:I,sctpStreamParameters:k,appData:F});return this._dataConsumers.set(U.id,U),this.handleDataConsumer(U),this._observer.safeEmit("newdataconsumer",U),U},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){S.debug("createPendingConsumers() | there is no Consumer to be created");return}const T=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let M;const k=[];for(const N of T){const{id:y,kind:F,rtpParameters:I,streamId:U}=N.consumerOptions;k.push({trackId:y,kind:F,rtpParameters:I,streamId:U})}try{const N=await this._handler.receive(k);for(let y=0;y<N.length;y++){const F=T[y],I=N[y],{id:U,producerId:K,kind:Q,rtpParameters:oe,appData:Z}=F.consumerOptions,{localId:de,rtpReceiver:ye,track:q}=I,ee=new h.Consumer({id:U,localId:de,producerId:K,rtpReceiver:ye,track:q,rtpParameters:oe,appData:Z});this._consumers.set(ee.id,ee),this.handleConsumer(ee),!this._probatorConsumerCreated&&!M&&Q==="video"&&(M=ee),this._observer.safeEmit("newconsumer",ee),F.resolve(ee)}}catch(N){for(const y of T)y.reject(N)}if(M)try{const N=f.generateProbatorRtpParameters(M.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:N}]),S.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(N){S.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",N)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){S.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const T=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const M=T.map(k=>k.localId);await this._handler.pauseReceiving(M)}catch(M){S.error("pausePendingConsumers() | failed to pause Consumers:",M)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){S.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const T=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const M=T.map(k=>k.localId);await this._handler.resumeReceiving(M)}catch(M){S.error("resumePendingConsumers() | failed to resume Consumers:",M)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){S.debug("closePendingConsumers() | there is no Consumer to be closed");return}const T=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(T.map(M=>M.localId))}catch(M){S.error("closePendingConsumers() | failed to close Consumers:",M)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const T=this._handler;T.on("@connect",({dtlsParameters:M},k,N)=>{if(this._closed){N(new p.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:M},k,N)}),T.on("@connectionstatechange",M=>{M!==this._connectionState&&(S.debug("connection state changed to %s",M),this._connectionState=M,this._closed||this.safeEmit("connectionstatechange",M))})}handleProducer(T){T.on("@close",()=>{this._producers.delete(T.id),!this._closed&&this._awaitQueue.push(async()=>this._handler.stopSending(T.localId),"producer @close event").catch(M=>S.warn("producer.close() failed:%o",M))}),T.on("@pause",(M,k)=>{this._awaitQueue.push(async()=>this._handler.pauseSending(T.localId),"producer @pause event").then(M).catch(k)}),T.on("@resume",(M,k)=>{this._awaitQueue.push(async()=>this._handler.resumeSending(T.localId),"producer @resume event").then(M).catch(k)}),T.on("@replacetrack",(M,k,N)=>{this._awaitQueue.push(async()=>this._handler.replaceTrack(T.localId,M),"producer @replacetrack event").then(k).catch(N)}),T.on("@setmaxspatiallayer",(M,k,N)=>{this._awaitQueue.push(async()=>this._handler.setMaxSpatialLayer(T.localId,M),"producer @setmaxspatiallayer event").then(k).catch(N)}),T.on("@setrtpencodingparameters",(M,k,N)=>{this._awaitQueue.push(async()=>this._handler.setRtpEncodingParameters(T.localId,M),"producer @setrtpencodingparameters event").then(k).catch(N)}),T.on("@getstats",(M,k)=>{if(this._closed)return k(new p.InvalidStateError("closed"));this._handler.getSenderStats(T.localId).then(M).catch(k)})}handleConsumer(T){T.on("@close",()=>{this._consumers.delete(T.id),this._pendingPauseConsumers.delete(T.id),this._pendingResumeConsumers.delete(T.id),!this._closed&&(this._pendingCloseConsumers.set(T.id,T),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),T.on("@pause",()=>{this._pendingResumeConsumers.has(T.id)&&this._pendingResumeConsumers.delete(T.id),this._pendingPauseConsumers.set(T.id,T),(0,i.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),T.on("@resume",()=>{this._pendingPauseConsumers.has(T.id)&&this._pendingPauseConsumers.delete(T.id),this._pendingResumeConsumers.set(T.id,T),(0,i.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),T.on("@getstats",(M,k)=>{if(this._closed)return k(new p.InvalidStateError("closed"));this._handler.getReceiverStats(T.localId).then(M).catch(k)})}handleDataProducer(T){T.on("@close",()=>{this._dataProducers.delete(T.id)})}handleDataConsumer(T){T.on("@close",()=>{this._dataConsumers.delete(T.id)})}};return Ui.Transport=v,Ui}var Ns={},xo={},Ug={},qg={exports:{}},B0;function V1(){if(B0)return qg.exports;B0=1;var r=qg.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=e.raddr!=null?" raddr %s rport %d":"%v%v",n+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(n+=" generation %d"),n+=e["network-id"]!=null?" network-id %d":"%v",n+=e["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var n="ssrc:%d";return e.attribute!=null&&(n+=" %s",e.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var n="mediaclk:";return n+=e.id!=null?"id=%s %s":"%v%s",n+=e.mediaClockValue!=null?"=%s":"",n+=e.rateNumerator!=null?" rate=%s":"",n+=e.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(r).forEach(function(e){var n=r[e];n.forEach(function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")})}),qg.exports}var $0;function PL(){return $0||($0=1,function(r){var e=function(u){return String(Number(u))===u?Number(u):u},n=function(u,p,c,f){if(f&&!c)p[f]=e(u[1]);else for(var d=0;d<c.length;d+=1)u[d+1]!=null&&(p[c[d]]=e(u[d+1]))},t=function(u,p,c){var f=u.name&&u.names;u.push&&!p[u.push]?p[u.push]=[]:f&&!p[u.name]&&(p[u.name]={});var d=u.push?{}:f?p[u.name]:p;n(c.match(u.reg),d,u.names,u.name),u.push&&p[u.push].push(d)},s=V1(),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);r.parse=function(u){var p={},c=[],f=p;return u.split(/(\r\n|\r|\n)/).filter(i).forEach(function(d){var h=d[0],w=d.slice(2);h==="m"&&(c.push({rtp:[],fmtp:[]}),f=c[c.length-1]);for(var R=0;R<(s[h]||[]).length;R+=1){var S=s[h][R];if(S.reg.test(w))return t(S,f,w)}}),p.media=c,p};var a=function(u,p){var c=p.split(/=(.+)/,2);return c.length===2?u[c[0]]=e(c[1]):c.length===1&&p.length>1&&(u[c[0]]=void 0),u};r.parseParams=function(u){return u.split(/;\s?/).reduce(a,{})},r.parseFmtpConfig=r.parseParams,r.parsePayloads=function(u){return u.toString().split(" ").map(Number)},r.parseRemoteCandidates=function(u){for(var p=[],c=u.split(" ").map(e),f=0;f<c.length;f+=3)p.push({component:c[f],ip:c[f+1],port:c[f+2]});return p},r.parseImageAttributes=function(u){return u.split(" ").map(function(p){return p.substring(1,p.length-1).split(",").reduce(a,{})})},r.parseSimulcastStreamList=function(u){return u.split(";").map(function(p){return p.split(",").map(function(c){var f,d=!1;return c[0]!=="~"?f=e(c):(f=e(c.substring(1,c.length)),d=!0),{scid:f,paused:d}})})}}(Ug)),Ug}var Hg,U0;function OL(){if(U0)return Hg;U0=1;var r=V1(),e=/%[sdv%]/g,n=function(a){var u=1,p=arguments,c=p.length;return a.replace(e,function(f){if(u>=c)return f;var d=p[u];switch(u+=1,f){case"%%":return"%";case"%s":return String(d);case"%d":return Number(d);case"%v":return""}})},t=function(a,u,p){var c=u.format instanceof Function?u.format(u.push?p:p[u.name]):u.format,f=[a+"="+c];if(u.names)for(var d=0;d<u.names.length;d+=1){var h=u.names[d];u.name?f.push(p[u.name][h]):f.push(p[u.names[d]])}else f.push(p[u.name]);return n.apply(null,f)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],i=["i","c","b","a"];return Hg=function(a,u){u=u||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(d){d.payloads==null&&(d.payloads="")});var p=u.outerOrder||s,c=u.innerOrder||i,f=[];return p.forEach(function(d){r[d].forEach(function(h){h.name in a&&a[h.name]!=null?f.push(t(d,h,a)):h.push in a&&a[h.push]!=null&&a[h.push].forEach(function(w){f.push(t(d,h,w))})})}),a.media.forEach(function(d){f.push(t("m",r.m[0],d)),c.forEach(function(h){r[h].forEach(function(w){w.name in d&&d[w.name]!=null?f.push(t(h,w,d)):w.push in d&&d[w.push]!=null&&d[w.push].forEach(function(R){f.push(t(h,w,R))})})})}),f.join(`\r
`)+`\r
`},Hg}var q0;function Ki(){if(q0)return xo;q0=1;var r=PL(),e=OL();return xo.write=e,xo.parse=r.parse,xo.parseParams=r.parseParams,xo.parseFmtpConfig=r.parseFmtpConfig,xo.parsePayloads=r.parsePayloads,xo.parseRemoteCandidates=r.parseRemoteCandidates,xo.parseImageAttributes=r.parseImageAttributes,xo.parseSimulcastStreamList=r.parseSimulcastStreamList,xo}var In={},H0;function Io(){if(H0)return In;H0=1;var r=In&&In.__createBinding||(Object.create?function(p,c,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(c,f);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(p,d,h)}:function(p,c,f,d){d===void 0&&(d=f),p[d]=c[f]}),e=In&&In.__setModuleDefault||(Object.create?function(p,c){Object.defineProperty(p,"default",{enumerable:!0,value:c})}:function(p,c){p.default=c}),n=In&&In.__importStar||function(p){if(p&&p.__esModule)return p;var c={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&r(c,p,f);return e(c,p),c};Object.defineProperty(In,"__esModule",{value:!0}),In.applyCodecParameters=In.getCname=In.extractDtlsParameters=In.extractRtpCapabilities=void 0;const t=n(Ki());function s({sdpObject:p}){const c=new Map,f=[];let d=!1,h=!1;for(const R of p.media){const S=R.type;switch(S){case"audio":{if(d)continue;d=!0;break}case"video":{if(h)continue;h=!0;break}default:continue}for(const _ of R.rtp){const v={kind:S,mimeType:`${S}/${_.codec}`,preferredPayloadType:_.payload,clockRate:_.rate,channels:_.encoding,parameters:{},rtcpFeedback:[]};c.set(v.preferredPayloadType,v)}for(const _ of R.fmtp||[]){const v=t.parseParams(_.config),C=c.get(_.payload);C&&(v&&v.hasOwnProperty("profile-level-id")&&(v["profile-level-id"]=String(v["profile-level-id"])),C.parameters=v)}for(const _ of R.rtcpFb||[]){const v={type:_.type,parameter:_.subtype};if(v.parameter||delete v.parameter,_.payload!=="*"){const C=c.get(_.payload);if(!C)continue;C.rtcpFeedback.push(v)}else for(const C of c.values())C.kind===S&&!/.+\/rtx$/i.test(C.mimeType)&&C.rtcpFeedback.push(v)}for(const _ of R.ext||[]){if(_["encrypt-uri"])continue;const v={kind:S,uri:_.uri,preferredId:_.value};f.push(v)}}return{codecs:Array.from(c.values()),headerExtensions:f}}In.extractRtpCapabilities=s;function i({sdpObject:p}){const c=(p.media||[]).find(w=>w.iceUfrag&&w.port!==0);if(!c)throw new Error("no active media section found");const f=c.fingerprint||p.fingerprint;let d;switch(c.setup){case"active":d="client";break;case"passive":d="server";break;case"actpass":d="auto";break}return{role:d,fingerprints:[{algorithm:f.type,value:f.hash}]}}In.extractDtlsParameters=i;function a({offerMediaObject:p}){const c=(p.ssrcs||[]).find(f=>f.attribute==="cname");return c?c.value:""}In.getCname=a;function u({offerRtpParameters:p,answerMediaObject:c}){for(const f of p.codecs){const d=f.mimeType.toLowerCase();if(d!=="audio/opus"||!(c.rtp||[]).find(S=>S.payload===f.payloadType))continue;c.fmtp=c.fmtp||[];let w=c.fmtp.find(S=>S.payload===f.payloadType);w||(w={payload:f.payloadType,config:""},c.fmtp.push(w));const R=t.parseParams(w.config);switch(d){case"audio/opus":{const S=f.parameters["sprop-stereo"];S!==void 0&&(R.stereo=S?1:0);break}}w.config="";for(const S of Object.keys(R))w.config&&(w.config+=";"),w.config+=`${S}=${R[S]}`}}return In.applyCodecParameters=u,In}var Ec={},V0;function Ul(){if(V0)return Ec;V0=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.addLegacySimulcast=Ec.getRtpEncodings=void 0;function r({offerMediaObject:n}){const t=new Set;for(const a of n.ssrcs||[]){const u=a.id;t.add(u)}if(t.size===0)throw new Error("no a=ssrc lines found");const s=new Map;for(const a of n.ssrcGroups||[]){if(a.semantics!=="FID")continue;let[u,p]=a.ssrcs.split(/\s+/);u=Number(u),p=Number(p),t.has(u)&&(t.delete(u),t.delete(p),s.set(u,p))}for(const a of t)s.set(a,null);const i=[];for(const[a,u]of s){const p={ssrc:a};u&&(p.rtx={ssrc:u}),i.push(p)}return i}Ec.getRtpEncodings=r;function e({offerMediaObject:n,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const s=(n.ssrcs||[]).find(w=>w.attribute==="msid");if(!s)throw new Error("a=ssrc line with msid information not found");const[i,a]=s.value.split(" "),u=s.id;let p;(n.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const R=w.ssrcs.split(/\s+/);return Number(R[0])===u?(p=Number(R[1]),!0):!1});const c=n.ssrcs.find(w=>w.attribute==="cname");if(!c)throw new Error("a=ssrc line with cname information not found");const f=c.value,d=[],h=[];for(let w=0;w<t;++w)d.push(u+w),p&&h.push(p+w);n.ssrcGroups=[],n.ssrcs=[],n.ssrcGroups.push({semantics:"SIM",ssrcs:d.join(" ")});for(let w=0;w<d.length;++w){const R=d[w];n.ssrcs.push({id:R,attribute:"cname",value:f}),n.ssrcs.push({id:R,attribute:"msid",value:`${i} ${a}`})}for(let w=0;w<h.length;++w){const R=d[w],S=h[w];n.ssrcs.push({id:S,attribute:"cname",value:f}),n.ssrcs.push({id:S,attribute:"msid",value:`${i} ${a}`}),n.ssrcGroups.push({semantics:"FID",ssrcs:`${R} ${S}`})}}return Ec.addLegacySimulcast=e,Ec}var Lu={},z0;function fs(){if(z0)return Lu;z0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.HandlerInterface=void 0;const r=zc();let e=class extends r.EnhancedEventEmitter{constructor(){super()}};return Lu.HandlerInterface=e,Lu}var Is={},li={},W0;function DL(){if(W0)return li;W0=1;var r=li&&li.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var w=Object.getOwnPropertyDescriptor(f,d);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,w)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),e=li&&li.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),n=li&&li.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&r(f,c,d);return e(f,c),f};Object.defineProperty(li,"__esModule",{value:!0}),li.OfferMediaSection=li.AnswerMediaSection=li.MediaSection=void 0;const t=n(Ki()),s=n(Jn());let i=class{constructor({iceParameters:f,iceCandidates:d,dtlsParameters:h,planB:w=!1}){if(this._mediaObject={},this._planB=w,f&&this.setIceParameters(f),d){this._mediaObject.candidates=[];for(const R of d){const S={};S.component=1,S.foundation=R.foundation,S.ip=R.ip,S.port=R.port,S.priority=R.priority,S.transport=R.protocol,S.type=R.type,R.tcpType&&(S.tcptype=R.tcpType),this._mediaObject.candidates.push(S)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}h&&this.setDtlsRole(h.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(f){this._mediaObject.iceUfrag=f.usernameFragment,this._mediaObject.icePwd=f.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};li.MediaSection=i;class a extends i{constructor({iceParameters:f,iceCandidates:d,dtlsParameters:h,sctpParameters:w,plainRtpParameters:R,planB:S=!1,offerMediaObject:_,offerRtpParameters:v,answerRtpParameters:C,codecOptions:T,extmapAllowMixed:M=!1}){switch(super({iceParameters:f,iceCandidates:d,dtlsParameters:h,planB:S}),this._mediaObject.mid=String(_.mid),this._mediaObject.type=_.type,this._mediaObject.protocol=_.protocol,R?(this._mediaObject.connection={ip:R.ip,version:R.ipVersion},this._mediaObject.port=R.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),_.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const k of C.codecs){const N={payload:k.payloadType,codec:p(k),rate:k.clockRate};k.channels>1&&(N.encoding=k.channels),this._mediaObject.rtp.push(N);const y=s.clone(k.parameters,{});if(T){const{opusStereo:I,opusFec:U,opusDtx:K,opusMaxPlaybackRate:Q,opusMaxAverageBitrate:oe,opusPtime:Z,videoGoogleStartBitrate:de,videoGoogleMaxBitrate:ye,videoGoogleMinBitrate:q}=T,ee=v.codecs.find(ce=>ce.payloadType===k.payloadType);switch(k.mimeType.toLowerCase()){case"audio/opus":{I!==void 0&&(ee.parameters["sprop-stereo"]=I?1:0,y.stereo=I?1:0),U!==void 0&&(ee.parameters.useinbandfec=U?1:0,y.useinbandfec=U?1:0),K!==void 0&&(ee.parameters.usedtx=K?1:0,y.usedtx=K?1:0),Q!==void 0&&(y.maxplaybackrate=Q),oe!==void 0&&(y.maxaveragebitrate=oe),Z!==void 0&&(ee.parameters.ptime=Z,y.ptime=Z);break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{de!==void 0&&(y["x-google-start-bitrate"]=de),ye!==void 0&&(y["x-google-max-bitrate"]=ye),q!==void 0&&(y["x-google-min-bitrate"]=q);break}}}const F={payload:k.payloadType,config:""};for(const I of Object.keys(y))F.config&&(F.config+=";"),F.config+=`${I}=${y[I]}`;F.config&&this._mediaObject.fmtp.push(F);for(const I of k.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:k.payloadType,type:I.type,subtype:I.parameter})}this._mediaObject.payloads=C.codecs.map(k=>k.payloadType).join(" "),this._mediaObject.ext=[];for(const k of C.headerExtensions)(_.ext||[]).some(y=>y.uri===k.uri)&&this._mediaObject.ext.push({uri:k.uri,value:k.id});if(M&&_.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),_.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:_.simulcast.list1},this._mediaObject.rids=[];for(const k of _.rids||[])k.direction==="send"&&this._mediaObject.rids.push({id:k.id,direction:"recv"})}else if(_.simulcast_03){this._mediaObject.simulcast_03={value:_.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const k of _.rids||[])k.direction==="send"&&this._mediaObject.rids.push({id:k.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof _.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize):_.sctpmap&&(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize});break}}}setDtlsRole(f){switch(f){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass";break}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(f){var d;if(!this._mediaObject.simulcast||!this._mediaObject.simulcast.list1)return;const h={};for(const S of f)S.rid&&(h[S.rid]=S);const w=this._mediaObject.simulcast.list1,R=t.parseSimulcastStreamList(w);for(const S of R)for(const _ of S)_.paused=!(!((d=h[_.scid])===null||d===void 0)&&d.active);this._mediaObject.simulcast.list1=R.map(S=>S.map(_=>`${_.paused?"~":""}${_.scid}`).join(",")).join(";")}}li.AnswerMediaSection=a;class u extends i{constructor({iceParameters:f,iceCandidates:d,dtlsParameters:h,sctpParameters:w,plainRtpParameters:R,planB:S=!1,mid:_,kind:v,offerRtpParameters:C,streamId:T,trackId:M,oldDataChannelSpec:k=!1}){switch(super({iceParameters:f,iceCandidates:d,dtlsParameters:h,planB:S}),this._mediaObject.mid=String(_),this._mediaObject.type=v,R?(this._mediaObject.connection={ip:R.ip,version:R.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=R.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},w?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),v){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${T||"-"} ${M}`);for(const I of C.codecs){const U={payload:I.payloadType,codec:p(I),rate:I.clockRate};I.channels>1&&(U.encoding=I.channels),this._mediaObject.rtp.push(U);const K={payload:I.payloadType,config:""};for(const Q of Object.keys(I.parameters))K.config&&(K.config+=";"),K.config+=`${Q}=${I.parameters[Q]}`;K.config&&this._mediaObject.fmtp.push(K);for(const Q of I.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:I.payloadType,type:Q.type,subtype:Q.parameter})}this._mediaObject.payloads=C.codecs.map(I=>I.payloadType).join(" "),this._mediaObject.ext=[];for(const I of C.headerExtensions)this._mediaObject.ext.push({uri:I.uri,value:I.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const N=C.encodings[0],y=N.ssrc,F=N.rtx&&N.rtx.ssrc?N.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],C.rtcp.cname&&this._mediaObject.ssrcs.push({id:y,attribute:"cname",value:C.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:y,attribute:"msid",value:`${T||"-"} ${M}`}),F&&(C.rtcp.cname&&this._mediaObject.ssrcs.push({id:F,attribute:"cname",value:C.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:F,attribute:"msid",value:`${T||"-"} ${M}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${y} ${F}`}));break}case"application":{k?(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize);break}}}setDtlsRole(f){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:f,streamId:d,trackId:h}){const w=f.encodings[0],R=w.ssrc,S=w.rtx&&w.rtx.ssrc?w.rtx.ssrc:void 0,_=this._mediaObject.payloads.split(" ");for(const v of f.codecs){if(_.includes(String(v.payloadType)))continue;const C={payload:v.payloadType,codec:p(v),rate:v.clockRate};v.channels>1&&(C.encoding=v.channels),this._mediaObject.rtp.push(C);const T={payload:v.payloadType,config:""};for(const M of Object.keys(v.parameters))T.config&&(T.config+=";"),T.config+=`${M}=${v.parameters[M]}`;T.config&&this._mediaObject.fmtp.push(T);for(const M of v.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:v.payloadType,type:M.type,subtype:M.parameter})}this._mediaObject.payloads+=` ${f.codecs.filter(v=>!this._mediaObject.payloads.includes(v.payloadType)).map(v=>v.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),f.rtcp.cname&&this._mediaObject.ssrcs.push({id:R,attribute:"cname",value:f.rtcp.cname}),this._mediaObject.ssrcs.push({id:R,attribute:"msid",value:`${d||"-"} ${h}`}),S&&(f.rtcp.cname&&this._mediaObject.ssrcs.push({id:S,attribute:"cname",value:f.rtcp.cname}),this._mediaObject.ssrcs.push({id:S,attribute:"msid",value:`${d||"-"} ${h}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${R} ${S}`}))}planBStopReceiving({offerRtpParameters:f}){const d=f.encodings[0],h=d.ssrc,w=d.rtx&&d.rtx.ssrc?d.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(R=>R.id!==h&&R.id!==w),w&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(R=>R.ssrcs!==`${h} ${w}`))}}li.OfferMediaSection=u;function p(c){const d=new RegExp("^(audio|video)/(.+)","i").exec(c.mimeType);if(!d)throw new TypeError("invalid codec.mimeType");return d[2]}return li}var Y0;function Fo(){if(Y0)return Is;Y0=1;var r=Is&&Is.__createBinding||(Object.create?function(p,c,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(c,f);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(p,d,h)}:function(p,c,f,d){d===void 0&&(d=f),p[d]=c[f]}),e=Is&&Is.__setModuleDefault||(Object.create?function(p,c){Object.defineProperty(p,"default",{enumerable:!0,value:c})}:function(p,c){p.default=c}),n=Is&&Is.__importStar||function(p){if(p&&p.__esModule)return p;var c={};if(p!=null)for(var f in p)f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)&&r(c,p,f);return e(c,p),c};Object.defineProperty(Is,"__esModule",{value:!0}),Is.RemoteSdp=void 0;const t=n(Ki()),s=gn(),i=DL(),a=new s.Logger("RemoteSdp");let u=class{constructor({iceParameters:c,iceCandidates:f,dtlsParameters:d,sctpParameters:h,plainRtpParameters:w,planB:R=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=c,this._iceCandidates=f,this._dtlsParameters=d,this._sctpParameters=h,this._plainRtpParameters=w,this._planB=R,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},c&&c.iceLite&&(this._sdpObject.icelite="ice-lite"),d){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const S=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:d.fingerprints[S-1].algorithm,hash:d.fingerprints[S-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}w&&(this._sdpObject.origin.address=w.ip,this._sdpObject.origin.ipVer=w.ipVersion)}updateIceParameters(c){a.debug("updateIceParameters() [iceParameters:%o]",c),this._iceParameters=c,this._sdpObject.icelite=c.iceLite?"ice-lite":void 0;for(const f of this._mediaSections)f.setIceParameters(c)}updateDtlsRole(c){a.debug("updateDtlsRole() [role:%s]",c),this._dtlsParameters.role=c;for(const f of this._mediaSections)f.setDtlsRole(c)}getNextMediaSectionIdx(){for(let c=0;c<this._mediaSections.length;++c){const f=this._mediaSections[c];if(f.closed)return{idx:c,reuseMid:f.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:c,reuseMid:f,offerRtpParameters:d,answerRtpParameters:h,codecOptions:w,extmapAllowMixed:R=!1}){const S=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:c,offerRtpParameters:d,answerRtpParameters:h,codecOptions:w,extmapAllowMixed:R});f?this._replaceMediaSection(S,f):this._midToIndex.has(S.mid)?this._replaceMediaSection(S):this._addMediaSection(S)}receive({mid:c,kind:f,offerRtpParameters:d,streamId:h,trackId:w}){const R=this._midToIndex.get(c);let S;if(R!==void 0&&(S=this._mediaSections[R]),S)S.planBReceive({offerRtpParameters:d,streamId:h,trackId:w}),this._replaceMediaSection(S);else{S=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:c,kind:f,offerRtpParameters:d,streamId:h,trackId:w});const _=this._mediaSections.find(v=>v.closed);_?this._replaceMediaSection(S,_.mid):this._addMediaSection(S)}}pauseMediaSection(c){this._findMediaSection(c).pause()}resumeSendingMediaSection(c){this._findMediaSection(c).resume()}resumeReceivingMediaSection(c){this._findMediaSection(c).resume()}disableMediaSection(c){this._findMediaSection(c).disable()}closeMediaSection(c){const f=this._findMediaSection(c);return c===this._firstMid?(a.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",c),this.disableMediaSection(c),!1):(f.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(c,f){const d=this._findMediaSection(c);d.muxSimulcastStreams(f),this._replaceMediaSection(d)}planBStopReceiving({mid:c,offerRtpParameters:f}){const d=this._findMediaSection(c);d.planBStopReceiving({offerRtpParameters:f}),this._replaceMediaSection(d)}sendSctpAssociation({offerMediaObject:c}){const f=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:c});this._addMediaSection(f)}receiveSctpAssociation({oldDataChannelSpec:c=!1}={}){const f=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:c});this._addMediaSection(f)}getSdp(){return this._sdpObject.origin.sessionVersion++,t.write(this._sdpObject)}_addMediaSection(c){this._firstMid||(this._firstMid=c.mid),this._mediaSections.push(c),this._midToIndex.set(c.mid,this._mediaSections.length-1),this._sdpObject.media.push(c.getObject()),this._regenerateBundleMids()}_replaceMediaSection(c,f){if(typeof f=="string"){const d=this._midToIndex.get(f);if(d===void 0)throw new Error(`no media section found for reuseMid '${f}'`);const h=this._mediaSections[d];this._mediaSections[d]=c,this._midToIndex.delete(h.mid),this._midToIndex.set(c.mid,d),this._sdpObject.media[d]=c.getObject(),this._regenerateBundleMids()}else{const d=this._midToIndex.get(c.mid);if(d===void 0)throw new Error(`no media section found with mid '${c.mid}'`);this._mediaSections[d]=c,this._sdpObject.media[d]=c.getObject()}}_findMediaSection(c){const f=this._midToIndex.get(c);if(f===void 0)throw new Error(`no media section found with mid '${c}'`);return this._mediaSections[f]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(c=>!c.closed).map(c=>c.mid).join(" "))}};return Is.RemoteSdp=u,Is}var Nu={},K0;function Wc(){if(K0)return Nu;K0=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.parse=void 0;const r=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function e(n){const t=r.exec(n||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}return Nu.parse=e,Nu}var G0;function ML(){if(G0)return Ns;G0=1;var r=Ns&&Ns.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Ns&&Ns.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Ns&&Ns.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.Chrome111=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(Ul()),c=fs(),f=Fo(),d=Wc(),h=new s.Logger("Chrome111"),w={OS:1024,MIS:1024};let R=class z1 extends c.HandlerInterface{static createFactory(){return()=>new z1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome111"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{_.addTransceiver("audio"),_.addTransceiver("video");const v=await _.createOffer();try{_.close()}catch{}const C=t.parse(v.sdp);return u.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new f.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",I),video:a.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",I),video:a.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;if(this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),v&&v.length>1){v.forEach((ye,q)=>{ye.rid=`r${q}`});let Z=1,de=1;for(const ye of v){const q=ye.scalabilityMode?(0,d.parse)(ye.scalabilityMode).temporalLayers:3;q>de&&(de=q)}for(const ye of v)ye.rid=`r${Z++}`,ye.scalabilityMode=`L1T${de}`}const k=i.clone(this._sendingRtpParametersByKind[_.kind],{});k.codecs=a.reduceCodecs(k.codecs,T);const N=i.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});N.codecs=a.reduceCodecs(N.codecs,T);const y=this._remoteSdp.getNextMediaSectionIdx(),F=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:v}),I=await this._pc.createOffer();let U=t.parse(I.sdp);this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:U}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const K=F.mid;k.mid=K,U=t.parse(this._pc.localDescription.sdp);const Q=U.media[y.idx];if(k.rtcp.cname=u.getCname({offerMediaObject:Q}),!v)k.encodings=p.getRtpEncodings({offerMediaObject:Q});else if(v.length===1){const Z=p.getRtpEncodings({offerMediaObject:Q});Object.assign(Z[0],v[0]),k.encodings=Z}else k.encodings=v;this._remoteSdp.send({offerMediaObject:Q,reuseMid:y.reuseMid,offerRtpParameters:k,answerRtpParameters:N,codecOptions:C,extmapAllowMixed:!0});const oe={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",oe),await this._pc.setRemoteDescription(oe),this._mapMidTransceiver.set(K,F),{localId:K,rtpParameters:k,rtpSender:F.sender}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");if(v.sender.replaceTrack(null),this._pc.removeTrack(v.sender),this._remoteSdp.closeMediaSection(v.mid))try{v.stop()}catch{}const T=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="inactive",this._remoteSdp.pauseMediaSection(_);const C=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(_){this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(this._remoteSdp.resumeSendingMediaSection(_),!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="sendonly";const C=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(_,v){this.assertSendDirection(),v?h.debug("replaceTrack() [localId:%s, track.id:%s]",_,v.id):h.debug("replaceTrack() [localId:%s, no track]",_);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");await C.sender.replaceTrack(v)}async setMaxSpatialLayer(_,v){this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{y<=v?N.active=!0:N.active=!1}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,v){this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{T.encodings[y]={...N,...v}}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertSendDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);u.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(U)this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver});else throw new Error("new RTCRtpTransceiver not found")}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const T of _)this._mapMidTransceiver.delete(T)}async pauseReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("pauseReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async resumeReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("resumeReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async getReceiverStats(_){this.assertRecvDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=u.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ns.Chrome111=R,Ns}var Fs={},J0;function AL(){if(J0)return Fs;J0=1;var r=Fs&&Fs.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Fs&&Fs.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Fs&&Fs.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.Chrome74=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(Ul()),c=fs(),f=Fo(),d=Wc(),h=new s.Logger("Chrome74"),w={OS:1024,MIS:1024};let R=class W1 extends c.HandlerInterface{static createFactory(){return()=>new W1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{_.addTransceiver("audio"),_.addTransceiver("video");const v=await _.createOffer();try{_.close()}catch{}const C=t.parse(v.sdp);return u.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new f.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",I),video:a.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",I),video:a.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),v&&v.length>1&&v.forEach((ye,q)=>{ye.rid=`r${q}`});const k=i.clone(this._sendingRtpParametersByKind[_.kind],{});k.codecs=a.reduceCodecs(k.codecs,T);const N=i.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});N.codecs=a.reduceCodecs(N.codecs,T);const y=this._remoteSdp.getNextMediaSectionIdx(),F=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:v});let I=await this._pc.createOffer(),U=t.parse(I.sdp),K;this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:U});let Q=!1;const oe=(0,d.parse)((v||[{}])[0].scalabilityMode);v&&v.length===1&&oe.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(h.debug("send() | enabling legacy simulcast for VP9 SVC"),Q=!0,U=t.parse(I.sdp),K=U.media[y.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:oe.spatialLayers}),I={type:"offer",sdp:t.write(U)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const Z=F.mid;if(k.mid=Z,U=t.parse(this._pc.localDescription.sdp),K=U.media[y.idx],k.rtcp.cname=u.getCname({offerMediaObject:K}),!v)k.encodings=p.getRtpEncodings({offerMediaObject:K});else if(v.length===1){let ye=p.getRtpEncodings({offerMediaObject:K});Object.assign(ye[0],v[0]),Q&&(ye=[ye[0]]),k.encodings=ye}else k.encodings=v;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const ye of k.encodings)ye.scalabilityMode?ye.scalabilityMode=`L1T${oe.temporalLayers}`:ye.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:y.reuseMid,offerRtpParameters:k,answerRtpParameters:N,codecOptions:C,extmapAllowMixed:!0});const de={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",de),await this._pc.setRemoteDescription(de),this._mapMidTransceiver.set(Z,F),{localId:Z,rtpParameters:k,rtpSender:F.sender}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");if(v.sender.replaceTrack(null),this._pc.removeTrack(v.sender),this._remoteSdp.closeMediaSection(v.mid))try{v.stop()}catch{}const T=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="inactive",this._remoteSdp.pauseMediaSection(_);const C=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(_){this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(this._remoteSdp.resumeSendingMediaSection(_),!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="sendonly";const C=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(_,v){this.assertSendDirection(),v?h.debug("replaceTrack() [localId:%s, track.id:%s]",_,v.id):h.debug("replaceTrack() [localId:%s, no track]",_);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");await C.sender.replaceTrack(v)}async setMaxSpatialLayer(_,v){this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{y<=v?N.active=!0:N.active=!1}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,v){this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{T.encodings[y]={...N,...v}}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertSendDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);u.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(U)this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver});else throw new Error("new RTCRtpTransceiver not found")}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const T of _)this._mapMidTransceiver.delete(T)}async pauseReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("pauseReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async resumeReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("resumeReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async getReceiverStats(_){this.assertRecvDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=u.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Fs.Chrome74=R,Fs}var Bs={},X0;function jL(){if(X0)return Bs;X0=1;var r=Bs&&Bs.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Bs&&Bs.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Bs&&Bs.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.Chrome70=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(Ul()),c=fs(),f=Fo(),d=Wc(),h=new s.Logger("Chrome70"),w={OS:1024,MIS:1024};let R=class Y1 extends c.HandlerInterface{static createFactory(){return()=>new Y1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{_.addTransceiver("audio"),_.addTransceiver("video");const v=await _.createOffer();try{_.close()}catch{}const C=t.parse(v.sdp);return u.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new f.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",I),video:a.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",I),video:a.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id);const k=i.clone(this._sendingRtpParametersByKind[_.kind],{});k.codecs=a.reduceCodecs(k.codecs,T);const N=i.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});N.codecs=a.reduceCodecs(N.codecs,T);const y=this._remoteSdp.getNextMediaSectionIdx(),F=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});let I=await this._pc.createOffer(),U=t.parse(I.sdp),K;this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:U}),v&&v.length>1&&(h.debug("send() | enabling legacy simulcast"),U=t.parse(I.sdp),K=U.media[y.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:v.length}),I={type:"offer",sdp:t.write(U)});let Q=!1;const oe=(0,d.parse)((v||[{}])[0].scalabilityMode);if(v&&v.length===1&&oe.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(h.debug("send() | enabling legacy simulcast for VP9 SVC"),Q=!0,U=t.parse(I.sdp),K=U.media[y.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:oe.spatialLayers}),I={type:"offer",sdp:t.write(U)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),v){h.debug("send() | applying given encodings");const ye=F.sender.getParameters();for(let q=0;q<(ye.encodings||[]).length;++q){const ee=ye.encodings[q],ce=v[q];if(!ce)break;ye.encodings[q]=Object.assign(ee,ce)}await F.sender.setParameters(ye)}const Z=F.mid;if(k.mid=Z,U=t.parse(this._pc.localDescription.sdp),K=U.media[y.idx],k.rtcp.cname=u.getCname({offerMediaObject:K}),k.encodings=p.getRtpEncodings({offerMediaObject:K}),v)for(let ye=0;ye<k.encodings.length;++ye)v[ye]&&Object.assign(k.encodings[ye],v[ye]);if(Q&&(k.encodings=[k.encodings[0]]),k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const ye of k.encodings)ye.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:y.reuseMid,offerRtpParameters:k,answerRtpParameters:N,codecOptions:C});const de={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",de),await this._pc.setRemoteDescription(de),this._mapMidTransceiver.set(Z,F),{localId:Z,rtpParameters:k,rtpSender:F.sender}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");if(v.sender.replaceTrack(null),this._pc.removeTrack(v.sender),this._remoteSdp.closeMediaSection(v.mid))try{v.stop()}catch{}const T=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(_)}async pauseSending(_){}async resumeSending(_){}async replaceTrack(_,v){this.assertSendDirection(),v?h.debug("replaceTrack() [localId:%s, track.id:%s]",_,v.id):h.debug("replaceTrack() [localId:%s, no track]",_);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");await C.sender.replaceTrack(v)}async setMaxSpatialLayer(_,v){this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{y<=v?N.active=!0:N.active=!1}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,v){this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{T.encodings[y]={...N,...v}}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertSendDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmitTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);u.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(!U)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver})}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const T of _)this._mapMidTransceiver.delete(T)}async pauseReceiving(_){}async resumeReceiving(_){}async getReceiverStats(_){this.assertRecvDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmitTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=u.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Bs.Chrome70=R,Bs}var $s={},Tc={},Q0;function op(){if(Q0)return Tc;Q0=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.addLegacySimulcast=Tc.getRtpEncodings=void 0;function r({offerMediaObject:n,track:t}){const s=new Set;for(const u of n.ssrcs||[]){if(u.attribute!=="msid")continue;if(u.value.split(" ")[1]===t.id){const c=u.id;s.add(c)}}if(s.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const i=new Map;for(const u of n.ssrcGroups||[]){if(u.semantics!=="FID")continue;let[p,c]=u.ssrcs.split(/\s+/);p=Number(p),c=Number(c),s.has(p)&&(s.delete(p),s.delete(c),i.set(p,c))}for(const u of s)i.set(u,null);const a=[];for(const[u,p]of i){const c={ssrc:u};p&&(c.rtx={ssrc:p}),a.push(c)}return a}Tc.getRtpEncodings=r;function e({offerMediaObject:n,track:t,numStreams:s}){if(s<=1)throw new TypeError("numStreams must be greater than 1");let i,a,u;if(!(n.ssrcs||[]).find(w=>w.attribute!=="msid"?!1:w.value.split(" ")[1]===t.id?(i=w.id,u=w.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(n.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const R=w.ssrcs.split(/\s+/);return Number(R[0])===i?(a=Number(R[1]),!0):!1});const c=n.ssrcs.find(w=>w.attribute==="cname"&&w.id===i);if(!c)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const f=c.value,d=[],h=[];for(let w=0;w<s;++w)d.push(i+w),a&&h.push(a+w);n.ssrcGroups=n.ssrcGroups||[],n.ssrcs=n.ssrcs||[],n.ssrcGroups.push({semantics:"SIM",ssrcs:d.join(" ")});for(let w=0;w<d.length;++w){const R=d[w];n.ssrcs.push({id:R,attribute:"cname",value:f}),n.ssrcs.push({id:R,attribute:"msid",value:`${u} ${t.id}`})}for(let w=0;w<h.length;++w){const R=d[w],S=h[w];n.ssrcs.push({id:S,attribute:"cname",value:f}),n.ssrcs.push({id:S,attribute:"msid",value:`${u} ${t.id}`}),n.ssrcGroups.push({semantics:"FID",ssrcs:`${R} ${S}`})}}return Tc.addLegacySimulcast=e,Tc}var Z0;function LL(){if(Z0)return $s;Z0=1;var r=$s&&$s.__createBinding||(Object.create?function(R,S,_,v){v===void 0&&(v=_);var C=Object.getOwnPropertyDescriptor(S,_);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(R,v,C)}:function(R,S,_,v){v===void 0&&(v=_),R[v]=S[_]}),e=$s&&$s.__setModuleDefault||(Object.create?function(R,S){Object.defineProperty(R,"default",{enumerable:!0,value:S})}:function(R,S){R.default=S}),n=$s&&$s.__importStar||function(R){if(R&&R.__esModule)return R;var S={};if(R!=null)for(var _ in R)_!=="default"&&Object.prototype.hasOwnProperty.call(R,_)&&r(S,R,_);return e(S,R),S};Object.defineProperty($s,"__esModule",{value:!0}),$s.Chrome67=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(op()),c=fs(),f=Fo(),d=new s.Logger("Chrome67"),h={OS:1024,MIS:1024};let w=class K1 extends c.HandlerInterface{static createFactory(){return()=>new K1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(d.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){d.debug("getNativeRtpCapabilities()");const S=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await S.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{S.close()}catch{}const v=t.parse(_.sdp);return u.extractRtpCapabilities({sdpObject:v})}catch(_){try{S.close()}catch{}throw _}}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:h}}run({direction:S,iceParameters:_,iceCandidates:v,dtlsParameters:C,sctpParameters:T,iceServers:M,iceTransportPolicy:k,additionalSettings:N,proprietaryConstraints:y,extendedRtpCapabilities:F}){d.debug("run()"),this._direction=S,this._remoteSdp=new f.RemoteSdp({iceParameters:_,iceCandidates:v,dtlsParameters:C,sctpParameters:T,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",F),video:a.getSendingRtpParameters("video",F)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",F),video:a.getSendingRemoteRtpParameters("video",F)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M||[],iceTransportPolicy:k||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...N},y),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(d.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(S){d.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=S,this._pc.setConfiguration(_)}async restartIce(S){if(d.debug("restartIce()"),this._remoteSdp.updateIceParameters(S),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});d.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const v={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const v=await this._pc.createAnswer();d.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",v),await this._pc.setLocalDescription(v)}}async getTransportStats(){return this._pc.getStats()}async send({track:S,encodings:_,codecOptions:v,codec:C}){var T;this.assertSendDirection(),d.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),C&&d.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(S),this._pc.addTrack(S,this._sendStream);let M=await this._pc.createOffer(),k=t.parse(M.sdp),N;const y=i.clone(this._sendingRtpParametersByKind[S.kind],{});y.codecs=a.reduceCodecs(y.codecs);const F=i.clone(this._sendingRemoteRtpParametersByKind[S.kind],{});if(F.codecs=a.reduceCodecs(F.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:k}),S.kind==="video"&&_&&_.length>1&&(d.debug("send() | enabling simulcast"),k=t.parse(M.sdp),N=k.media.find(Q=>Q.type==="video"),p.addLegacySimulcast({offerMediaObject:N,track:S,numStreams:_.length}),M={type:"offer",sdp:t.write(k)}),d.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),k=t.parse(this._pc.localDescription.sdp),N=k.media.find(Q=>Q.type===S.kind),y.rtcp.cname=u.getCname({offerMediaObject:N}),y.encodings=p.getRtpEncodings({offerMediaObject:N,track:S}),_)for(let Q=0;Q<y.encodings.length;++Q)_[Q]&&Object.assign(y.encodings[Q],_[Q]);if(y.encodings.length>1&&y.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const Q of y.encodings)Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:N,offerRtpParameters:y,answerRtpParameters:F,codecOptions:v});const I={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const U=String(this._nextSendLocalId);this._nextSendLocalId++;const K=this._pc.getSenders().find(Q=>Q.track===S);return this._mapSendLocalIdRtpSender.set(U,K),{localId:U,rtpParameters:y,rtpSender:K}}async stopSending(S){this.assertSendDirection(),d.debug("stopSending() [localId:%s]",S);const _=this._mapSendLocalIdRtpSender.get(S);if(!_)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(_),_.track&&this._sendStream.removeTrack(_.track),this._mapSendLocalIdRtpSender.delete(S);const v=await this._pc.createOffer();d.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v);try{await this._pc.setLocalDescription(v)}catch(T){if(this._sendStream.getTracks().length===0){d.warn("stopSending() | ignoring expected error due no sending tracks: %s",T.toString());return}throw T}if(this._pc.signalingState==="stable")return;const C={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,_){this.assertSendDirection(),_?d.debug("replaceTrack() [localId:%s, track.id:%s]",S,_.id):d.debug("replaceTrack() [localId:%s, no track]",S);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.track;await v.replaceTrack(_),C&&this._sendStream.removeTrack(C),_&&this._sendStream.addTrack(_)}async setMaxSpatialLayer(S,_){this.assertSendDirection(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,_);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.getParameters();C.encodings.forEach((T,M)=>{M<=_?T.active=!0:T.active=!1}),await v.setParameters(C)}async setRtpEncodingParameters(S,_){this.assertSendDirection(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,_);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.getParameters();C.encodings.forEach((T,M)=>{C.encodings[M]={...T,..._}}),await v.setParameters(C)}async getSenderStats(S){this.assertSendDirection();const _=this._mapSendLocalIdRtpSender.get(S);if(!_)throw new Error("associated RTCRtpSender not found");return _.getStats()}async sendDataChannel({ordered:S,maxPacketLifeTime:_,maxRetransmits:v,label:C,protocol:T}){var M;this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:S,maxPacketLifeTime:_,maxRetransmitTime:_,maxRetransmits:v,protocol:T};d.debug("sendDataChannel() [options:%o]",k);const N=this._pc.createDataChannel(C,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const F=await this._pc.createOffer(),I=t.parse(F.sdp),U=I.media.find(Q=>Q.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:I}),d.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",F),await this._pc.setLocalDescription(F),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const K={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._hasDataChannelMediaSection=!0}const y={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:N,sctpStreamParameters:y}}async receive(S){var _;this.assertRecvDirection();const v=[];for(const k of S){const{trackId:N,kind:y,rtpParameters:F,streamId:I}=k;d.debug("receive() [trackId:%s, kind:%s]",N,y);const U=y;this._remoteSdp.receive({mid:U,kind:y,offerRtpParameters:F,streamId:I||F.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);let T=await this._pc.createAnswer();const M=t.parse(T.sdp);for(const k of S){const{kind:N,rtpParameters:y}=k,F=N,I=M.media.find(U=>String(U.mid)===F);u.applyCodecParameters({offerRtpParameters:y,answerMediaObject:I})}T={type:"answer",sdp:t.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:(_=this._forcedLocalDtlsRole)!==null&&_!==void 0?_:"client",localSdpObject:M}),d.debug("receive() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T);for(const k of S){const{kind:N,trackId:y,rtpParameters:F}=k,I=y,U=N,K=this._pc.getReceivers().find(Q=>Q.track&&Q.track.id===I);if(!K)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(I,{mid:U,rtpParameters:F,rtpReceiver:K}),v.push({localId:I,track:K.track,rtpReceiver:K})}return v}async stopReceiving(S){this.assertRecvDirection();for(const C of S){d.debug("stopReceiving() [localId:%s]",C);const{mid:T,rtpParameters:M}=this._mapRecvLocalIdInfo.get(C)||{};this._mapRecvLocalIdInfo.delete(C),this._remoteSdp.planBStopReceiving({mid:T,offerRtpParameters:M})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const v=await this._pc.createAnswer();d.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",v),await this._pc.setLocalDescription(v)}async pauseReceiving(S){}async resumeReceiving(S){}async getReceiverStats(S){this.assertRecvDirection();const{rtpReceiver:_}=this._mapRecvLocalIdInfo.get(S)||{};if(!_)throw new Error("associated RTCRtpReceiver not found");return _.getStats()}async receiveDataChannel({sctpStreamParameters:S,label:_,protocol:v}){var C;this.assertRecvDirection();const{streamId:T,ordered:M,maxPacketLifeTime:k,maxRetransmits:N}=S,y={negotiated:!0,id:T,ordered:M,maxPacketLifeTime:k,maxRetransmitTime:k,maxRetransmits:N,protocol:v};d.debug("receiveDataChannel() [options:%o]",y);const F=this._pc.createDataChannel(_,y);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const U=await this._pc.createAnswer();if(!this._transportReady){const K=t.parse(U.sdp);await this.setupTransport({localDtlsRole:(C=this._forcedLocalDtlsRole)!==null&&C!==void 0?C:"client",localSdpObject:K})}d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:F}}async setupTransport({localDtlsRole:S,localSdpObject:_}){_||(_=t.parse(this._pc.localDescription.sdp));const v=u.extractDtlsParameters({sdpObject:_});v.role=S,this._remoteSdp.updateDtlsRole(S==="client"?"server":"client"),await new Promise((C,T)=>{this.safeEmit("@connect",{dtlsParameters:v},C,T)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return $s.Chrome67=w,$s}var Us={},eC;function NL(){if(eC)return Us;eC=1;var r=Us&&Us.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Us&&Us.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Us&&Us.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Us,"__esModule",{value:!0}),Us.Chrome55=void 0;const t=n(Ki()),s=gn(),i=No(),a=n(Jn()),u=n(Yi()),p=n(Io()),c=n(op()),f=fs(),d=Fo(),h=new s.Logger("Chrome55"),w={OS:1024,MIS:1024};let R=class G1 extends f.HandlerInterface{static createFactory(){return()=>new G1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const v=await _.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{_.close()}catch{}const C=t.parse(v.sdp);return p.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new d.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),T&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(_),this._pc.addStream(this._sendStream);let k=await this._pc.createOffer(),N=t.parse(k.sdp),y;const F=a.clone(this._sendingRtpParametersByKind[_.kind],{});F.codecs=u.reduceCodecs(F.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});if(I.codecs=u.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:N}),_.kind==="video"&&v&&v.length>1&&(h.debug("send() | enabling simulcast"),N=t.parse(k.sdp),y=N.media.find(Q=>Q.type==="video"),c.addLegacySimulcast({offerMediaObject:y,track:_,numStreams:v.length}),k={type:"offer",sdp:t.write(N)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k),N=t.parse(this._pc.localDescription.sdp),y=N.media.find(Q=>Q.type===_.kind),F.rtcp.cname=p.getCname({offerMediaObject:y}),F.encodings=c.getRtpEncodings({offerMediaObject:y,track:_}),v)for(let Q=0;Q<F.encodings.length;++Q)v[Q]&&Object.assign(F.encodings[Q],v[Q]);if(F.encodings.length>1&&F.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const Q of F.encodings)Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,offerRtpParameters:F,answerRtpParameters:I,codecOptions:C});const U={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U);const K=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(K,_),{localId:K,rtpParameters:F}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapSendLocalIdTrack.get(_);if(!v)throw new Error("track not found");this._mapSendLocalIdTrack.delete(_),this._sendStream.removeTrack(v),this._pc.addStream(this._sendStream);const C=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C);try{await this._pc.setLocalDescription(C)}catch(M){if(this._sendStream.getTracks().length===0){h.warn("stopSending() | ignoring expected error due no sending tracks: %s",M.toString());return}throw M}if(this._pc.signalingState==="stable")return;const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async pauseSending(_){}async resumeSending(_){}async replaceTrack(_,v){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(_,v){throw new i.UnsupportedError(" not implemented")}async setRtpEncodingParameters(_,v){throw new i.UnsupportedError("not supported")}async getSenderStats(_){throw new i.UnsupportedError("not implemented")}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmitTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[];for(const N of _){const{trackId:y,kind:F,rtpParameters:I,streamId:U}=N;h.debug("receive() [trackId:%s, kind:%s]",y,F);const K=F;this._remoteSdp.receive({mid:K,kind:F,offerRtpParameters:I,streamId:U||I.rtcp.cname,trackId:y})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);let M=await this._pc.createAnswer();const k=t.parse(M.sdp);for(const N of _){const{kind:y,rtpParameters:F}=N,I=y,U=k.media.find(K=>String(K.mid)===I);p.applyCodecParameters({offerRtpParameters:F,answerMediaObject:U})}M={type:"answer",sdp:t.write(k)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:k}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const N of _){const{kind:y,trackId:F,rtpParameters:I}=N,U=y,K=F,Q=N.streamId||I.rtcp.cname,Z=this._pc.getRemoteStreams().find(de=>de.id===Q).getTrackById(K);if(!Z)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(K,{mid:U,rtpParameters:I}),C.push({localId:K,track:Z})}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const{mid:M,rtpParameters:k}=this._mapRecvLocalIdInfo.get(T)||{};this._mapRecvLocalIdInfo.delete(T),this._remoteSdp.planBStopReceiving({mid:M,offerRtpParameters:k})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async pauseReceiving(_){}async resumeReceiving(_){}async getReceiverStats(_){throw new i.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmitTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=p.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Us.Chrome55=R,Us}var qs={},tC;function IL(){if(tC)return qs;tC=1;var r=qs&&qs.__createBinding||(Object.create?function(_,v,C,T){T===void 0&&(T=C);var M=Object.getOwnPropertyDescriptor(v,C);(!M||("get"in M?!v.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return v[C]}}),Object.defineProperty(_,T,M)}:function(_,v,C,T){T===void 0&&(T=C),_[T]=v[C]}),e=qs&&qs.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=qs&&qs.__importStar||function(_){if(_&&_.__esModule)return _;var v={};if(_!=null)for(var C in _)C!=="default"&&Object.prototype.hasOwnProperty.call(_,C)&&r(v,_,C);return e(v,_),v};Object.defineProperty(qs,"__esModule",{value:!0}),qs.Firefox60=void 0;const t=n(Ki()),s=gn(),i=No(),a=n(Jn()),u=n(Yi()),p=n(Io()),c=n(Ul()),f=fs(),d=Fo(),h=Wc(),w=new s.Logger("Firefox60"),R={OS:16,MIS:2048};let S=class J1 extends f.HandlerInterface{static createFactory(){return()=>new J1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const v=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),C=document.createElement("canvas");C.getContext("2d");const M=C.captureStream().getVideoTracks()[0];try{v.addTransceiver("audio",{direction:"sendrecv"});const k=v.addTransceiver(M,{direction:"sendrecv"}),N=k.sender.getParameters(),y=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];N.encodings=y,await k.sender.setParameters(N);const F=await v.createOffer();try{C.remove()}catch{}try{M.stop()}catch{}try{v.close()}catch{}const I=t.parse(F.sdp);return p.extractRtpCapabilities({sdpObject:I})}catch(k){try{C.remove()}catch{}try{M.stop()}catch{}try{v.close()}catch{}throw k}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:v,iceParameters:C,iceCandidates:T,dtlsParameters:M,sctpParameters:k,iceServers:N,iceTransportPolicy:y,additionalSettings:F,proprietaryConstraints:I,extendedRtpCapabilities:U}){w.debug("run()"),this._direction=v,this._remoteSdp=new d.RemoteSdp({iceParameters:C,iceCandidates:T,dtlsParameters:M,sctpParameters:k}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",U),video:u.getSendingRtpParameters("video",U)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",U),video:u.getSendingRemoteRtpParameters("video",U)},this._pc=new RTCPeerConnection({iceServers:N||[],iceTransportPolicy:y||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...F},I),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(v){throw new i.UnsupportedError("not supported")}async restartIce(v){if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(v),!!this._transportReady)if(this._direction==="send"){const C=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}else{const C={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const T=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T)}}async getTransportStats(){return this._pc.getStats()}async send({track:v,encodings:C,codecOptions:T,codec:M}){this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",v.kind,v.id),C&&(C=a.clone(C,[]),C.length>1&&(C.forEach((Z,de)=>{Z.rid=`r${de}`}),C.reverse()));const k=a.clone(this._sendingRtpParametersByKind[v.kind],{});k.codecs=u.reduceCodecs(k.codecs,M);const N=a.clone(this._sendingRemoteRtpParametersByKind[v.kind],{});N.codecs=u.reduceCodecs(N.codecs,M);const y=this._pc.addTransceiver(v,{direction:"sendonly",streams:[this._sendStream]});if(C){const Z=y.sender.getParameters();Z.encodings=C,await y.sender.setParameters(Z)}const F=await this._pc.createOffer();let I=t.parse(F.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:I});const U=(0,h.parse)((C||[{}])[0].scalabilityMode);w.debug("send() | calling pc.setLocalDescription() [offer:%o]",F),await this._pc.setLocalDescription(F);const K=y.mid;k.mid=K,I=t.parse(this._pc.localDescription.sdp);const Q=I.media[I.media.length-1];if(k.rtcp.cname=p.getCname({offerMediaObject:Q}),!C)k.encodings=c.getRtpEncodings({offerMediaObject:Q});else if(C.length===1){const Z=c.getRtpEncodings({offerMediaObject:Q});Object.assign(Z[0],C[0]),k.encodings=Z}else k.encodings=C.reverse();if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Z of k.encodings)Z.scalabilityMode?Z.scalabilityMode=`L1T${U.temporalLayers}`:Z.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:Q,offerRtpParameters:k,answerRtpParameters:N,codecOptions:T,extmapAllowMixed:!0});const oe={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",oe),await this._pc.setRemoteDescription(oe),this._mapMidTransceiver.set(K,y),{localId:K,rtpParameters:k,rtpSender:y.sender}}async stopSending(v){w.debug("stopSending() [localId:%s]",v);const C=this._mapMidTransceiver.get(v);if(!C)throw new Error("associated transceiver not found");C.sender.replaceTrack(null),this._pc.removeTrack(C.sender),this._remoteSdp.disableMediaSection(C.mid);const T=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(v)}async pauseSending(v){this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",v);const C=this._mapMidTransceiver.get(v);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="inactive",this._remoteSdp.pauseMediaSection(v);const T=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async resumeSending(v){this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",v);const C=this._mapMidTransceiver.get(v);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(v);const T=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M)}async replaceTrack(v,C){this.assertSendDirection(),C?w.debug("replaceTrack() [localId:%s, track.id:%s]",v,C.id):w.debug("replaceTrack() [localId:%s, no track]",v);const T=this._mapMidTransceiver.get(v);if(!T)throw new Error("associated RTCRtpTransceiver not found");await T.sender.replaceTrack(C)}async setMaxSpatialLayer(v,C){this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",v,C);const T=this._mapMidTransceiver.get(v);if(!T)throw new Error("associated transceiver not found");const M=T.sender.getParameters();C=M.encodings.length-1-C,M.encodings.forEach((y,F)=>{F>=C?y.active=!0:y.active=!1}),await T.sender.setParameters(M),this._remoteSdp.muxMediaSectionSimulcast(v,M.encodings);const k=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N)}async setRtpEncodingParameters(v,C){this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",v,C);const T=this._mapMidTransceiver.get(v);if(!T)throw new Error("associated RTCRtpTransceiver not found");const M=T.sender.getParameters();M.encodings.forEach((y,F)=>{M.encodings[F]={...y,...C}}),await T.sender.setParameters(M),this._remoteSdp.muxMediaSectionSimulcast(v,M.encodings);const k=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k);const N={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N)}async getSenderStats(v){this.assertSendDirection();const C=this._mapMidTransceiver.get(v);if(!C)throw new Error("associated RTCRtpTransceiver not found");return C.sender.getStats()}async sendDataChannel({ordered:v,maxPacketLifeTime:C,maxRetransmits:T,label:M,protocol:k}){this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:v,maxPacketLifeTime:C,maxRetransmits:T,protocol:k};w.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(M,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:U}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(v){this.assertRecvDirection();const C=[],T=new Map;for(const y of v){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;w.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of v){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);p.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K}),k={type:"answer",sdp:t.write(N)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:N}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of v){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(!U)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver})}return C}async stopReceiving(v){this.assertRecvDirection();for(const M of v){w.debug("stopReceiving() [localId:%s]",M);const k=this._mapMidTransceiver.get(M);if(!k)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(k.mid)}const C={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const T=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T);for(const M of v)this._mapMidTransceiver.delete(M)}async pauseReceiving(v){this.assertRecvDirection();for(const M of v){w.debug("pauseReceiving() [localId:%s]",M);const k=this._mapMidTransceiver.get(M);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="inactive",this._remoteSdp.pauseMediaSection(M)}const C={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const T=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T)}async resumeReceiving(v){this.assertRecvDirection();for(const M of v){w.debug("resumeReceiving() [localId:%s]",M);const k=this._mapMidTransceiver.get(M);if(!k)throw new Error("associated RTCRtpTransceiver not found");k.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(M)}const C={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);const T=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T)}async getReceiverStats(v){this.assertRecvDirection();const C=this._mapMidTransceiver.get(v);if(!C)throw new Error("associated RTCRtpTransceiver not found");return C.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:v,label:C,protocol:T}){this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=v,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y,protocol:T};w.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(C,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:Q})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:v,localSdpObject:C}){C||(C=t.parse(this._pc.localDescription.sdp));const T=p.extractDtlsParameters({sdpObject:C});T.role=v,this._remoteSdp.updateDtlsRole(v==="client"?"server":"client"),await new Promise((M,k)=>{this.safeEmit("@connect",{dtlsParameters:T},M,k)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return qs.Firefox60=S,qs}var Hs={},rC;function FL(){if(rC)return Hs;rC=1;var r=Hs&&Hs.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Hs&&Hs.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Hs&&Hs.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.Safari12=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(Ul()),c=fs(),f=Fo(),d=Wc(),h=new s.Logger("Safari12"),w={OS:1024,MIS:1024};let R=class X1 extends c.HandlerInterface{static createFactory(){return()=>new X1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{_.addTransceiver("audio"),_.addTransceiver("video");const v=await _.createOffer();try{_.close()}catch{}const C=t.parse(v.sdp);return u.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new f.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",I),video:a.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",I),video:a.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id);const k=i.clone(this._sendingRtpParametersByKind[_.kind],{});k.codecs=a.reduceCodecs(k.codecs,T);const N=i.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});N.codecs=a.reduceCodecs(N.codecs,T);const y=this._remoteSdp.getNextMediaSectionIdx(),F=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream]});let I=await this._pc.createOffer(),U=t.parse(I.sdp),K;this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:U});const Q=(0,d.parse)((v||[{}])[0].scalabilityMode);v&&v.length>1&&(h.debug("send() | enabling legacy simulcast"),U=t.parse(I.sdp),K=U.media[y.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:v.length}),I={type:"offer",sdp:t.write(U)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const oe=F.mid;if(k.mid=oe,U=t.parse(this._pc.localDescription.sdp),K=U.media[y.idx],k.rtcp.cname=u.getCname({offerMediaObject:K}),k.encodings=p.getRtpEncodings({offerMediaObject:K}),v)for(let de=0;de<k.encodings.length;++de)v[de]&&Object.assign(k.encodings[de],v[de]);if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const de of k.encodings)de.scalabilityMode?de.scalabilityMode=`L1T${Q.temporalLayers}`:de.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:y.reuseMid,offerRtpParameters:k,answerRtpParameters:N,codecOptions:C});const Z={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Z),await this._pc.setRemoteDescription(Z),this._mapMidTransceiver.set(oe,F),{localId:oe,rtpParameters:k,rtpSender:F.sender}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");if(v.sender.replaceTrack(null),this._pc.removeTrack(v.sender),this._remoteSdp.closeMediaSection(v.mid))try{v.stop()}catch{}const T=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="inactive",this._remoteSdp.pauseMediaSection(_);const C=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(_){this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(_);const C=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(_,v){this.assertSendDirection(),v?h.debug("replaceTrack() [localId:%s, track.id:%s]",_,v.id):h.debug("replaceTrack() [localId:%s, no track]",_);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");await C.sender.replaceTrack(v)}async setMaxSpatialLayer(_,v){this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{y<=v?N.active=!0:N.active=!1}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,v){this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{T.encodings[y]={...N,...v}}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertSendDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);u.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(!U)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver})}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const T of _)this._mapMidTransceiver.delete(T)}async pauseReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("pauseReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async resumeReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("resumeReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async getReceiverStats(_){this.assertRecvDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=u.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Hs.Safari12=R,Hs}var Vs={},nC;function BL(){if(nC)return Vs;nC=1;var r=Vs&&Vs.__createBinding||(Object.create?function(R,S,_,v){v===void 0&&(v=_);var C=Object.getOwnPropertyDescriptor(S,_);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(R,v,C)}:function(R,S,_,v){v===void 0&&(v=_),R[v]=S[_]}),e=Vs&&Vs.__setModuleDefault||(Object.create?function(R,S){Object.defineProperty(R,"default",{enumerable:!0,value:S})}:function(R,S){R.default=S}),n=Vs&&Vs.__importStar||function(R){if(R&&R.__esModule)return R;var S={};if(R!=null)for(var _ in R)_!=="default"&&Object.prototype.hasOwnProperty.call(R,_)&&r(S,R,_);return e(S,R),S};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.Safari11=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(op()),c=fs(),f=Fo(),d=new s.Logger("Safari11"),h={OS:1024,MIS:1024};let w=class Q1 extends c.HandlerInterface{static createFactory(){return()=>new Q1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(d.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){d.debug("getNativeRtpCapabilities()");const S=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const _=await S.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{S.close()}catch{}const v=t.parse(_.sdp);return u.extractRtpCapabilities({sdpObject:v})}catch(_){try{S.close()}catch{}throw _}}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:h}}run({direction:S,iceParameters:_,iceCandidates:v,dtlsParameters:C,sctpParameters:T,iceServers:M,iceTransportPolicy:k,additionalSettings:N,proprietaryConstraints:y,extendedRtpCapabilities:F}){d.debug("run()"),this._direction=S,this._remoteSdp=new f.RemoteSdp({iceParameters:_,iceCandidates:v,dtlsParameters:C,sctpParameters:T,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",F),video:a.getSendingRtpParameters("video",F)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",F),video:a.getSendingRemoteRtpParameters("video",F)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:M||[],iceTransportPolicy:k||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...N},y),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(d.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(S){d.debug("updateIceServers()");const _=this._pc.getConfiguration();_.iceServers=S,this._pc.setConfiguration(_)}async restartIce(S){if(d.debug("restartIce()"),this._remoteSdp.updateIceParameters(S),!!this._transportReady)if(this._direction==="send"){const _=await this._pc.createOffer({iceRestart:!0});d.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",_),await this._pc.setLocalDescription(_);const v={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}else{const _={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const v=await this._pc.createAnswer();d.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",v),await this._pc.setLocalDescription(v)}}async getTransportStats(){return this._pc.getStats()}async send({track:S,encodings:_,codecOptions:v,codec:C}){var T;this.assertSendDirection(),d.debug("send() [kind:%s, track.id:%s]",S.kind,S.id),C&&d.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(S),this._pc.addTrack(S,this._sendStream);let M=await this._pc.createOffer(),k=t.parse(M.sdp),N;const y=i.clone(this._sendingRtpParametersByKind[S.kind],{});y.codecs=a.reduceCodecs(y.codecs);const F=i.clone(this._sendingRemoteRtpParametersByKind[S.kind],{});if(F.codecs=a.reduceCodecs(F.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:k}),S.kind==="video"&&_&&_.length>1&&(d.debug("send() | enabling simulcast"),k=t.parse(M.sdp),N=k.media.find(Q=>Q.type==="video"),p.addLegacySimulcast({offerMediaObject:N,track:S,numStreams:_.length}),M={type:"offer",sdp:t.write(k)}),d.debug("send() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M),k=t.parse(this._pc.localDescription.sdp),N=k.media.find(Q=>Q.type===S.kind),y.rtcp.cname=u.getCname({offerMediaObject:N}),y.encodings=p.getRtpEncodings({offerMediaObject:N,track:S}),_)for(let Q=0;Q<y.encodings.length;++Q)_[Q]&&Object.assign(y.encodings[Q],_[Q]);if(y.encodings.length>1&&y.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const Q of y.encodings)Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:N,offerRtpParameters:y,answerRtpParameters:F,codecOptions:v});const I={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I);const U=String(this._nextSendLocalId);this._nextSendLocalId++;const K=this._pc.getSenders().find(Q=>Q.track===S);return this._mapSendLocalIdRtpSender.set(U,K),{localId:U,rtpParameters:y,rtpSender:K}}async stopSending(S){this.assertSendDirection();const _=this._mapSendLocalIdRtpSender.get(S);if(!_)throw new Error("associated RTCRtpSender not found");_.track&&this._sendStream.removeTrack(_.track),this._mapSendLocalIdRtpSender.delete(S);const v=await this._pc.createOffer();d.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v);try{await this._pc.setLocalDescription(v)}catch(T){if(this._sendStream.getTracks().length===0){d.warn("stopSending() | ignoring expected error due no sending tracks: %s",T.toString());return}throw T}if(this._pc.signalingState==="stable")return;const C={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async pauseSending(S){}async resumeSending(S){}async replaceTrack(S,_){this.assertSendDirection(),_?d.debug("replaceTrack() [localId:%s, track.id:%s]",S,_.id):d.debug("replaceTrack() [localId:%s, no track]",S);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.track;await v.replaceTrack(_),C&&this._sendStream.removeTrack(C),_&&this._sendStream.addTrack(_)}async setMaxSpatialLayer(S,_){this.assertSendDirection(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",S,_);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.getParameters();C.encodings.forEach((T,M)=>{M<=_?T.active=!0:T.active=!1}),await v.setParameters(C)}async setRtpEncodingParameters(S,_){this.assertSendDirection(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",S,_);const v=this._mapSendLocalIdRtpSender.get(S);if(!v)throw new Error("associated RTCRtpSender not found");const C=v.getParameters();C.encodings.forEach((T,M)=>{C.encodings[M]={...T,..._}}),await v.setParameters(C)}async getSenderStats(S){this.assertSendDirection();const _=this._mapSendLocalIdRtpSender.get(S);if(!_)throw new Error("associated RTCRtpSender not found");return _.getStats()}async sendDataChannel({ordered:S,maxPacketLifeTime:_,maxRetransmits:v,label:C,protocol:T}){var M;this.assertSendDirection();const k={negotiated:!0,id:this._nextSendSctpStreamId,ordered:S,maxPacketLifeTime:_,maxRetransmits:v,protocol:T};d.debug("sendDataChannel() [options:%o]",k);const N=this._pc.createDataChannel(C,k);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%h.MIS,!this._hasDataChannelMediaSection){const F=await this._pc.createOffer(),I=t.parse(F.sdp),U=I.media.find(Q=>Q.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:I}),d.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",F),await this._pc.setLocalDescription(F),this._remoteSdp.sendSctpAssociation({offerMediaObject:U});const K={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setRemoteDescription(K),this._hasDataChannelMediaSection=!0}const y={streamId:k.id,ordered:k.ordered,maxPacketLifeTime:k.maxPacketLifeTime,maxRetransmits:k.maxRetransmits};return{dataChannel:N,sctpStreamParameters:y}}async receive(S){var _;this.assertRecvDirection();const v=[];for(const k of S){const{trackId:N,kind:y,rtpParameters:F,streamId:I}=k;d.debug("receive() [trackId:%s, kind:%s]",N,y);const U=y;this._remoteSdp.receive({mid:U,kind:y,offerRtpParameters:F,streamId:I||F.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);let T=await this._pc.createAnswer();const M=t.parse(T.sdp);for(const k of S){const{kind:N,rtpParameters:y}=k,F=N,I=M.media.find(U=>String(U.mid)===F);u.applyCodecParameters({offerRtpParameters:y,answerMediaObject:I})}T={type:"answer",sdp:t.write(M)},this._transportReady||await this.setupTransport({localDtlsRole:(_=this._forcedLocalDtlsRole)!==null&&_!==void 0?_:"client",localSdpObject:M}),d.debug("receive() | calling pc.setLocalDescription() [answer:%o]",T),await this._pc.setLocalDescription(T);for(const k of S){const{kind:N,trackId:y,rtpParameters:F}=k,I=N,U=y,K=this._pc.getReceivers().find(Q=>Q.track&&Q.track.id===U);if(!K)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(U,{mid:I,rtpParameters:F,rtpReceiver:K}),v.push({localId:U,track:K.track,rtpReceiver:K})}return v}async stopReceiving(S){this.assertRecvDirection();for(const C of S){d.debug("stopReceiving() [localId:%s]",C);const{mid:T,rtpParameters:M}=this._mapRecvLocalIdInfo.get(C)||{};this._mapRecvLocalIdInfo.delete(C),this._remoteSdp.planBStopReceiving({mid:T,offerRtpParameters:M})}const _={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",_),await this._pc.setRemoteDescription(_);const v=await this._pc.createAnswer();d.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",v),await this._pc.setLocalDescription(v)}async getReceiverStats(S){this.assertRecvDirection();const{rtpReceiver:_}=this._mapRecvLocalIdInfo.get(S)||{};if(!_)throw new Error("associated RTCRtpReceiver not found");return _.getStats()}async pauseReceiving(S){}async resumeReceiving(S){}async receiveDataChannel({sctpStreamParameters:S,label:_,protocol:v}){var C;this.assertRecvDirection();const{streamId:T,ordered:M,maxPacketLifeTime:k,maxRetransmits:N}=S,y={negotiated:!0,id:T,ordered:M,maxPacketLifeTime:k,maxRetransmits:N,protocol:v};d.debug("receiveDataChannel() [options:%o]",y);const F=this._pc.createDataChannel(_,y);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const I={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",I),await this._pc.setRemoteDescription(I);const U=await this._pc.createAnswer();if(!this._transportReady){const K=t.parse(U.sdp);await this.setupTransport({localDtlsRole:(C=this._forcedLocalDtlsRole)!==null&&C!==void 0?C:"client",localSdpObject:K})}d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setLocalDescription(U),this._hasDataChannelMediaSection=!0}return{dataChannel:F}}async setupTransport({localDtlsRole:S,localSdpObject:_}){_||(_=t.parse(this._pc.localDescription.sdp));const v=u.extractDtlsParameters({sdpObject:_});v.role=S,this._remoteSdp.updateDtlsRole(S==="client"?"server":"client"),await new Promise((C,T)=>{this.safeEmit("@connect",{dtlsParameters:v},C,T)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Vs.Safari11=w,Vs}var zs={},qi={},iC;function $L(){if(iC)return qi;iC=1;var r=qi&&qi.__createBinding||(Object.create?function(a,u,p,c){c===void 0&&(c=p);var f=Object.getOwnPropertyDescriptor(u,p);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(a,c,f)}:function(a,u,p,c){c===void 0&&(c=p),a[c]=u[p]}),e=qi&&qi.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),n=qi&&qi.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var p in a)p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)&&r(u,a,p);return e(u,a),u};Object.defineProperty(qi,"__esModule",{value:!0}),qi.mangleRtpParameters=qi.getCapabilities=void 0;const t=n(Jn());function s(){const a=RTCRtpReceiver.getCapabilities(),u=t.clone(a,{});for(const p of u.codecs){if(p.channels=p.numChannels,delete p.numChannels,p.mimeType=p.mimeType||`${p.kind}/${p.name}`,p.parameters){const c=p.parameters;c.apt&&(c.apt=Number(c.apt)),c["packetization-mode"]&&(c["packetization-mode"]=Number(c["packetization-mode"]))}for(const c of p.rtcpFeedback||[])c.parameter||(c.parameter="")}return u}qi.getCapabilities=s;function i(a){const u=t.clone(a,{});u.mid&&(u.muxId=u.mid,delete u.mid);for(const p of u.codecs)p.channels&&(p.numChannels=p.channels,delete p.channels),p.mimeType&&!p.name&&(p.name=p.mimeType.split("/")[1]),delete p.mimeType;return u}return qi.mangleRtpParameters=i,qi}var sC;function UL(){if(sC)return zs;sC=1;var r=zs&&zs.__createBinding||(Object.create?function(d,h,w,R){R===void 0&&(R=w);var S=Object.getOwnPropertyDescriptor(h,w);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[w]}}),Object.defineProperty(d,R,S)}:function(d,h,w,R){R===void 0&&(R=w),d[R]=h[w]}),e=zs&&zs.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),n=zs&&zs.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var w in d)w!=="default"&&Object.prototype.hasOwnProperty.call(d,w)&&r(h,d,w);return e(h,d),h};Object.defineProperty(zs,"__esModule",{value:!0}),zs.Edge11=void 0;const t=gn(),s=No(),i=n(Jn()),a=n(Yi()),u=n($L()),p=fs(),c=new t.Logger("Edge11");let f=class Z1 extends p.HandlerInterface{static createFactory(){return()=>new Z1}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){c.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const h of this._rtpSenders.values())try{h.stop()}catch{}for(const h of this._rtpReceivers.values())try{h.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return c.debug("getNativeRtpCapabilities()"),u.getCapabilities()}async getNativeSctpCapabilities(){return c.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:h,iceParameters:w,iceCandidates:R,dtlsParameters:S,sctpParameters:_,iceServers:v,iceTransportPolicy:C,additionalSettings:T,proprietaryConstraints:M,extendedRtpCapabilities:k}){c.debug("run()"),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",k),video:a.getSendingRtpParameters("video",k)},this._remoteIceParameters=w,this._remoteIceCandidates=R,this._remoteDtlsParameters=S,this._cname=`CNAME-${i.generateRandomNumber()}`,this.setIceGatherer({iceServers:v,iceTransportPolicy:C}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(h){throw new s.UnsupportedError("not supported")}async restartIce(h){if(c.debug("restartIce()"),this._remoteIceParameters=h,!!this._transportReady){c.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,h,"controlling");for(const w of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(w);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:h,encodings:w,codecOptions:R,codec:S}){c.debug("send() [kind:%s, track.id:%s]",h.kind,h.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),c.debug("send() | calling new RTCRtpSender()");const _=new RTCRtpSender(h,this._dtlsTransport),v=i.clone(this._sendingRtpParametersByKind[h.kind],{});v.codecs=a.reduceCodecs(v.codecs,S);const C=v.codecs.some(k=>/.+\/rtx$/i.test(k.mimeType));w||(w=[{}]);for(const k of w)k.ssrc=i.generateRandomNumber(),C&&(k.rtx={ssrc:i.generateRandomNumber()});v.encodings=w,v.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const T=u.mangleRtpParameters(v);c.debug("send() | calling rtpSender.send() [params:%o]",T),await _.send(T);const M=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(M,_),{localId:M,rtpParameters:v,rtpSender:_}}async stopSending(h){c.debug("stopSending() [localId:%s]",h);const w=this._rtpSenders.get(h);if(!w)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(h);try{c.debug("stopSending() | calling rtpSender.stop()"),w.stop()}catch(R){throw c.warn("stopSending() | rtpSender.stop() failed:%o",R),R}}async pauseSending(h){}async resumeSending(h){}async replaceTrack(h,w){w?c.debug("replaceTrack() [localId:%s, track.id:%s]",h,w.id):c.debug("replaceTrack() [localId:%s, no track]",h);const R=this._rtpSenders.get(h);if(!R)throw new Error("RTCRtpSender not found");R.setTrack(w)}async setMaxSpatialLayer(h,w){c.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",h,w);const R=this._rtpSenders.get(h);if(!R)throw new Error("RTCRtpSender not found");const S=R.getParameters();S.encodings.forEach((_,v)=>{v<=w?_.active=!0:_.active=!1}),await R.setParameters(S)}async setRtpEncodingParameters(h,w){c.debug("setRtpEncodingParameters() [localId:%s, params:%o]",h,w);const R=this._rtpSenders.get(h);if(!R)throw new Error("RTCRtpSender not found");const S=R.getParameters();S.encodings.forEach((_,v)=>{S.encodings[v]={..._,...w}}),await R.setParameters(S)}async getSenderStats(h){const w=this._rtpSenders.get(h);if(!w)throw new Error("RTCRtpSender not found");return w.getStats()}async sendDataChannel(h){throw new s.UnsupportedError("not implemented")}async receive(h){const w=[];for(const R of h){const{trackId:S,kind:_}=R;c.debug("receive() [trackId:%s, kind:%s]",S,_)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const R of h){const{trackId:S,kind:_,rtpParameters:v}=R;c.debug("receive() | calling new RTCRtpReceiver()");const C=new RTCRtpReceiver(this._dtlsTransport,_);C.addEventListener("error",k=>{c.error('rtpReceiver "error" event [event:%o]',k)});const T=u.mangleRtpParameters(v);c.debug("receive() | calling rtpReceiver.receive() [params:%o]",T),await C.receive(T);const M=S;this._rtpReceivers.set(M,C),w.push({localId:M,track:C.track,rtpReceiver:C})}return w}async stopReceiving(h){for(const w of h){c.debug("stopReceiving() [localId:%s]",w);const R=this._rtpReceivers.get(w);if(!R)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(w);try{c.debug("stopReceiving() | calling rtpReceiver.stop()"),R.stop()}catch(S){c.warn("stopReceiving() | rtpReceiver.stop() failed:%o",S)}}}async pauseReceiving(h){}async resumeReceiving(h){}async getReceiverStats(h){const w=this._rtpReceivers.get(h);if(!w)throw new Error("RTCRtpReceiver not found");return w.getStats()}async receiveDataChannel(h){throw new s.UnsupportedError("not implemented")}setIceGatherer({iceServers:h,iceTransportPolicy:w}){const R=new RTCIceGatherer({iceServers:h||[],gatherPolicy:w||"all"});R.addEventListener("error",S=>{c.error('iceGatherer "error" event [event:%o]',S)});try{R.gather()}catch(S){c.debug("setIceGatherer() | iceGatherer.gather() failed: %s",S.toString())}this._iceGatherer=R}setIceTransport(){const h=new RTCIceTransport(this._iceGatherer);h.addEventListener("statechange",()=>{switch(h.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),h.addEventListener("icestatechange",()=>{switch(h.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),h.addEventListener("candidatepairchange",w=>{c.debug('iceTransport "candidatepairchange" event [pair:%o]',w.pair)}),this._iceTransport=h}setDtlsTransport(){const h=new RTCDtlsTransport(this._iceTransport);h.addEventListener("statechange",()=>{c.debug('dtlsTransport "statechange" event [state:%s]',h.state)}),h.addEventListener("dtlsstatechange",()=>{c.debug('dtlsTransport "dtlsstatechange" event [state:%s]',h.state),h.state==="closed"&&this.emit("@connectionstatechange","closed")}),h.addEventListener("error",w=>{c.error('dtlsTransport "error" event [event:%o]',w)}),this._dtlsTransport=h}async setupTransport({localDtlsRole:h}){c.debug("setupTransport()");const w=this._dtlsTransport.getLocalParameters();w.role=h,await new Promise((R,S)=>{this.safeEmit("@connect",{dtlsParameters:w},R,S)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const R of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(R);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(R=>R.algorithm==="sha-256"||R.algorithm==="sha-384"||R.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return zs.Edge11=f,zs}var Ws={},oC;function qL(){if(oC)return Ws;oC=1;var r=Ws&&Ws.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Ws&&Ws.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Ws&&Ws.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.ReactNativeUnifiedPlan=void 0;const t=n(Ki()),s=gn(),i=n(Jn()),a=n(Yi()),u=n(Io()),p=n(Ul()),c=fs(),f=Fo(),d=Wc(),h=new s.Logger("ReactNativeUnifiedPlan"),w={OS:1024,MIS:1024};let R=class eE extends c.HandlerInterface{static createFactory(){return()=>new eE}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(h.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{_.addTransceiver("audio"),_.addTransceiver("video");const v=await _.createOffer();try{_.close()}catch{}const C=t.parse(v.sdp);return u.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new f.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",I),video:a.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",I),video:a.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),v&&v.length>1&&v.forEach((ye,q)=>{ye.rid=`r${q}`});const k=i.clone(this._sendingRtpParametersByKind[_.kind],{});k.codecs=a.reduceCodecs(k.codecs,T);const N=i.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});N.codecs=a.reduceCodecs(N.codecs,T);const y=this._remoteSdp.getNextMediaSectionIdx(),F=this._pc.addTransceiver(_,{direction:"sendonly",streams:[this._sendStream],sendEncodings:v});let I=await this._pc.createOffer(),U=t.parse(I.sdp),K;this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:U});let Q=!1;const oe=(0,d.parse)((v||[{}])[0].scalabilityMode);v&&v.length===1&&oe.spatialLayers>1&&k.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(h.debug("send() | enabling legacy simulcast for VP9 SVC"),Q=!0,U=t.parse(I.sdp),K=U.media[y.idx],p.addLegacySimulcast({offerMediaObject:K,numStreams:oe.spatialLayers}),I={type:"offer",sdp:t.write(U)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I);const Z=F.mid;if(k.mid=Z,U=t.parse(this._pc.localDescription.sdp),K=U.media[y.idx],k.rtcp.cname=u.getCname({offerMediaObject:K}),!v)k.encodings=p.getRtpEncodings({offerMediaObject:K});else if(v.length===1){let ye=p.getRtpEncodings({offerMediaObject:K});Object.assign(ye[0],v[0]),Q&&(ye=[ye[0]]),k.encodings=ye}else k.encodings=v;if(k.encodings.length>1&&(k.codecs[0].mimeType.toLowerCase()==="video/vp8"||k.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const ye of k.encodings)ye.scalabilityMode?ye.scalabilityMode=`L1T${oe.temporalLayers}`:ye.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:K,reuseMid:y.reuseMid,offerRtpParameters:k,answerRtpParameters:N,codecOptions:C,extmapAllowMixed:!0});const de={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",de),await this._pc.setRemoteDescription(de),this._mapMidTransceiver.set(Z,F),{localId:Z,rtpParameters:k,rtpSender:F.sender}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");if(v.sender.replaceTrack(null),this._pc.removeTrack(v.sender),this._remoteSdp.closeMediaSection(v.mid))try{v.stop()}catch{}const T=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const M={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(_)}async pauseSending(_){this.assertSendDirection(),h.debug("pauseSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="inactive",this._remoteSdp.pauseMediaSection(_);const C=await this._pc.createOffer();h.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async resumeSending(_){this.assertSendDirection(),h.debug("resumeSending() [localId:%s]",_);const v=this._mapMidTransceiver.get(_);if(this._remoteSdp.resumeSendingMediaSection(_),!v)throw new Error("associated RTCRtpTransceiver not found");v.direction="sendonly";const C=await this._pc.createOffer();h.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async replaceTrack(_,v){this.assertSendDirection(),v?h.debug("replaceTrack() [localId:%s, track.id:%s]",_,v.id):h.debug("replaceTrack() [localId:%s, no track]",_);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");await C.sender.replaceTrack(v)}async setMaxSpatialLayer(_,v){this.assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{y<=v?N.active=!0:N.active=!1}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async setRtpEncodingParameters(_,v){this.assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",_,v);const C=this._mapMidTransceiver.get(_);if(!C)throw new Error("associated RTCRtpTransceiver not found");const T=C.sender.getParameters();T.encodings.forEach((N,y)=>{T.encodings[y]={...N,...v}}),await C.sender.setParameters(T),this._remoteSdp.muxMediaSectionSimulcast(_,T.encodings);const M=await this._pc.createOffer();h.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const k={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setRemoteDescription(k)}async getSenderStats(_){this.assertSendDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.sender.getStats()}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U,streamId:K}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const Q=U.mid||String(this._mapMidTransceiver.size);T.set(F,Q),this._remoteSdp.receive({mid:Q,kind:I,offerRtpParameters:U,streamId:K||U.rtcp.cname,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{trackId:F,rtpParameters:I}=y,U=T.get(F),K=N.media.find(Q=>String(Q.mid)===U);u.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{trackId:F}=y,I=T.get(F),U=this._pc.getTransceivers().find(K=>K.mid===I);if(U)this._mapMidTransceiver.set(I,U),C.push({localId:I,track:U.receiver.track,rtpReceiver:U.receiver});else throw new Error("new RTCRtpTransceiver not found")}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const T of _)this._mapMidTransceiver.delete(T)}async pauseReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("pauseReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async resumeReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("resumeReceiving() [localId:%s]",T);const M=this._mapMidTransceiver.get(T);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(T)}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async getReceiverStats(_){this.assertRecvDirection();const v=this._mapMidTransceiver.get(_);if(!v)throw new Error("associated RTCRtpTransceiver not found");return v.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=u.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ws.ReactNativeUnifiedPlan=R,Ws}var Ys={},aC;function HL(){if(aC)return Ys;aC=1;var r=Ys&&Ys.__createBinding||(Object.create?function(S,_,v,C){C===void 0&&(C=v);var T=Object.getOwnPropertyDescriptor(_,v);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(S,C,T)}:function(S,_,v,C){C===void 0&&(C=v),S[C]=_[v]}),e=Ys&&Ys.__setModuleDefault||(Object.create?function(S,_){Object.defineProperty(S,"default",{enumerable:!0,value:_})}:function(S,_){S.default=_}),n=Ys&&Ys.__importStar||function(S){if(S&&S.__esModule)return S;var _={};if(S!=null)for(var v in S)v!=="default"&&Object.prototype.hasOwnProperty.call(S,v)&&r(_,S,v);return e(_,S),_};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ReactNative=void 0;const t=n(Ki()),s=gn(),i=No(),a=n(Jn()),u=n(Yi()),p=n(Io()),c=n(op()),f=fs(),d=Fo(),h=new s.Logger("ReactNative"),w={OS:1024,MIS:1024};let R=class tE extends f.HandlerInterface{static createFactory(){return()=>new tE}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(h.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const _=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const v=await _.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{_.close()}catch{}const C=t.parse(v.sdp);return p.extractRtpCapabilities({sdpObject:C})}catch(v){try{_.close()}catch{}throw v}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:_,iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,iceServers:k,iceTransportPolicy:N,additionalSettings:y,proprietaryConstraints:F,extendedRtpCapabilities:I}){h.debug("run()"),this._direction=_,this._remoteSdp=new d.RemoteSdp({iceParameters:v,iceCandidates:C,dtlsParameters:T,sctpParameters:M,planB:!0}),this._sendingRtpParametersByKind={audio:u.getSendingRtpParameters("audio",I),video:u.getSendingRtpParameters("video",I)},this._sendingRemoteRtpParametersByKind={audio:u.getSendingRemoteRtpParameters("audio",I),video:u.getSendingRemoteRtpParameters("video",I)},T.role&&T.role!=="auto"&&(this._forcedLocalDtlsRole=T.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:k||[],iceTransportPolicy:N||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...y},F),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(h.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(_){h.debug("updateIceServers()");const v=this._pc.getConfiguration();v.iceServers=_,this._pc.setConfiguration(v)}async restartIce(_){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(_),!!this._transportReady)if(this._direction==="send"){const v=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const C={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}else{const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}}async getTransportStats(){return this._pc.getStats()}async send({track:_,encodings:v,codecOptions:C,codec:T}){var M;this.assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",_.kind,_.id),T&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(_),this._pc.addStream(this._sendStream);let k=await this._pc.createOffer(),N=t.parse(k.sdp),y;const F=a.clone(this._sendingRtpParametersByKind[_.kind],{});F.codecs=u.reduceCodecs(F.codecs);const I=a.clone(this._sendingRemoteRtpParametersByKind[_.kind],{});if(I.codecs=u.reduceCodecs(I.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(M=this._forcedLocalDtlsRole)!==null&&M!==void 0?M:"client",localSdpObject:N}),_.kind==="video"&&v&&v.length>1&&(h.debug("send() | enabling simulcast"),N=t.parse(k.sdp),y=N.media.find(Q=>Q.type==="video"),c.addLegacySimulcast({offerMediaObject:y,track:_,numStreams:v.length}),k={type:"offer",sdp:t.write(N)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",k),await this._pc.setLocalDescription(k),N=t.parse(this._pc.localDescription.sdp),y=N.media.find(Q=>Q.type===_.kind),F.rtcp.cname=p.getCname({offerMediaObject:y}),F.encodings=c.getRtpEncodings({offerMediaObject:y,track:_}),v)for(let Q=0;Q<F.encodings.length;++Q)v[Q]&&Object.assign(F.encodings[Q],v[Q]);if(F.encodings.length>1&&(F.codecs[0].mimeType.toLowerCase()==="video/vp8"||F.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const Q of F.encodings)Q.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:y,offerRtpParameters:F,answerRtpParameters:I,codecOptions:C});const U={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",U),await this._pc.setRemoteDescription(U);const K=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(K,_),{localId:K,rtpParameters:F}}async stopSending(_){this.assertSendDirection(),h.debug("stopSending() [localId:%s]",_);const v=this._mapSendLocalIdTrack.get(_);if(!v)throw new Error("track not found");this._mapSendLocalIdTrack.delete(_),this._sendStream.removeTrack(v),this._pc.addStream(this._sendStream);const C=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C);try{await this._pc.setLocalDescription(C)}catch(M){if(this._sendStream.getTracks().length===0){h.warn("stopSending() | ignoring expected error due no sending tracks: %s",M.toString());return}throw M}if(this._pc.signalingState==="stable")return;const T={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",T),await this._pc.setRemoteDescription(T)}async pauseSending(_){}async resumeSending(_){}async replaceTrack(_,v){throw new i.UnsupportedError("not implemented")}async setMaxSpatialLayer(_,v){throw new i.UnsupportedError("not implemented")}async setRtpEncodingParameters(_,v){throw new i.UnsupportedError("not implemented")}async getSenderStats(_){throw new i.UnsupportedError("not implemented")}async sendDataChannel({ordered:_,maxPacketLifeTime:v,maxRetransmits:C,label:T,protocol:M}){var k;this.assertSendDirection();const N={negotiated:!0,id:this._nextSendSctpStreamId,ordered:_,maxPacketLifeTime:v,maxRetransmitTime:v,maxRetransmits:C,protocol:M};h.debug("sendDataChannel() [options:%o]",N);const y=this._pc.createDataChannel(T,N);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const I=await this._pc.createOffer(),U=t.parse(I.sdp),K=U.media.find(oe=>oe.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(k=this._forcedLocalDtlsRole)!==null&&k!==void 0?k:"client",localSdpObject:U}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",I),await this._pc.setLocalDescription(I),this._remoteSdp.sendSctpAssociation({offerMediaObject:K});const Q={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",Q),await this._pc.setRemoteDescription(Q),this._hasDataChannelMediaSection=!0}const F={streamId:N.id,ordered:N.ordered,maxPacketLifeTime:N.maxPacketLifeTime,maxRetransmits:N.maxRetransmits};return{dataChannel:y,sctpStreamParameters:F}}async receive(_){var v;this.assertRecvDirection();const C=[],T=new Map;for(const y of _){const{trackId:F,kind:I,rtpParameters:U}=y;h.debug("receive() [trackId:%s, kind:%s]",F,I);const K=I;let Q=y.streamId||U.rtcp.cname;h.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),Q+=`-hack-${a.generateRandomNumber()}`,T.set(F,Q),this._remoteSdp.receive({mid:K,kind:I,offerRtpParameters:U,streamId:Q,trackId:F})}const M={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",M),await this._pc.setRemoteDescription(M);let k=await this._pc.createAnswer();const N=t.parse(k.sdp);for(const y of _){const{kind:F,rtpParameters:I}=y,U=F,K=N.media.find(Q=>String(Q.mid)===U);p.applyCodecParameters({offerRtpParameters:I,answerMediaObject:K})}k={type:"answer",sdp:t.write(N)},this._transportReady||await this.setupTransport({localDtlsRole:(v=this._forcedLocalDtlsRole)!==null&&v!==void 0?v:"client",localSdpObject:N}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",k),await this._pc.setLocalDescription(k);for(const y of _){const{kind:F,trackId:I,rtpParameters:U}=y,K=I,Q=F,oe=T.get(I),de=this._pc.getRemoteStreams().find(ye=>ye.id===oe).getTrackById(K);if(!de)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(K,{mid:Q,rtpParameters:U}),C.push({localId:K,track:de})}return C}async stopReceiving(_){this.assertRecvDirection();for(const T of _){h.debug("stopReceiving() [localId:%s]",T);const{mid:M,rtpParameters:k}=this._mapRecvLocalIdInfo.get(T)||{};this._mapRecvLocalIdInfo.delete(T),this._remoteSdp.planBStopReceiving({mid:M,offerRtpParameters:k})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);const C=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C)}async pauseReceiving(_){}async resumeReceiving(_){}async getReceiverStats(_){throw new i.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:_,label:v,protocol:C}){var T;this.assertRecvDirection();const{streamId:M,ordered:k,maxPacketLifeTime:N,maxRetransmits:y}=_,F={negotiated:!0,id:M,ordered:k,maxPacketLifeTime:N,maxRetransmitTime:N,maxRetransmits:y,protocol:C};h.debug("receiveDataChannel() [options:%o]",F);const I=this._pc.createDataChannel(v,F);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const U={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",U),await this._pc.setRemoteDescription(U);const K=await this._pc.createAnswer();if(!this._transportReady){const Q=t.parse(K.sdp);await this.setupTransport({localDtlsRole:(T=this._forcedLocalDtlsRole)!==null&&T!==void 0?T:"client",localSdpObject:Q})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",K),await this._pc.setLocalDescription(K),this._hasDataChannelMediaSection=!0}return{dataChannel:I}}async setupTransport({localDtlsRole:_,localSdpObject:v}){v||(v=t.parse(this._pc.localDescription.sdp));const C=p.extractDtlsParameters({sdpObject:v});C.role=_,this._remoteSdp.updateDtlsRole(_==="client"?"server":"client"),await new Promise((T,M)=>{this.safeEmit("@connect",{dtlsParameters:C},T,M)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ys.ReactNative=R,Ys}var cC;function rE(){if(cC)return ci;cC=1;var r=ci&&ci.__createBinding||(Object.create?function(I,U,K,Q){Q===void 0&&(Q=K);var oe=Object.getOwnPropertyDescriptor(U,K);(!oe||("get"in oe?!U.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return U[K]}}),Object.defineProperty(I,Q,oe)}:function(I,U,K,Q){Q===void 0&&(Q=K),I[Q]=U[K]}),e=ci&&ci.__setModuleDefault||(Object.create?function(I,U){Object.defineProperty(I,"default",{enumerable:!0,value:U})}:function(I,U){I.default=U}),n=ci&&ci.__importStar||function(I){if(I&&I.__esModule)return I;var U={};if(I!=null)for(var K in I)K!=="default"&&Object.prototype.hasOwnProperty.call(I,K)&&r(U,I,K);return e(U,I),U},t=ci&&ci.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(ci,"__esModule",{value:!0}),ci.Device=ci.detectDevice=void 0;const s=t(CL()),i=gn(),a=zc(),u=No(),p=n(Jn()),c=n(Yi()),f=H1(),d=ML(),h=AL(),w=jL(),R=LL(),S=NL(),_=IL(),v=FL(),C=BL(),T=UL(),M=qL(),k=HL(),N=new i.Logger("Device");function y(){if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(typeof RTCPeerConnection>"u"){N.warn("this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(N.debug("this._detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(N.debug("this._detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(typeof navigator=="object"&&typeof navigator.userAgent=="string"){const I=navigator.userAgent,U=s.default.getParser(I),K=U.getEngine();if(U.satisfies({chrome:">=111",chromium:">=111","microsoft edge":">=111"}))return"Chrome111";if(U.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(U.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(U.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(U.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(U.satisfies({firefox:">=60"}))return"Firefox60";if(U.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(U.satisfies({safari:">=12.0"})&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(U.satisfies({safari:">=11"}))return"Safari11";if(U.satisfies({"microsoft edge":">=11"})&&U.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(K.name&&K.name.toLowerCase()==="blink"){const Q=I.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(Q){const oe=Number(Q[1]);return oe>=111?"Chrome111":oe>=74?"Chrome74":oe>=70?"Chrome70":oe>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{N.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",U.getBrowserName(),U.getBrowserVersion());return}}else{N.warn("this._detectDevice() | unknown device");return}}ci.detectDevice=y;let F=class{constructor({handlerName:U,handlerFactory:K,Handler:Q}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,N.debug("constructor()"),Q)if(N.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),typeof Q=="string")U=Q;else throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");if(U&&K)throw new TypeError("just one of handlerName or handlerInterface can be given");if(K)this._handlerFactory=K;else{if(U)N.debug("constructor() | handler given: %s",U);else if(U=y(),U)N.debug("constructor() | detected handler: %s",U);else throw new u.UnsupportedError("device not supported");switch(U){case"Chrome111":this._handlerFactory=d.Chrome111.createFactory();break;case"Chrome74":this._handlerFactory=h.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=w.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=R.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=S.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=_.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=v.Safari12.createFactory();break;case"Safari11":this._handlerFactory=C.Safari11.createFactory();break;case"Edge11":this._handlerFactory=T.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=M.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=k.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${U}"`)}}const oe=this._handlerFactory();this._handlerName=oe.name,oe.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new u.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new u.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:U}){N.debug("load() [routerRtpCapabilities:%o]",U),U=p.clone(U,void 0);let K;try{if(this._loaded)throw new u.InvalidStateError("already loaded");c.validateRtpCapabilities(U),K=this._handlerFactory();const Q=await K.getNativeRtpCapabilities();N.debug("load() | got native RTP capabilities:%o",Q),c.validateRtpCapabilities(Q),this._extendedRtpCapabilities=c.getExtendedRtpCapabilities(Q,U),N.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=c.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=c.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=c.getRecvRtpCapabilities(this._extendedRtpCapabilities),c.validateRtpCapabilities(this._recvRtpCapabilities),N.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await K.getNativeSctpCapabilities(),N.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),c.validateSctpCapabilities(this._sctpCapabilities),N.debug("load() succeeded"),this._loaded=!0,K.close()}catch(Q){throw K&&K.close(),Q}}canProduce(U){if(this._loaded){if(U!=="audio"&&U!=="video")throw new TypeError(`invalid kind "${U}"`)}else throw new u.InvalidStateError("not loaded");return this._canProduceByKind[U]}createSendTransport({id:U,iceParameters:K,iceCandidates:Q,dtlsParameters:oe,sctpParameters:Z,iceServers:de,iceTransportPolicy:ye,additionalSettings:q,proprietaryConstraints:ee,appData:ce}){return N.debug("createSendTransport()"),this.createTransport({direction:"send",id:U,iceParameters:K,iceCandidates:Q,dtlsParameters:oe,sctpParameters:Z,iceServers:de,iceTransportPolicy:ye,additionalSettings:q,proprietaryConstraints:ee,appData:ce})}createRecvTransport({id:U,iceParameters:K,iceCandidates:Q,dtlsParameters:oe,sctpParameters:Z,iceServers:de,iceTransportPolicy:ye,additionalSettings:q,proprietaryConstraints:ee,appData:ce}){return N.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:U,iceParameters:K,iceCandidates:Q,dtlsParameters:oe,sctpParameters:Z,iceServers:de,iceTransportPolicy:ye,additionalSettings:q,proprietaryConstraints:ee,appData:ce})}createTransport({direction:U,id:K,iceParameters:Q,iceCandidates:oe,dtlsParameters:Z,sctpParameters:de,iceServers:ye,iceTransportPolicy:q,additionalSettings:ee,proprietaryConstraints:ce,appData:ve}){if(this._loaded){if(typeof K!="string")throw new TypeError("missing id");if(typeof Q!="object")throw new TypeError("missing iceParameters");if(Array.isArray(oe)){if(typeof Z!="object")throw new TypeError("missing dtlsParameters");if(de&&typeof de!="object")throw new TypeError("wrong sctpParameters");if(ve&&typeof ve!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new u.InvalidStateError("not loaded");const fe=new f.Transport({direction:U,id:K,iceParameters:Q,iceCandidates:oe,dtlsParameters:Z,sctpParameters:de,iceServers:ye,iceTransportPolicy:q,additionalSettings:ee,proprietaryConstraints:ce,appData:ve,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",fe),fe}};return ci.Device=F,ci}var Rc={},Vg={},lC;function VL(){return lC||(lC=1,Object.defineProperty(Vg,"__esModule",{value:!0})),Vg}var zg={},uC;function zL(){return uC||(uC=1,Object.defineProperty(zg,"__esModule",{value:!0})),zg}var dC;function WL(){return dC||(dC=1,function(r){var e=Rc&&Rc.__createBinding||(Object.create?function(t,s,i,a){a===void 0&&(a=i);var u=Object.getOwnPropertyDescriptor(s,i);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(t,a,u)}:function(t,s,i,a){a===void 0&&(a=i),t[a]=s[i]}),n=Rc&&Rc.__exportStar||function(t,s){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,t,i)};Object.defineProperty(r,"__esModule",{value:!0}),n(rE(),r),n(H1(),r),n(B1(),r),n($1(),r),n(U1(),r),n(q1(),r),n(VL(),r),n(zL(),r),n(fs(),r),n(No(),r)}(Rc)),Rc}var fC;function YL(){return fC||(fC=1,function(r){var e=Ls&&Ls.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var w=Object.getOwnPropertyDescriptor(f,d);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,w)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),n=Ls&&Ls.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),t=Ls&&Ls.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(f,c,d);return n(f,c),f},s=Ls&&Ls.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.debug=r.parseScalabilityMode=r.detectDevice=r.Device=r.version=r.types=void 0;const i=s(sp());r.debug=i.default;const a=rE();Object.defineProperty(r,"Device",{enumerable:!0,get:function(){return a.Device}}),Object.defineProperty(r,"detectDevice",{enumerable:!0,get:function(){return a.detectDevice}});const u=t(WL());r.types=u,r.version="3.6.80";var p=Wc();Object.defineProperty(r,"parseScalabilityMode",{enumerable:!0,get:function(){return p.parse}})}(Ls)),Ls}var KL=YL();class pl extends I1{constructor(e){var{user:n,track_type:t,track_kind:s,producer_name:i}=e;return super(e),this.transport={},this.producer={},this.consumer={},this.old_outgoing_track=!1,this.track_type=t,this.track_kind=s,this.producer_name=i,this}async addTrack(e){var{track:n,track_type:t}=e;console.log("addTrack init"),super.addTrack(e);var s=await this.createProducerTransport();if(!s){this.retryAddTrack(e);return}var i=await this.produceTrack({track:n,track_type:t});if(!i){this.retryAddTrack(e);return}this.onTrackAdded(e)}removeTrack(e){var{track:n}=e;this.closeProducer(),this.onTrackRemoved({track:n})}replaceTrack(e){var{track:n}=e;if(this.producer.id)return this.producer.producer.replaceTrack({track:n}),this.onTrackReplaced(e),!0}async getTrack(e){var{user_id:n,track_type:t,track_kind:s,get_fresh:i=!1}=e;console.log("sfu_rtc_client getTrack init");var a=this.connector.producers[this.producer_name];if(a){var{track_underway:u,existing_track:p,track_name:c}=super.getTrack(e);if(!(!i&&u)){if(i&&p)this.dropTrack({track:p});else if(p){this.onTrack({track:p,track_type:t});return}this.trackUnderway({track_name:c});var f=await this.createTransport({transport_type:"consumer"});if(!f){this.retryGetTrack(e);return}var d=await this.consumeTrack({user_id:n,track_type:t,track_kind:s});if(!d){this.retryGetTrack(e);return}this.onTrack({track:d,track_type:t})}}}dropTrack(e){var{track:n}=e;n&&(this.closeConsumer(),this.closeTransport(),this.consumer={})}getScreenStream(e={}){return e.user_id=this.user_id,e.track_type="screen",e.track_kind="video",this.getTrack(e)}dropScreenStream(){var e=this.tracks_wrt_name.screen_video_incoming,n=this.tracks[e];this.dropTrack({track:n})}dropUserStream(){var e=this.tracks_wrt_name.user_video_incoming,n=this.tracks_wrt_name.user_audio_incoming,t=this.tracks[e],s=this.tracks[n];this.dropTrack({track:t}),this.dropTrack({track:s})}createServerTransport(e){var{transport_type:n}=e;return this.rtc_client.socketEmit({event:"room:create-transport",return_response:!0,data:{connection_id:this.id,transport_type:n}})}async createTransport(e){var{transport_type:n}=e;console.log("createTransport init");var{transport:t}=await this.createServerTransport({transport_type:n});if(t){var s={id:t.id,iceParameters:t.ice_parameters,iceCandidates:t.ice_candidates,dtlsParameters:t.dtls_parameters,iceServers:this.rtc_client.rtc_config.iceServers};if(n=="producer")var i=this.connector.device.createSendTransport(s);else var i=this.connector.device.createRecvTransport(s);if(i)return i.on("connect",async(a,u,p)=>{await this.rtc_client.socketEmit({event:"room:connect-transport",data:{transport_id:i.id,connect_parameters:{dtls_parameters:a.dtlsParameters}}}),u()}),i.handler._pc.onconnectionstatechange=a=>{var u=i.handler._pc.connectionState;console.log("transport.handler._pc onconnectionstatechange",u),u=="failed"&&this.keepReconnecting(),u=="connected"&&this.is_reconnecting&&this.reconnected()},this.transport={id:i.id,transport:i},this.transport}}async createProducerTransport(){if(this.transport.id)return this.transport;var e=await this.createTransport({transport_type:"producer"});if(e){var e=e.transport;return e.on("produce",async(n,t,s)=>{var i=n.appData.track_type,a=n.kind,{producer:u}=await this.rtc_client.socketEmit({event:"room:produce-transport",return_response:!0,data:{transport_id:e.id,producer_name:this.producer_name,track_type:i,track_kind:a,produce_parameters:{kind:n.kind,rtp_parameters:n.rtpParameters}}});if(!u){s();return}t({id:u.id})}),e}}async produceTrack(e){var{track:n,track_type:t}=e,s=this.connector[t+"_encodings"]||[];n.kind=="audio"&&(s=[]);var i=await this.transport.transport.produce({track:n,encodings:s,codecOptions:this.connector.codec_options,stopTracks:!1,zeroRtpOnPause:!0,appData:{track_type:t}}).catch(a=>{console.log("produceTrack produce catch",a)});if(i)return i.on("trackended",()=>{console.log("producer trackended")}),this.producer={id:i.id,producer:i,producer_name:this.producer_name},i}async consumeTrack(e){var{track_type:n,track_kind:t}=e,s=this.transport.id,i=this.connector.producers[this.producer_name];if(i){var{consumer:a}=await this.rtc_client.socketEmit({event:"room:consume-transport",return_response:!0,data:{transport_id:s,producer_id:i.id,producer_transport_id:i.transport_id,device_rtp_capabilities:this.connector.device.rtpCapabilities}});if(a){var u=await this.transport.transport.consume({id:a.id,producerId:a.producer_id,kind:a.kind,rtpParameters:a.rtp_parameters}).catch(c=>{console.log("consumeTrack produce catch",c)});if(u){u.on("trackended",()=>{console.log("consumer trackended")}),u.observer.on("pause",()=>{console.log("pause")}),u.observer.on("close",()=>{console.log("close")}),this.rtc_client.socketEmit({event:"room:resume-consumer",data:{consumer_id:u.id,transport_id:s}});var p=u.track;return this.consumer={id:u.id,consumer:u,producer_id:a.producer_id,transport_id:s,producer_name:this.producer_name,track_type:n,track_kind:t},p}}}}static makeProducerName(e){var{user_id:n,track_type:t,track_kind:s}=e;return`${n}_${t}_${s}_producer`}static makeConsumerName(e){var{user_id:n,track_type:t,track_kind:s}=e;return`${n}_${t}_${s}_consumer`}pauseProducer(){this.producer.producer.pause(),this.rtc_client.socketEmit({event:"room:pause-producer",data:{producer_id:this.producer.id,transport_id:this.transport.id}})}resumeProducer(){this.producer.producer.resume(),this.rtc_client.socketEmit({event:"room:resume-producer",data:{producer_id:this.producer.id,transport_id:this.transport.id}})}closeProducer(){var e=this.producer;e.id&&(e.producer.close(),this.rtc_client.socketEmit({event:"room:close-producer",data:{producer_id:e.id,transport_id:this.transport.id,is_reconnecting:this.is_reconnecting}}),this.producer={})}closeConsumer(){var e=this.consumer;if(e.id){var n=e.consumer.track;e.consumer.close(),n.stopTrack(),this.rtc_client.socketEmit({event:"room:close-consumer",data:{consumer_id:e.id,transport_id:e.transport_id}}),this.consumer={}}}closeTransport(){this.transport.id&&(this.transport.transport.close(),this.transport={})}close(e){super.close(e),this.closeProducer(),this.closeConsumer(),this.closeTransport()}closeConnection(){this.closeTransport()}async restartIce(){var{ice_parameters:e}=await this.rtc_client.socketEmit({event:"room:restart-ice",data:{transport_id:this.transport.id},return_response:!0});console.log("reconnect ice_parameters",e),e&&this.transport.transport.restartIce({iceParameters:e})}async reconnect(){super.reconnectInit(),this.restartIce()}mayBeRefreshConsumer({producer:e}){var n=this.consumer;console.log("mayBeRefreshConsumer","producer",e,"consumer",n),this.producer_name==e.name&&(console.log("mayBeRefreshConsumer refreshing"),this.getTrack({user_id:this.user_id,track_type:this.track_type,track_kind:this.track_kind,get_fresh:!0}))}getPeer(){var e=this.transport.transport||{};return e.handler&&e.handler._pc}onServerConsumerClosed(e){var{consumer_id:n}=e;this.consumer.id==n&&this.closeConsumer()}onServerTransportClosed(e){var{transport_id:n}=e;this.transport.id==n&&this.closeTransport()}onNewProducer(e){var{producer:n}=e;console.log("sfu_rtc_connection onNewProducer",n,this.consumer),this.type!="producer"&&n.id!=this.consumer.producer_id&&this.mayBeRefreshConsumer({producer:n})}}class hC extends F1{constructor(e){super(e),this.type="sfu",this.device=!1,this.producers={},this.user_encodings=[{maxBitrate:1e5,scalabilityMode:"S1T3"},{maxBitrate:5e5,scalabilityMode:"S1T3"}],this.screen_encodings=[{maxBitrate:1e6}],this.codec_options={videoGoogleStartBitrate:1e3},this.rtc_client.socket_events=[...this.rtc_client.socket_events,"room:consumer-closed","room:producer-closed","room:transport-closed","room:new-producer","room:get-producer"],this.attachSocketListeners()}attachSocketListeners(){this.rtc_client.socket.on("room:consumer-closed",e=>{this.onServerConsumerClosed(e)}),this.rtc_client.socket.on("room:producer-closed",e=>{this.onServerProducerClosed(e)}),this.rtc_client.socket.on("room:transport-closed",e=>{this.onServerTransportClosed(e)}),this.rtc_client.socket.on("room:new-producer",e=>{this.onNewProducer(e)}),this.rtc_client.socket.on("room:get-producer",e=>{this.onGetProducer(e)})}async prepare({router:e}){this.device=new KL.Device,await this.device.load({routerRtpCapabilities:e.rtp_capabilities})}async initiate(){super.initiate(),this.considerAllProducersNew()}replaceTrack(e){var{track:n}=e,t=n.kind,s=n.track_info.type,i=this.getProducerConnection({track_kind:t,track_type:s});i&&i.replaceTrack(e)}addTrack({track:e,track_type:n,stream:t}){var s=pl.makeProducerName({user_id:this.rtc_client.user.id,track_type:n,track_kind:e.kind}),i=this.getOrMakeConnection({id:s,type:"producer",user:this.rtc_client.user,producer_name:s,track_type:n,track_kind:e.kind});i.addTrack({track:e,track_type:n,stream:t})}removeTrack({track_type:e,track_kind:n}){var t=this.getProducerConnection({track_type:e,track_kind:n});t&&t.close()}pauseTrack({track_kind:e}){var n=this.getProducerConnection({track_kind:e});n&&n.pauseProducer()}resumeTrack({track_kind:e}){var n=this.getProducerConnection({track_kind:e});n&&n.resumeProducer()}getTrack({user_id:e,track_type:n,track_kind:t}){var s=pl.makeProducerName({user_id:e,track_type:n,track_kind:t}),i=this.producers[s];if(console.log("ttttt getTrack","track_type",n,"track_kind",t,"producer_name",s,"producer_available",i),!!i){var a=pl.makeConsumerName({user_id:e,track_type:n,track_kind:t}),u=this.getOrMakeConnection({id:a,type:"consumer",user:this.rtc_client.participants[e],producer_name:s,track_type:n,track_kind:t});u&&u.getTrack({user_id:e,track_type:n,track_kind:t})}}dropTrack({user_id:e,track_type:n,track_kind:t}){var s=this.getConsumerConnection({user_id:e,track_type:n,track_kind:t});s&&s.close()}onLocalTrackEnded(e){var{track:n}=e,t=this.connections[n.track_info.connection_id];t&&t.close()}onJoined({user:e,available_producers:n}){e.id==this.rtc_client.user.id&&(this.producers=n,this.initiate())}async onPostJoinData({available_producers:e}){this.producers=e,this.considerAllProducersNew()}considerAllProducersNew(){Object.values(this.producers).forEach(e=>{this.onNewProducer({producer:e,user_id:e.user_id})})}getOrMakeConnection(e){var{id:n,user:t,type:s}=e;if(console.log("ttttt getOrMakeConnection","id",n,"type",s,"existing_connection",this.connections[n],"params",e),this.connections[n])return this.connections[n];e.rtc_client=this.rtc_client,e.connector=this;var i=new pl(e);return this.connections[i.id]=i,this.connections_wrt_user[t.id]=this.connections_wrt_user[t.id]||[],this.connections_wrt_user[t.id].push(i.id),i}_onConnectionReconnecting(e){var{connection:n}=e,t=n.user_id,s=n.type;s=="producer"&&Object.values(this.connections).forEach(i=>{i.user_id!=t||i.type!="consumer"||i.onOtherEndReconnecting(e)})}_onConnectionReconnected(e){var{connection:n}=e,t=n.user_id,s=n.type;s=="producer"&&Object.values(this.connections).forEach(i=>{i.user_id!=t||i.type!="consumer"||i.onOtherEndReconnected(e)})}onServerConsumerClosed(e){Object.values(this.connections).forEach(n=>{n.onServerConsumerClosed(e)})}onServerTransportClosed(e){Object.values(this.connections).forEach(n=>{n.onServerTransportClosed(e)})}onServerProducerClosed(e){var{producer_name:n}=e;delete this.producers[n]}onNewProducer(e){var{producer:n,user_id:t}=e;console.log("sfu_rtc_client onNewProducer",n),this.producers[n.name]=n;var s=n.track_kind.charAt(0).toUpperCase()+n.track_kind.slice(1),i=n.track_type.charAt(0).toUpperCase()+n.track_type.slice(1);Object.values(this.connections).forEach(a=>{a.user_id==t&&a.onNewProducer(e)}),this.rtc_client.callCallback({callback_name:`onPotential${i}${s}`,data:{user_id:t}})}onGetProducer(e){var{producer_name:n,user_id:t,socket_response_event:s}=e,i=!1,a=this.connections[n];if(console.log("onGetProducer",a),a&&!a.is_reconnecting){var u=a.producer;i={id:u.id,name:u.producer_name,transport_id:a.transport.id}}this.socketEmit({data:{producer:i,to_user_id:t,socket_response_event:s}})}getProducerConnection({track_type:e="user",track_kind:n}){var t=pl.makeProducerName({user_id:this.rtc_client.user.id,track_type:e,track_kind:n});return console.log("tttttt getProducerConnection",t,this.connections[t]),this.connections[t]}getConsumerConnection({user_id:e,track_type:n="user",track_kind:t}){var s=pl.makeConsumerName({user_id:e,track_type:n,track_kind:t});return console.log("tttttt getConsumerConnection",s,this.connections[s]),this.connections[s]}}class nE{get socket(){return this.sockett}set socket(e){this.sockett=e,this.rtc_helpers=new A1({socket:e}),this.helpers=new gL,this.attachSocketListeners()}constructor(){this.connector={},this.peer_connector={},this.sfu_connector={},this.have_joined=!1,this.server_url="",this.sockett=!1,this.participants={},this.participants_ids=[],this.host_ids=[],this.stream=!1,this.screen_stream=!1,this.extra_audio_stream=!1,this.user_media_constraints={video:!0,audio:{echoCancellation:!0,noiseSuppression:!0}},this.initial_user_media_constraints=this.user_media_constraints,this.display_media_constraints={video:!0},this.user={id:""},this.room_type="",this.current_room_type="",this.room={id:""},this.bandwidth={},this.rtc_config={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},this.is_video_on=!1,this.is_audio_on=!1,this.join_call_params={},this.is_disconnected=!1,this.reconnecting_timeout_id=!1,this.reconnection_failed_timeout_id=!1,this.http_ping_interval_id=!1,this.callbacks=["onConnection","onJoined","onLeft","onUserStream","onUserVideoStream","onUserAudioStream","onScreenStream","onPotentialUserVideo","onPotentialUserAudio","onPotentialScreenVideo","onUserVideoStreamEnded","onUserAudioStreamEnded","onUserVideoTrackAdded","onScreenStreamEnded","onStreamReconnecting","onStreamReconnected","onLocalUserVideoStream","onLocalUserAudioStream","onScreenShared","onShareScreenStopped","onVideoSwitched","onAudioSwitched","onCallStarted","onCallEnded","onUsersAdded","onHandRaised","onHandLowered","onReaction","onSpeaking","onStoppedSpeaking","onHostAdded","onHostRemoved","onVideoError","onAudioError","onShareScreenError","onRemoved","onInitPeer","onUserVideoSwitched","onUserAudioSwitched","onRecordingStarted","onRecordingStopped","onUserShareScreenStopped","onReconnected","onReconnecting","onReconnectionFailed","onConnectionReconnecting","onConnectionReconnected","onSocketReceived","onSocketSent","onSocketDisconnected","onSocketConnected","onLeaveCall","onPostJoinData","onRoomTypeChanged","onSpeakRequest","onAllowedToSpeak"],this.socket_events=["room:joined","room:left","room:removed","room:video-switched","room:audio-switched","room:can-make-connection","room:screen-shared","room:share-screen-stopped","room:created","room:deleted","room:users-added","room:hand-raised","room:hand-lowered","room:recording-started","room:recording-stopped","room:reaction","room:host-added","room:host-removed","room:switch-user-audio","room:switch-user-video","room:stop-user-share-screen","room:reconnecting","room:reconnected","room:connection-reconnecting","room:connection-reconnected","room:current-type-changed","room:invitation-updated","room:request-get-track","room:request-remove-track","room:request-host-to-speak","room:allow-user-to-speak"],this.enableMultipleCallbacks(),window.rtc_client=this}enableMultipleCallbacks(){this.callbacks.forEach(e=>{Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[`__${e}`]},set:function(n){n.callback_name=e,this[`__${e}`]=this[`__${e}`]||[],this[`__${e}`].push(n),console.log("setter: "+e)}})})}attachSocketListeners(){this.removeSocketListeners(),this.socket.onAny((e,n)=>{console.log("socket received:",e,n),this._onSocketReceived({event:e,data:n})}),this.socket.on("disconnect",e=>{console.log("socket disconnected: ",e),this._onSocketDisconnected({reason:e,socket_id:this.socket.id})}),this.socket.on("connect",()=>{console.log("socket connected",JSON.parse(JSON.stringify(this.socket.sendBuffer))),this._onSocketConnected()}),this.socket.on("room:joined",e=>{this._onJoined(e)}),this.socket.on("room:left",e=>{this._onLeft(e)}),this.socket.on("room:removed",e=>{this.callCallback({callback:this.onRemoved,data:e})}),this.socket.on("room:video-switched",e=>{var{user_id:n}=e;n!=this.user.id&&this._onVideoSwitched(e)}),this.socket.on("room:audio-switched",e=>{var{user_id:n}=e;n!=this.user.id&&this._onAudioSwitched(e)}),this.socket.on("room:can-make-connection",e=>{this.initiateConnection(e)}),this.socket.on("room:screen-shared",e=>{this._onScreenShared(e)}),this.socket.on("room:share-screen-stopped",e=>{this._onShareScreenStopped(e)}),this.socket.on("room:created",e=>{this.callCallback({callback:this.onCallStarted,data:e})}),this.socket.on("room:deleted",e=>{this._onRoomDeleted(e)}),this.socket.on("room:users-added",e=>{this.callCallback({callback:this.onUsersAdded,data:e})}),this.socket.on("room:hand-raised",e=>{this._onHandRaised(e)}),this.socket.on("room:hand-lowered",e=>{this._onHandLowered(e)}),this.socket.on("room:recording-started",e=>{this._onRecordingStarted(e)}),this.socket.on("room:recording-stopped",e=>{this._onRecordingStopped(e)}),this.socket.on("room:reaction",e=>{this._onReaction(e)}),this.socket.on("room:host-added",e=>{this._onHostAdded(e)}),this.socket.on("room:host-removed",e=>{this._onHostRemoved(e)}),this.socket.on("room:switch-user-audio",()=>{this._onSwitchUserAudio()}),this.socket.on("room:switch-user-video",()=>{this._onSwitchUserVideo()}),this.socket.on("room:stop-user-share-screen",()=>{this._onStopUserShareScreen()}),this.socket.on("room:request-get-track",e=>{this.connector.onRequestGetTrack(e)}),this.socket.on("room:request-remove-track",e=>{this.connector.onRequestRemoveTrack(e)}),this.socket.on("room:reconnecting",e=>{this._onReconnecting(e)}),this.socket.on("room:reconnected",e=>{this._onReconnected(e)}),this.socket.on("room:connection-reconnecting",e=>{this._onConnectionReconnecting&&this._onConnectionReconnecting(e)}),this.socket.on("room:connection-reconnected",e=>{this._onConnectionReconnected&&this._onConnectionReconnected(e)}),this.socket.on("room:current-type-changed",e=>{this._onRoomTypeChanged(e)}),this.socket.on("room:invitation-updated",e=>{this.callCallback({callback:this.onInvitationUpdated,data:e})}),this.socket.on("room:request-host-to-speak",e=>{this.callCallback({callback:this.onSpeakRequest,data:e})}),this.socket.on("room:allow-user-to-speak",e=>{this.callCallback({callback:this.onAllowedToSpeak,data:e})})}initiate(){this.current_room_type=this.room_type,this.room_type=="p2p"?this.connector=new y0({rtc_client:this}):this.room_type=="sfu"?this.connector=new hC({rtc_client:this}):this.room_type=="p2p-sfu"&&(this.peer_connector=new y0({rtc_client:this}),this.sfu_connector=new hC({rtc_client:this}))}_onSocketReceived(e){this.callCallback({callback:this.onSocketReceived,data:e})}_onScreenShared(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onScreenShared(),this.callCallback({callback:this.onScreenShared,data:{user_id:n}})}_onShareScreenStopped(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onShareScreenStopped(),this.callCallback({callback:this.onShareScreenStopped,data:{user_id:n}})}_onRecordingStarted(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onRecordingStarted(),this.callCallback({callback:this.onRecordingStarted,data:{user_id:n}})}_onRecordingStopped(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onRecordingStopped(),this.callCallback({callback:this.onRecordingStopped,data:{user_id:n}})}_onJoined(e){var{user:n,participant:t,participants:s,participants_ids:i,host_ids:a}=e;this.loadParticipants({participants:s}),this.addParticipant({participant:t}),this.participants_ids=i,this.host_ids=a,n.id==this.user.id&&(this.have_joined=!0),this.connector.onJoined(e),this.callCallback({callback:this.onJoined,data:{...e,user_id:n.id}})}_onLeft(e){var{user_id:n,participants_ids:t}=e;this.removeParticipant({user_id:n}),this.connector.closeConnection({user_id:n}),this.participants_ids=t,n==this.user.id&&(this.have_joined=!1,this.connector.close(),this.closeOutgoingStreams(),this.removeSocketListeners(),clearInterval(this.http_ping_interval_id),clearTimeout(this.reconnecting_timeout_id),clearTimeout(this.reconnection_failed_timeout_id)),this.callCallback({callback:this.onLeft,data:e})}_onStopUserShareScreen(){this.screen_stream&&(this.stopShareScreen(),this.callCallback({callback:this.onUserShareScreenStopped}))}_onSwitchUserVideo(){this.turnOffVideo(),this.callCallback({callback:this.onUserVideoSwitched})}_onSwitchUserAudio(){this.pauseAudio(),this.callCallback({callback:this.onUserAudioSwitched})}_onSpeaking({user_id:e}){this.participants[e]&&this.participants[e].onSpeaking(),this.callCallback({callback_name:"onSpeaking",data:{user_id:e}})}_onStoppedSpeaking({user_id:e}){this.participants[e]&&this.participants[e].onStoppedSpeaking(),this.callCallback({callback_name:"onStoppedSpeaking",data:{user_id:e}})}_onRoomDeleted(e){this.leaveCall({reason:"room-deleted"}),this.callCallback({callback:this.onCallEnded,data:e})}_onHandRaised(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onHandRaised(),this.callCallback({callback:this.onHandRaised,data:{user_id:n}})}_onHandLowered(e){var{user_id:n}=e;this.participants[n]&&this.participants[n].onHandLowered(),this.callCallback({callback:this.onHandLowered,data:{user_id:n}})}_onReaction(e){this.callCallback({callback:this.onReaction,data:e})}_onHostAdded(e){var{user_id:n}=e;this.host_ids.indexOf(n)==-1&&this.host_ids.push(n),this.callCallback({callback:this.onHostAdded,data:e})}_onHostRemoved(e){var{user_id:n}=e,t=this.host_ids.indexOf(n);t>-1&&this.host_ids.splice(t,1),this.callCallback({callback:this.onHostRemoved,data:e})}_onUserMediaError(e){var{error:n,constraints:t,stream:s}=e;console.log("_onUserMediaError","error",n,"constraints",t);var i=t.video,a=t.audio,u=s&&s.getVideoTracks().length,p=s&&s.getAudioTracks().length;i&&!u&&this.callCallback({callback:this.onVideoError,data:{error:n}}),a&&!p&&this.callCallback({callback:this.onAudioError,data:{error:n}})}_onDisplayMediaError(e){var{error:n,constraints:t,stream:s}=e;console.log("_onDisplayMediaError","error",n,"constraints",t);var i=t.video,a=s&&s.getVideoTracks().length;i&&!a&&this.callCallback({callback:this.onShareScreenError,data:{error:n}})}async _onSocketDisconnected(e){console.log("_onSocketDisconnected","is_disconnected",this.is_disconnected),this.is_disconnected=!0,clearTimeout(this.reconnecting_timeout_id),clearTimeout(this.reconnection_failed_timeout_id),this.startSendingHttpPing(),this._onReconnecting({user_id:this.user.id}),this.reconnection_failed_timeout_id=setTimeout(this._onReconnectionFailed.bind(this),6e4),this.callCallback({callback:this.onSocketDisconnected,data:e})}_onSocketConnected(){console.log("_onSocketConnected","is_disconnected",this.is_disconnected),this._onMeReconnected(),this.stopSendingHttpPing(),this.socketEmit({event:"room:reconnected",data:{user:this.user}}),this.have_joined&&this.getPostJoinData(),this.callCallback({callback:this.onSocketConnected})}_onReconnecting({user_id:e}){this.participants[e]&&this.participants[e].onReconnecting(),this.callCallback({callback:this.onReconnecting,data:{user_id:e}})}_onReconnected({user_id:e}){this.participants[e]&&this.participants[e].onReconnected(),this.callCallback({callback:this.onReconnected,data:{user_id:e}})}_onMeReconnected(){this.is_disconnected&&(this.is_disconnected=!1,clearTimeout(this.reconnecting_timeout_id),clearTimeout(this.reconnection_failed_timeout_id),this._onReconnected({user_id:this.user.id}))}_onReconnectionFailed(){console.log("_onReconnectionFailed","is_disconnected",this.is_disconnected),this.is_disconnected&&(this.leaveCall(),this.callCallback({callback:this.onReconnectionFailed}))}_onHttpPingSuccess(){this._onMeReconnected()}_onRoomTypeChanged({current_type:e}){e=="p2p"?this.switchToP2p():e=="sfu"&&this.switchToSfu(),this.callCallback({callback:this.onRoomTypeChanged,data:{current_type:e}})}startSendingHttpPing(){console.log("startSendingHttpPing"),this.sendHttpPing(),clearInterval(this.http_ping_interval_id),this.http_ping_interval_id=setInterval(this.sendHttpPing.bind(this),2e4)}sendHttpPing(){var e=`${this.server_url}/room/ping?room_id=${this.room.id}&room_type=${this.room_type}&user_id=${this.user.id}`;return console.log("sendHttpPing ping_url",e),new Promise((n,t)=>{fetch(e).then(()=>{this._onHttpPingSuccess(),n(!0)}).catch(()=>{n(!1)})})}stopSendingHttpPing(){console.log("stopSendingHttpPing"),clearInterval(this.http_ping_interval_id)}async getPostJoinData(){var e=await this.socketEmit({event:"room:get-post-join-data",return_response:!0});e=e||{};var{participants:n,participants_ids:t,host_ids:s}=e;return this.loadParticipants({participants:n}),this.participants_ids=t,this.host_ids=s,this.connector.onPostJoinData(e),this.callCallback({callback:this.onPostJoinData,data:e}),e}onLocalStream(e){var{stream:n,stream_type:t="user"}=e;if(console.log("tttttt onLocalStream",e),!!n)return n.getTracks().forEach(s=>{var i=t.charAt(0).toUpperCase()+t.slice(1),a=s.kind.charAt(0).toUpperCase()+s.kind.slice(1);this.callCallback({callback:this[`onLocal${i}${a}Stream`],data:{stream:n,track:s}})}),this.prepareStream({stream:n,stream_type:t,user_id:this.user.id})}onLocalStreamEnded(e){var{stream:n}=e;console.log("tttttt onLocalStreamEnded",e);var t=n.getStreamInfo(),s=t.type;s=="screen"&&this.stopShareScreen()}removeSocketListeners(){this.socket_events.forEach(e=>{this.socket.removeAllListeners(e)}),this.socket.offAny()}getUserMedia(e={}){var{constraints:n,enable_errors:t=!0}=e;return n=n||this.user_media_constraints,navigator.mediaDevices.getUserMedia(n).then(s=>s).catch(s=>{this._onUserMediaError({error:s,constraints:n,enable_errors:t})})}getUserMediaVideo(){return this.getUserMedia({constraints:{video:this.user_media_constraints.video}})}getUserMediaAudio(){return this.getUserMedia({constraints:{audio:this.user_media_constraints.audio||!0}})}getDisplayMedia(e={}){var{constraints:n,enable_errors:t=!0}=e;return n=n||this.display_media_constraints,navigator.mediaDevices.getDisplayMedia(n).then(s=>s).catch(s=>{this._onDisplayMediaError({error:s,constraints:n,enable_errors:t})})}getInitialMedia(){return this.getUserMedia({constraints:this.initial_user_media_constraints})}async initiateConnection(e){var{current_room_type:n}=e;return this.room_type=="p2p-sfu"&&(this.sfu_connector.prepare(e),this.current_room_type=n,this.connector=this.current_room_type=="p2p"?this.peer_connector:this.sfu_connector),this.connector.prepare(e),this.stream=this.stream!=!1?this.stream:await this.getInitialMedia(),this.is_video_on=!!(this.stream&&this.stream.getVideoTracks().length),this.is_audio_on=!!(this.stream&&this.stream.getAudioTracks().length),this.onLocalStream({stream:this.stream}),this.is_audio_on&&this.getExtraAudioStream(),await this.joined(),this.stream}joined(){return this.socketEmit({event:"room:joined",return_response:!0,simple_response:!0,data:{user:this.user,is_video_on:this.is_video_on,is_audio_on:this.is_audio_on,...this.join_call_params}})}joinCall(e={}){this.rtc_helpers.user=this.user,this.join_call_params=e,this.socketEmit({event:"room:request-join",data:{room:this.room}})}leaveCall(e={}){this.socketEmit({event:"room:left"}),this._onLeft({...e,user_id:this.user.id}),this.callCallback({callback:this.onLeaveCall,data:e})}endCall(){this.socketEmit({event:"room:ended"}),this._onLeft({user_id:this.user.id})}turnOffVideo(){if(this.stream)return this.connector.removeTrack({track_type:"user",track_kind:"video",track:this.stream.getVideoTracks()[0]}),this.stream.stopVideoTracks(),this.stream.removeVideoTracks(),this.is_video_on=!1,this.socketEmit({event:"room:video-switched",local_callback:this._onVideoSwitched,data:{is_video_on:!1}}),!0}async turnOnVideo(){var e=await this.getUserMedia({constraints:{video:this.user_media_constraints.video||!0}});if(e){if(!this.stream||!this.stream.id)this.stream=this.onLocalStream({stream:e});else{var n=e.getVideoTracks()[0];this.stream.addNewTrack({track:n})}this.is_video_on=!0,this.socketEmit({event:"room:video-switched",local_callback:this._onVideoSwitched,data:{is_video_on:!0}}),this.connector.type=="sfu"&&this.connector.addTrack({track:this.stream.getVideoTracks()[0],track_type:"user",stream:this.stream})}}async turnOnAudio(){var e=await this.getUserMediaAudio();if(e){var n=e.getAudioTracks()[0];return!this.stream||!this.stream.id?this.stream=this.onLocalStream({stream:e}):this.stream.addNewTrack({track:n}),this.is_audio_on=!0,this.socketEmit({event:"room:audio-switched",local_callback:this._onAudioSwitched,data:{is_audio_on:!0}}),this.connector.addTrack({track:this.stream.getAudioTracks()[0],track_type:"user",stream:this.stream}),this.getExtraAudioStream(),!0}}pauseAudio(){if(!(!this.stream||!this.stream.getAudioTracks().length))return this.stream.pauseAudioTracks(),this.is_audio_on=!1,this.socketEmit({event:"room:audio-switched",local_callback:this._onAudioSwitched,data:{is_audio_on:!1}}),!0}resumeAudio(){if(!this.stream||!this.stream.getAudioTracks().length){this.turnOnAudio();return}return this.stream.resumeAudioTracks(),this.is_audio_on=!0,this.socketEmit({event:"room:audio-switched",local_callback:this._onAudioSwitched,data:{is_audio_on:!0}}),!0}pauseAudioTracks(){!this.stream||!this.stream.getAudioTracks().length||this.stream.pauseAudioTracks()}resumeAudioTracks(){!this.stream||!this.stream.getAudioTracks().length||this.stream.resumeAudioTracks()}async getExtraAudioStream(){console.log("ggggg getExtraAudioStream",this.extra_audio_stream),this.extra_audio_stream&&this.extra_audio_stream.stopStream();var e=await this.getUserMediaAudio();this.extra_audio_stream=new _0({stream:e}),this.registerSpeechEvents({stream:this.extra_audio_stream,user_id:this.user.id})}async switchMicrophone(){console.log("ggggg switchMicrophone"),this.stream.removeAudioTracks();var e=await this.getUserMediaAudio();if(e){e=this.onLocalStream({stream:e});var n=e.getAudioTracks()[0];this.stream.addNewTrack({track:n}),this.is_audio_on||this.stream.pauseAudioTracks(),this.replaceUserTrack({track:n}),this.getExtraAudioStream(),console.log("ggggg switchMicrophone track",n)}}getUserVideoStream(e){return e.track_kind="video",this.getUserTrack(e)}getUserAudioStream(e){return e.track_kind="audio",this.getUserTrack(e)}dropUserVideoStream(e){var{user_id:n}=e;this.connector.dropTrack({user_id:n,track_type:"user",track_kind:"video"})}dropUserAudioStream(e){var{user_id:n}=e;this.connector.dropTrack({user_id:n,track_type:"user",track_kind:"audio"})}getUserStream(e){var{user_id:n}=e;this.getUserTrack({user_id:n,track_kind:"video"}),this.getUserTrack({user_id:n,track_kind:"audio"})}getScreenStream(e){var{user_id:n}=e;return this.connector.getTrack({user_id:n,track_type:"screen",track_kind:"video"})}dropScreenStream(e){var{user_id:n}=e;this.connector.dropTrack({user_id:n,track_type:"screen",track_kind:"video"})}dropUserStream(e){var{user_id:n}=e;this.dropUserVideoStream({user_id:n}),this.dropUserAudioStream({user_id:n})}getUserTrack(e){return this.connector.getUserTrack(e)}replaceUserTrack(e){var{track:n}=e;this.prepareTrack({track:n,track_type:"user",stream:this.stream,user_id:this.user.id}),this.connector.replaceTrack({track:n,stream:this.stream})}_onVideoSwitched(e){var{user_id:n,is_video_on:t}=e;this.participants[n]&&this.participants[n].onVideoSwitched({is_video_on:t}),this.connector.onVideoSwitched&&this.connector.onVideoSwitched(e),this.callCallback({callback:this.onVideoSwitched,data:{user_id:n,is_video_on:t}})}_onAudioSwitched(e){var{user_id:n,is_audio_on:t}=e;this.participants[n]&&this.participants[n].onAudioSwitched({is_audio_on:t}),this.callCallback({callback:this.onAudioSwitched,data:{user_id:n,is_audio_on:t}})}async shareScreen(e){var{stream:n}=e,n=n||await this.getDisplayMedia();n&&this.shareScreenStream({stream:n})}shareScreenStream(e){var{stream:n}=e;this.screen_stream=this.onLocalStream({stream:n,stream_type:"screen"}),this.socketEmit({event:"room:screen-shared"}),this.connector.addTrack({track:n.getVideoTracks()[0],track_type:"screen",stream:n}),this.callCallback({callback:this.onScreenShared,data:{user_id:this.user.id}})}stopShareScreen(){this.screen_stream&&(this.connector.removeTrack({track_type:"screen",track_kind:"video",track:this.screen_stream.getVideoTracks()[0]}),this.screen_stream.stopStream(),this.screen_stream=!1,this.socketEmit({event:"room:share-screen-stopped"}))}stopUserShareScreen(e){this.socketEmit({event:"room:stop-user-share-screen",data:e})}stopAllUsersShareScreen(e){this.notifyOtherUsers({event:"room:stop-user-share-screen",data:e})}switchScreen(e){var{user_id:n}=e;this.socketEmit({event:"room:screen-switched",data:{screen_user_id:n}})}registerSpeechEvents(e){var{user_id:n}=e;e.on_speaking_callback=()=>{this._onSpeaking({user_id:n})},e.on_stopped_speaking_callback=()=>{this._onStoppedSpeaking({user_id:n})},this.helpers.registerSpeechEvents(e)}raiseHand(){this.socketEmit({event:"room:hand-raised"})}lowerHand(){this.socketEmit({event:"room:hand-lowered"})}startRecording(){this.socketEmit({event:"room:recording-started"})}stopRecording(){this.socketEmit({event:"room:recording-stopped"})}async addHost(e){var n=await this.socketEmit({event:"room:add-host",data:e,return_response:!0,simple_response:!0});return n&&this._onHostAdded({user_id:e.target_user_id}),n}async removeHost(e){var n=await this.socketEmit({event:"room:remove-host",data:e,return_response:!0,simple_response:!0});return n&&this._onHostRemoved({user_id:e.target_user_id}),n}removeUser(e){return this.socketEmit({event:"room:remove-user",data:e,return_response:!0,simple_response:!0})}sendReaction(e){this.socketEmit({event:"room:reaction",local_callback:this._onReaction,data:e})}switchUserAudio(e){this.socketEmit({event:"room:switch-user-audio",data:e})}switchUserVideo(e){this.socketEmit({event:"room:switch-user-video",data:e})}switchAllUsersAudio(e){this.notifyOtherUsers({event:"room:switch-user-audio",data:e})}switchAllUsersVideo(e){this.notifyOtherUsers({event:"room:switch-user-video",data:e})}requestHostToSpeak(){this.socketEmit({event:"room:request-host-to-speak"})}allowUserToSpeak(e){this.socketEmit({event:"room:allow-user-to-speak",data:e})}updateAppData(e){this.socketEmit({event:"room:update-app-data",data:e})}getRoom(){return this.rtc_helpers.getRoom({room_id:this.room.id})}async getRoundTripTime(){return this.connector.getRoundTripTime()}async socketEmit(e){var{event:n,data:t={},return_response:s=!1,simple_response:i=!1,response_channel:a="callback",local_callback:u}=e;if(t.socket_response_event&&(n="room:socket-response-event"),!!n){if(t.room_id=this.room.id,t.room_type=this.room_type,t.user_id=this.user.id,console.log("socket emit",n,t),this.callCallback({callback:this.onSocketSent,data:{event:n,data:t}}),u&&this.callCallback({callback:u.bind(this),data:t}),!s)return this.socket.emit(n,t);if(a=="callback")return await new Promise((c,f)=>{var d=!1;this.socket.emit(n,t,h=>{clearTimeout(d),i&&(h=h&&h.result),c(h)}),d=setTimeout(()=>{c()},1e4)});var p=`${n}_${this.room.id}_${Date.now()}`;return t.socket_response_event=p,await new Promise((c,f)=>{var d=!1;this.socket.once(p,h=>{clearTimeout(d),c(h)}),this.socket.emit(n,t),d=setTimeout(()=>{c()},1e4)})}}callCallback(e){var{callback:n,callback_name:i,data:t={}}=e;if(console.log("callCallback",n,i,t),n=n||this[i],!!n){Array.isArray(n)?n.forEach(a=>{a(t)}):n(t);var s=Array.isArray(n)?n[0]:n,i=s.callback_name;this.onCallback&&this.onCallback({callback_name:i,data:t})}}prepareStream(e){var{stream:n,stream_type:t,user_id:s}=e;if(console.log("tttttt prepareStream",e),!n||n.is_prepared)return n;var i=t;return n=new _0({stream:n}),n.is_prepared=!0,n.getTracks().forEach(a=>{this.prepareTrack({track:a,track_type:i,stream:n,user_id:s})}),n.onTrackAdded=({track:a})=>{this.prepareTrack({track:a,track_type:i,stream:n,user_id:s})},n.onStreamEnded=()=>{this.onStreamEnded({stream:n})},n.onTrackEnded=({track:a})=>{this.onTrackEnded({track:a,stream:n})},n}prepareTrack(e){var{track:n,track_type:t,stream:s,user_id:i}=e;console.log("tttttt prepareTrack",e),n.is_custom||(n=new N1({track:n})),n.is_prepared=!0,n.track_info={type:t,kind:n.kind,name:this.makeTrackName({user_id:i,track_type:t,track_kind:n.kind}),user_id:i,stream_id:s.id,is_remote:i!=this.user.id}}makeTrackName({user_id:e,track_type:n,track_kind:t}){return`${e}_${n}_${t}`}switchToP2p(){this.sfu_connector.close(),this.current_room_type="p2p",this.connector=this.peer_connector,this.peer_connector.initiate()}switchToSfu(){this.peer_connector.close(),this.current_room_type="sfu",this.connector=this.sfu_connector,this.sfu_connector.initiate()}onTrackEnded(e){var{track:n}=e;console.log("tttttt onTrackEnded",e),this.connector.onTrackEnded(e),n.track_info.is_remote||this.onLocalTrackEnded(e)}onLocalTrackEnded({track:e}){if(console.log("tttttt onLocalTrackEnded",e),e.kind=="audio"&&!e.is_stopped){this.switchMicrophone();return}return this.connector.onLocalTrackEnded({track:e}),!0}onStreamEnded(e){var{stream:n}=e;console.log("tttttt onStreamEnded",e),n.getStreamInfo().is_remote?this.connector.onRemoteStreamEnded({stream:n}):this.onLocalStreamEnded({stream:n})}addParticipant(e){var{participant:n}=e;if(n){n.user=n.user||{};var t=n.user;t.is_media_server||(this.participants[t.id]=new vL({participant:n}))}}removeParticipant(e){var{user_id:n}=e;delete this.participants[n]}loadParticipants(e){var{participants:n}=e;Object.keys(n).forEach(t=>{if(this.participants[t]){this.participants[t].loadParticipant({participant:n[t]});return}this.addParticipant({participant:n[t]})})}notifyTheseUsers(e){var{event:n,user_ids:t,data:s={}}=e;s.event=n,s.user_ids=t,this.socketEmit({event:"room:notify-these-users",data:s})}notifyAllUsers(e){var{event:n,data:t={}}=e;t.event=n,this.socketEmit({event:"room:notify-all-users",data:t})}notifyOtherUsers(e){var{event:n,data:t={}}=e;t.event=n,this.socketEmit({event:"room:notify-other-users",data:t})}closeOutgoingStreams(){this.stream&&this.stream.id&&this.stream.stopStream(),this.screen_stream&&this.screen_stream.id&&this.screen_stream.stopStream(),this.extra_audio_stream&&this.extra_audio_stream.stopStream()}addUsers(e){var{users:n}=e;this.socketEmit({event:"room:users-added",data:{users:n}})}}window.RtcClient=nE;const{ipcRenderer:GL}=window.require?window.require("electron"):{};class iE extends $e.Component{constructor(e){super(e),this.rtc_options=!1,this.call=this.props.call,this.default_call_options={},this.call_options=this.props.call_options,this.video_constraints={},this.call_voice=!1,this.getDisplayMediaResolve=!1,this.getDisplayMediaReject=!1,this.identity=this.props.identity,this.room={id:this.props.call.room_id,room_id:this.props.call.room_id,title:this.props.call.title,app_data:this.props.call.app_data,send_invitations:this.props.call_options.ring_on_start}}componentDidMount(){this.prepareThings()}componentWillUnmount(){this.setState=(e,n)=>{}}attachBusListeners(){Ae.on("share_screen_picker__selected"+this.identity,e=>{this.shareScreenSelected(e)}),Ae.on("share_screen_picker__cancelled"+this.identity,()=>{this.shareScreenCancelled()})}async prepareThings(){await this.initiateLibrary(),this.attachBusListeners(),this.joinCall()}async initiateLibrary(){var e=new nE;e.room=this.room,e.room_type="p2p",e.user=this.props.current_user,e.socket=this.context.ms_socket,e.socket_io=D_;var n=[{url:"stun:stun.worldnoordev.com:3478",urls:"stun:stun.worldnoordev.com:3478"},{urls:"stun:stun.l.google.com:19302"},{url:"turn:turn.worldnoordev.com:3478",username:"softech",urls:"turn:turn.worldnoordev.com:3478",credential:"Kalaam2020"}];return e.bandwidth={audio:40,video:200,screen:300,max_overall:500},e.rtc_config={iceServers:n},e.user_media_constraints={video:{width:{max:640},height:{max:480},frameRate:{ideal:20},aspectRatio:1.77778},audio:e.user_media_constraints.audio},e.display_media_constraints={video:{width:{max:1920},height:{max:1080},frameRate:{ideal:20},aspectRatio:1.77778}},e.initial_user_media_constraints=Object.assign({},e.user_media_constraints),this.call_options.video.muted&&(e.initial_user_media_constraints.video=!1),this.call_options.audio.muted&&(e.initial_user_media_constraints.audio=!1),window.is_desktop_app&&(e.getDisplayMedia=this.getDisplayMedia.bind(this)),e.initiate(),this.rtc_client=e,this.props.callLibraryInitiated(this),e}async joinCall(){this.props.video_effects_ref.current&&this.props.video_effects_ref.current.mayBeApplyEffectsAfterVideo(),this.rtc_client.joinCall()}getDisplayMedia(){return Ae.dispatch("share_screen_picker__show"),new Promise((e,n)=>{this.getDisplayMediaResolve=e,this.getDisplayMediaReject=n})}shareScreenSelected(e){this.getSourceStream(e,n=>{this.getDisplayMediaResolve(n),setTimeout(()=>{e.name.toLowerCase()!=="mizdah"&&GL.send("minimize")},500)})}shareScreenCancelled(){this.getDisplayMediaReject()}getUserMedia(e,n){if(!this.get_user_media_underway)return this.get_user_media_underway=!0,navigator.mediaDevices.getUserMedia(e).then(t=>{this.get_user_media_underway=!1,n(t)}).catch(t=>{throw this.get_user_media_underway=!1,t})}getSourceStream(e,n){var t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop"}}};return e&&(t.video.mandatory.chromeMediaSourceId=e.id),console.log("getSourceStream",e,e.id),navigator.mediaDevices.getUserMedia(t).then(s=>(n&&n(s),s)).catch(s=>{console.log("getSourceStream error",s)})}getAllStreams(){var e=[];return Object.keys(this.props.connections).forEach(function(n){n.stream&&e.push(n.stream)}),e}render(){return null}}Fa(iE,"contextType",Za);var Iu={},Wg={exports:{}},pC;function jd(){return pC||(pC=1,function(r){function e(n){return n&&n.__esModule?n:{default:n}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Wg)),Wg.exports}var Yg={};function za(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function sE(r){if(le.isValidElement(r)||!za(r))return r;const e={};return Object.keys(r).forEach(n=>{e[n]=sE(r[n])}),e}function Po(r,e,n={clone:!0}){const t=n.clone?Ve({},r):r;return za(r)&&za(e)&&Object.keys(e).forEach(s=>{le.isValidElement(e[s])?t[s]=e[s]:za(e[s])&&Object.prototype.hasOwnProperty.call(r,s)&&za(r[s])?t[s]=Po(r[s],e[s],n):n.clone?t[s]=za(e[s])?sE(e[s]):e[s]:t[s]=e[s]}),t}const JL=Object.freeze(Object.defineProperty({__proto__:null,default:Po,isPlainObject:za},Symbol.toStringTag,{value:"Module"}));function md(r){let e="https://mui.com/production-error/?code="+r;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+r+"; visit "+e+" for the full message."}const XL=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"}));var Kg={exports:{}},yr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function QL(){if(mC)return yr;mC=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function R(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case r:switch(S=S.type,S){case n:case s:case t:case p:case c:case h:return S;default:switch(S=S&&S.$$typeof,S){case a:case u:case d:case f:return S;case i:return S;default:return _}}case e:return _}}}return yr.ContextConsumer=i,yr.ContextProvider=a,yr.Element=r,yr.ForwardRef=u,yr.Fragment=n,yr.Lazy=d,yr.Memo=f,yr.Portal=e,yr.Profiler=s,yr.StrictMode=t,yr.Suspense=p,yr.SuspenseList=c,yr.isContextConsumer=function(S){return R(S)===i},yr.isContextProvider=function(S){return R(S)===a},yr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===r},yr.isForwardRef=function(S){return R(S)===u},yr.isFragment=function(S){return R(S)===n},yr.isLazy=function(S){return R(S)===d},yr.isMemo=function(S){return R(S)===f},yr.isPortal=function(S){return R(S)===e},yr.isProfiler=function(S){return R(S)===s},yr.isStrictMode=function(S){return R(S)===t},yr.isSuspense=function(S){return R(S)===p},yr.isSuspenseList=function(S){return R(S)===c},yr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===s||S===t||S===p||S===c||typeof S=="object"&&S!==null&&(S.$$typeof===d||S.$$typeof===f||S.$$typeof===a||S.$$typeof===i||S.$$typeof===u||S.$$typeof===w||S.getModuleId!==void 0)},yr.typeOf=R,yr}var gC;function ZL(){return gC||(gC=1,Kg.exports=QL()),Kg.exports}var vC=ZL();const eN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function oE(r){const e=`${r}`.match(eN);return e&&e[1]||""}function aE(r,e=""){return r.displayName||r.name||oE(r)||e}function _C(r,e,n){const t=aE(e);return r.displayName||(t!==""?`${n}(${t})`:n)}function tN(r){if(r!=null){if(typeof r=="string")return r;if(typeof r=="function")return aE(r,"Component");if(typeof r=="object")switch(r.$$typeof){case vC.ForwardRef:return _C(r,r.render,"ForwardRef");case vC.Memo:return _C(r,r.type,"memo");default:return}}}const rN=Object.freeze(Object.defineProperty({__proto__:null,default:tN,getFunctionName:oE},Symbol.toStringTag,{value:"Module"}));function Xa(r){if(typeof r!="string")throw new Error(md(7));return r.charAt(0).toUpperCase()+r.slice(1)}const nN=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"}));function iN(...r){return r.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function sN(r,e=166){let n;function t(...s){const i=()=>{r.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return t.clear=()=>{clearTimeout(n)},t}function oN(r,e){return()=>null}function aN(r,e){var n,t;return le.isValidElement(r)&&e.indexOf((n=r.type.muiName)!=null?n:(t=r.type)==null||(t=t._payload)==null||(t=t.value)==null?void 0:t.muiName)!==-1}function cE(r){return r&&r.ownerDocument||document}function cN(r){return cE(r).defaultView||window}function lN(r,e){return()=>null}function lE(r,e){typeof r=="function"?r(e):r&&(r.current=e)}const uE=typeof window<"u"?le.useLayoutEffect:le.useEffect;let yC=0;function uN(r){const[e,n]=le.useState(r),t=r||e;return le.useEffect(()=>{e==null&&(yC+=1,n(`mui-${yC}`))},[e]),t}const wC=od.useId;function dN(r){if(wC!==void 0){const e=wC();return r??e}return uN(r)}function fN(r,e,n,t,s){return null}function hN({controlled:r,default:e,name:n,state:t="value"}){const{current:s}=le.useRef(r!==void 0),[i,a]=le.useState(e),u=s?r:i,p=le.useCallback(c=>{s||a(c)},[]);return[u,p]}function pN(r){const e=le.useRef(r);return uE(()=>{e.current=r}),le.useRef((...n)=>(0,e.current)(...n)).current}function mN(...r){return le.useMemo(()=>r.every(e=>e==null)?null:e=>{r.forEach(n=>{lE(n,e)})},r)}class oy{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new oy}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let ap=!0,Hv=!1;const gN=new oy,vN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function _N(r){const{type:e,tagName:n}=r;return!!(n==="INPUT"&&vN[e]&&!r.readOnly||n==="TEXTAREA"&&!r.readOnly||r.isContentEditable)}function yN(r){r.metaKey||r.altKey||r.ctrlKey||(ap=!0)}function Gg(){ap=!1}function wN(){this.visibilityState==="hidden"&&Hv&&(ap=!0)}function bN(r){r.addEventListener("keydown",yN,!0),r.addEventListener("mousedown",Gg,!0),r.addEventListener("pointerdown",Gg,!0),r.addEventListener("touchstart",Gg,!0),r.addEventListener("visibilitychange",wN,!0)}function SN(r){const{target:e}=r;try{return e.matches(":focus-visible")}catch{}return ap||_N(e)}function CN(){const r=le.useCallback(s=>{s!=null&&bN(s.ownerDocument)},[]),e=le.useRef(!1);function n(){return e.current?(Hv=!0,gN.start(100,()=>{Hv=!1}),e.current=!1,!0):!1}function t(s){return SN(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:t,onBlur:n,ref:r}}function Vv(r,e){const n=Ve({},e);return Object.keys(r).forEach(t=>{if(t.toString().match(/^(components|slots)$/))n[t]=Ve({},r[t],n[t]);else if(t.toString().match(/^(componentsProps|slotProps)$/)){const s=r[t]||{},i=e[t];n[t]={},!i||!Object.keys(i)?n[t]=s:!s||!Object.keys(s)?n[t]=i:(n[t]=Ve({},i),Object.keys(s).forEach(a=>{n[t][a]=Vv(s[a],i[a])}))}else n[t]===void 0&&(n[t]=r[t])}),n}function kN(r,e,n=void 0){const t={};return Object.keys(r).forEach(s=>{t[s]=r[s].reduce((i,a)=>{if(a){const u=e(a);u!==""&&i.push(u),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),t}const bC=r=>r,xN=()=>{let r=bC;return{configure(e){r=e},generate(e){return r(e)},reset(){r=bC}}},dE=xN(),EN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function fE(r,e,n="Mui"){const t=EN[e];return t?`${n}-${t}`:`${dE.generate(r)}-${e}`}function TN(r,e,n="Mui"){const t={};return e.forEach(s=>{t[s]=fE(r,s,n)}),t}function RN(r,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(r,n))}const PN=Object.freeze(Object.defineProperty({__proto__:null,default:RN},Symbol.toStringTag,{value:"Module"}));function hE(r){var e,n,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(n=hE(r[e]))&&(t&&(t+=" "),t+=n)}else for(n in r)r[n]&&(t&&(t+=" "),t+=n);return t}function ON(){for(var r,e,n=0,t="",s=arguments.length;n<s;n++)(r=arguments[n])&&(e=hE(r))&&(t&&(t+=" "),t+=e);return t}const DN=le.createContext(void 0);function MN(r){const{theme:e,name:n,props:t}=r;if(!e||!e.components||!e.components[n])return t;const s=e.components[n];return s.defaultProps?Vv(s.defaultProps,t):!s.styleOverrides&&!s.variants?Vv(s,t):t}function AN({props:r,name:e}){const n=le.useContext(DN);return MN({props:r,name:e,theme:{components:n}})}function jN(r){return AN(r)}var Pc={},Jg={exports:{}},SC;function LN(){return SC||(SC=1,function(r){function e(){return r.exports=e=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},r.exports.__esModule=!0,r.exports.default=r.exports,e.apply(null,arguments)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Jg)),Jg.exports}var Xg={exports:{}},CC;function NN(){return CC||(CC=1,function(r){function e(n,t){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;s[i]=n[i]}return s}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Xg)),Xg.exports}function IN(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function FN(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var BN=function(){function r(n){var t=this;this._insertTag=function(s){var i;t.tags.length===0?t.insertionPoint?i=t.insertionPoint.nextSibling:t.prepend?i=t.container.firstChild:i=t.before:i=t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(s,i),t.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FN(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=IN(s);try{i.insertRule(t,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){var s;return(s=t.parentNode)==null?void 0:s.removeChild(t)}),this.tags=[],this.ctr=0},r}(),Yn="-ms-",Oh="-moz-",or="-webkit-",pE="comm",ay="rule",cy="decl",$N="@import",mE="@keyframes",UN="@layer",qN=Math.abs,cp=String.fromCharCode,HN=Object.assign;function VN(r,e){return Bn(r,0)^45?(((e<<2^Bn(r,0))<<2^Bn(r,1))<<2^Bn(r,2))<<2^Bn(r,3):0}function gE(r){return r.trim()}function zN(r,e){return(r=e.exec(r))?r[0]:r}function ar(r,e,n){return r.replace(e,n)}function zv(r,e){return r.indexOf(e)}function Bn(r,e){return r.charCodeAt(e)|0}function gd(r,e,n){return r.slice(e,n)}function Eo(r){return r.length}function ly(r){return r.length}function eh(r,e){return e.push(r),r}function WN(r,e){return r.map(e).join("")}var lp=1,jl=1,vE=0,xi=0,sn=0,ql="";function up(r,e,n,t,s,i,a){return{value:r,root:e,parent:n,type:t,props:s,children:i,line:lp,column:jl,length:a,return:""}}function Fu(r,e){return HN(up("",null,null,"",null,null,0),r,{length:-r.length},e)}function YN(){return sn}function KN(){return sn=xi>0?Bn(ql,--xi):0,jl--,sn===10&&(jl=1,lp--),sn}function Vi(){return sn=xi<vE?Bn(ql,xi++):0,jl++,sn===10&&(jl=1,lp++),sn}function Oo(){return Bn(ql,xi)}function gh(){return xi}function Ld(r,e){return gd(ql,r,e)}function vd(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _E(r){return lp=jl=1,vE=Eo(ql=r),xi=0,[]}function yE(r){return ql="",r}function vh(r){return gE(Ld(xi-1,Wv(r===91?r+2:r===40?r+1:r)))}function GN(r){for(;(sn=Oo())&&sn<33;)Vi();return vd(r)>2||vd(sn)>3?"":" "}function JN(r,e){for(;--e&&Vi()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Ld(r,gh()+(e<6&&Oo()==32&&Vi()==32))}function Wv(r){for(;Vi();)switch(sn){case r:return xi;case 34:case 39:r!==34&&r!==39&&Wv(sn);break;case 40:r===41&&Wv(r);break;case 92:Vi();break}return xi}function XN(r,e){for(;Vi()&&r+sn!==57;)if(r+sn===84&&Oo()===47)break;return"/*"+Ld(e,xi-1)+"*"+cp(r===47?r:Vi())}function QN(r){for(;!vd(Oo());)Vi();return Ld(r,xi)}function ZN(r){return yE(_h("",null,null,null,[""],r=_E(r),0,[0],r))}function _h(r,e,n,t,s,i,a,u,p){for(var c=0,f=0,d=a,h=0,w=0,R=0,S=1,_=1,v=1,C=0,T="",M=s,k=i,N=t,y=T;_;)switch(R=C,C=Vi()){case 40:if(R!=108&&Bn(y,d-1)==58){zv(y+=ar(vh(C),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:y+=vh(C);break;case 9:case 10:case 13:case 32:y+=GN(R);break;case 92:y+=JN(gh()-1,7);continue;case 47:switch(Oo()){case 42:case 47:eh(eI(XN(Vi(),gh()),e,n),p);break;default:y+="/"}break;case 123*S:u[c++]=Eo(y)*v;case 125*S:case 59:case 0:switch(C){case 0:case 125:_=0;case 59+f:v==-1&&(y=ar(y,/\f/g,"")),w>0&&Eo(y)-d&&eh(w>32?xC(y+";",t,n,d-1):xC(ar(y," ","")+";",t,n,d-2),p);break;case 59:y+=";";default:if(eh(N=kC(y,e,n,c,f,s,u,T,M=[],k=[],d),i),C===123)if(f===0)_h(y,e,N,N,M,i,d,u,k);else switch(h===99&&Bn(y,3)===110?100:h){case 100:case 108:case 109:case 115:_h(r,N,N,t&&eh(kC(r,N,N,0,0,s,u,T,s,M=[],d),k),s,k,d,u,t?M:k);break;default:_h(y,N,N,N,[""],k,0,u,k)}}c=f=w=0,S=v=1,T=y="",d=a;break;case 58:d=1+Eo(y),w=R;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&KN()==125)continue}switch(y+=cp(C),C*S){case 38:v=f>0?1:(y+="\f",-1);break;case 44:u[c++]=(Eo(y)-1)*v,v=1;break;case 64:Oo()===45&&(y+=vh(Vi())),h=Oo(),f=d=Eo(T=y+=QN(gh())),C++;break;case 45:R===45&&Eo(y)==2&&(S=0)}}return i}function kC(r,e,n,t,s,i,a,u,p,c,f){for(var d=s-1,h=s===0?i:[""],w=ly(h),R=0,S=0,_=0;R<t;++R)for(var v=0,C=gd(r,d+1,d=qN(S=a[R])),T=r;v<w;++v)(T=gE(S>0?h[v]+" "+C:ar(C,/&\f/g,h[v])))&&(p[_++]=T);return up(r,e,n,s===0?ay:u,p,c,f)}function eI(r,e,n){return up(r,e,n,pE,cp(YN()),gd(r,2,-2),0)}function xC(r,e,n,t){return up(r,e,n,cy,gd(r,0,t),gd(r,t+1,-1),t)}function Dl(r,e){for(var n="",t=ly(r),s=0;s<t;s++)n+=e(r[s],s,r,e)||"";return n}function tI(r,e,n,t){switch(r.type){case UN:if(r.children.length)break;case $N:case cy:return r.return=r.return||r.value;case pE:return"";case mE:return r.return=r.value+"{"+Dl(r.children,t)+"}";case ay:r.value=r.props.join(",")}return Eo(n=Dl(r.children,t))?r.return=r.value+"{"+n+"}":""}function rI(r){var e=ly(r);return function(n,t,s,i){for(var a="",u=0;u<e;u++)a+=r[u](n,t,s,i)||"";return a}}function nI(r){return function(e){e.root||(e=e.return)&&r(e)}}function wE(r){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=r(n)),e[n]}}var iI=function(e,n,t){for(var s=0,i=0;s=i,i=Oo(),s===38&&i===12&&(n[t]=1),!vd(i);)Vi();return Ld(e,xi)},sI=function(e,n){var t=-1,s=44;do switch(vd(s)){case 0:s===38&&Oo()===12&&(n[t]=1),e[t]+=iI(xi-1,n,t);break;case 2:e[t]+=vh(s);break;case 4:if(s===44){e[++t]=Oo()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=cp(s)}while(s=Vi());return e},oI=function(e,n){return yE(sI(_E(e),n))},EC=new WeakMap,aI=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,s=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!EC.get(t))&&!s){EC.set(e,!0);for(var i=[],a=oI(n,i),u=t.props,p=0,c=0;p<a.length;p++)for(var f=0;f<u.length;f++,c++)e.props[c]=i[p]?a[p].replace(/&\f/g,u[f]):u[f]+" "+a[p]}}},cI=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bE(r,e){switch(VN(r,e)){case 5103:return or+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return or+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return or+r+Oh+r+Yn+r+r;case 6828:case 4268:return or+r+Yn+r+r;case 6165:return or+r+Yn+"flex-"+r+r;case 5187:return or+r+ar(r,/(\w+).+(:[^]+)/,or+"box-$1$2"+Yn+"flex-$1$2")+r;case 5443:return or+r+Yn+"flex-item-"+ar(r,/flex-|-self/,"")+r;case 4675:return or+r+Yn+"flex-line-pack"+ar(r,/align-content|flex-|-self/,"")+r;case 5548:return or+r+Yn+ar(r,"shrink","negative")+r;case 5292:return or+r+Yn+ar(r,"basis","preferred-size")+r;case 6060:return or+"box-"+ar(r,"-grow","")+or+r+Yn+ar(r,"grow","positive")+r;case 4554:return or+ar(r,/([^-])(transform)/g,"$1"+or+"$2")+r;case 6187:return ar(ar(ar(r,/(zoom-|grab)/,or+"$1"),/(image-set)/,or+"$1"),r,"")+r;case 5495:case 3959:return ar(r,/(image-set\([^]*)/,or+"$1$`$1");case 4968:return ar(ar(r,/(.+:)(flex-)?(.*)/,or+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+or+r+r;case 4095:case 3583:case 4068:case 2532:return ar(r,/(.+)-inline(.+)/,or+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Eo(r)-1-e>6)switch(Bn(r,e+1)){case 109:if(Bn(r,e+4)!==45)break;case 102:return ar(r,/(.+:)(.+)-([^]+)/,"$1"+or+"$2-$3$1"+Oh+(Bn(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~zv(r,"stretch")?bE(ar(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Bn(r,e+1)!==115)break;case 6444:switch(Bn(r,Eo(r)-3-(~zv(r,"!important")&&10))){case 107:return ar(r,":",":"+or)+r;case 101:return ar(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+or+(Bn(r,14)===45?"inline-":"")+"box$3$1"+or+"$2$3$1"+Yn+"$2box$3")+r}break;case 5936:switch(Bn(r,e+11)){case 114:return or+r+Yn+ar(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return or+r+Yn+ar(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return or+r+Yn+ar(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return or+r+Yn+r+r}return r}var lI=function(e,n,t,s){if(e.length>-1&&!e.return)switch(e.type){case cy:e.return=bE(e.value,e.length);break;case mE:return Dl([Fu(e,{value:ar(e.value,"@","@"+or)})],s);case ay:if(e.length)return WN(e.props,function(i){switch(zN(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dl([Fu(e,{props:[ar(i,/:(read-\w+)/,":"+Oh+"$1")]})],s);case"::placeholder":return Dl([Fu(e,{props:[ar(i,/:(plac\w+)/,":"+or+"input-$1")]}),Fu(e,{props:[ar(i,/:(plac\w+)/,":"+Oh+"$1")]}),Fu(e,{props:[ar(i,/:(plac\w+)/,Yn+"input-$1")]})],s)}return""})}},uI=[lI],SE=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(S){var _=S.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||uI,i={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var _=S.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)i[_[v]]=!0;u.push(S)});var p,c=[aI,cI];{var f,d=[tI,nI(function(S){f.insert(S)})],h=rI(c.concat(s,d)),w=function(_){return Dl(ZN(_),h)};p=function(_,v,C,T){f=C,w(_?_+"{"+v.styles+"}":v.styles),T&&(R.inserted[v.name]=!0)}}var R={key:n,sheet:new BN({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:p};return R.sheet.hydrate(u),R},dI=!0;function CE(r,e,n){var t="";return n.split(" ").forEach(function(s){r[s]!==void 0?e.push(r[s]+";"):s&&(t+=s+" ")}),t}var uy=function(e,n,t){var s=e.key+"-"+n.name;(t===!1||dI===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},dy=function(e,n,t){uy(e,n,t);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function fI(r){for(var e=0,n,t=0,s=r.length;s>=4;++t,s-=4)n=r.charCodeAt(t)&255|(r.charCodeAt(++t)&255)<<8|(r.charCodeAt(++t)&255)<<16|(r.charCodeAt(++t)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(r.charCodeAt(t+2)&255)<<16;case 2:e^=(r.charCodeAt(t+1)&255)<<8;case 1:e^=r.charCodeAt(t)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var hI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pI=/[A-Z]|^ms/g,mI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kE=function(e){return e.charCodeAt(1)===45},TC=function(e){return e!=null&&typeof e!="boolean"},Qg=wE(function(r){return kE(r)?r:r.replace(pI,"-$&").toLowerCase()}),RC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(mI,function(t,s,i){return To={name:s,styles:i,next:To},s})}return hI[e]!==1&&!kE(e)&&typeof n=="number"&&n!==0?n+"px":n};function _d(r,e,n){if(n==null)return"";var t=n;if(t.__emotion_styles!==void 0)return t;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return To={name:s.name,styles:s.styles,next:To},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)To={name:a.name,styles:a.styles,next:To},a=a.next;var u=i.styles+";";return u}return gI(r,e,n)}case"function":{if(r!==void 0){var p=To,c=n(r);return To=p,_d(r,e,c)}break}}var f=n;if(e==null)return f;var d=e[f];return d!==void 0?d:f}function gI(r,e,n){var t="";if(Array.isArray(n))for(var s=0;s<n.length;s++)t+=_d(r,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var u=a;e!=null&&e[u]!==void 0?t+=i+"{"+e[u]+"}":TC(u)&&(t+=Qg(i)+":"+RC(i,u)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var p=0;p<a.length;p++)TC(a[p])&&(t+=Qg(i)+":"+RC(i,a[p])+";");else{var c=_d(r,e,a);switch(i){case"animation":case"animationName":{t+=Qg(i)+":"+c+";";break}default:t+=i+"{"+c+"}"}}}return t}var PC=/label:\s*([^\s;{]+)\s*(;|$)/g,To;function dp(r,e,n){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var t=!0,s="";To=void 0;var i=r[0];if(i==null||i.raw===void 0)t=!1,s+=_d(n,e,i);else{var a=i;s+=a[0]}for(var u=1;u<r.length;u++)if(s+=_d(n,e,r[u]),t){var p=i;s+=p[u]}PC.lastIndex=0;for(var c="",f;(f=PC.exec(s))!==null;)c+="-"+f[1];var d=fI(s)+c;return{name:d,styles:s,next:To}}var vI=function(e){return e()},xE=od.useInsertionEffect?od.useInsertionEffect:!1,_I=xE||vI,OC=xE||le.useLayoutEffect,EE=le.createContext(typeof HTMLElement<"u"?SE({key:"css"}):null),yI=EE.Provider,fy=function(e){return le.forwardRef(function(n,t){var s=le.useContext(EE);return e(n,s,t)})},fp=le.createContext({}),hy={}.hasOwnProperty,Yv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wI=function(e,n){var t={};for(var s in n)hy.call(n,s)&&(t[s]=n[s]);return t[Yv]=e,t},bI=function(e){var n=e.cache,t=e.serialized,s=e.isStringTag;return uy(n,t,s),_I(function(){return dy(n,t,s)}),null},SI=fy(function(r,e,n){var t=r.css;typeof t=="string"&&e.registered[t]!==void 0&&(t=e.registered[t]);var s=r[Yv],i=[t],a="";typeof r.className=="string"?a=CE(e.registered,i,r.className):r.className!=null&&(a=r.className+" ");var u=dp(i,void 0,le.useContext(fp));a+=e.key+"-"+u.name;var p={};for(var c in r)hy.call(r,c)&&c!=="css"&&c!==Yv&&(p[c]=r[c]);return p.className=a,n&&(p.ref=n),le.createElement(le.Fragment,null,le.createElement(bI,{cache:e,serialized:u,isStringTag:typeof s=="string"}),le.createElement(s,p))}),CI=SI,DC=function(e,n){var t=arguments;if(n==null||!hy.call(n,"css"))return le.createElement.apply(void 0,t);var s=t.length,i=new Array(s);i[0]=CI,i[1]=wI(e,n);for(var a=2;a<s;a++)i[a]=t[a];return le.createElement.apply(null,i)};(function(r){var e;e||(e=r.JSX||(r.JSX={}))})(DC||(DC={}));var kI=fy(function(r,e){var n=r.styles,t=dp([n],void 0,le.useContext(fp)),s=le.useRef();return OC(function(){var i=e.key+"-global",a=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,p=document.querySelector('style[data-emotion="'+i+" "+t.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),p!==null&&(u=!0,p.setAttribute("data-emotion",i),a.hydrate([p])),s.current=[a,u],function(){a.flush()}},[e]),OC(function(){var i=s.current,a=i[0],u=i[1];if(u){i[1]=!1;return}if(t.next!==void 0&&dy(e,t.next,!0),a.tags.length){var p=a.tags[a.tags.length-1].nextElementSibling;a.before=p,a.flush()}e.insert("",t,a,!1)},[e,t.name]),null});function TE(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return dp(e)}function xI(){var r=TE.apply(void 0,arguments),e="animation-"+r.name;return{name:e,styles:"@keyframes "+e+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var EI=function(e){return e()},TI=od.useInsertionEffect?od.useInsertionEffect:!1,RI=TI||EI,PI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OI=wE(function(r){return PI.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),DI=OI,MI=function(e){return e!=="theme"},MC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?DI:MI},AC=function(e,n,t){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(a){return e.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&t&&(s=e.__emotion_forwardProp),s},AI=function(e){var n=e.cache,t=e.serialized,s=e.isStringTag;return uy(n,t,s),RI(function(){return dy(n,t,s)}),null},jI=function r(e,n){var t=e.__emotion_real===e,s=t&&e.__emotion_base||e,i,a;n!==void 0&&(i=n.label,a=n.target);var u=AC(e,n,t),p=u||MC(s),c=!p("as");return function(){var f=arguments,d=t&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),f[0]==null||f[0].raw===void 0)d.push.apply(d,f);else{var h=f[0];d.push(h[0]);for(var w=f.length,R=1;R<w;R++)d.push(f[R],h[R])}var S=fy(function(_,v,C){var T=c&&_.as||s,M="",k=[],N=_;if(_.theme==null){N={};for(var y in _)N[y]=_[y];N.theme=le.useContext(fp)}typeof _.className=="string"?M=CE(v.registered,k,_.className):_.className!=null&&(M=_.className+" ");var F=dp(d.concat(k),v.registered,N);M+=v.key+"-"+F.name,a!==void 0&&(M+=" "+a);var I=c&&u===void 0?MC(T):p,U={};for(var K in _)c&&K==="as"||I(K)&&(U[K]=_[K]);return U.className=M,C&&(U.ref=C),le.createElement(le.Fragment,null,le.createElement(AI,{cache:v,serialized:F,isStringTag:typeof T=="string"}),le.createElement(T,U))});return S.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=d,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(_,v){var C=r(_,Ve({},n,v,{shouldForwardProp:AC(S,v,!0)}));return C.apply(void 0,d)},S}},LI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Kv=jI.bind(null);LI.forEach(function(r){Kv[r]=Kv(r)});let Gv;typeof document=="object"&&(Gv=SE({key:"css",prepend:!0}));function NI(r){const{injectFirst:e,children:n}=r;return e&&Gv?A.jsx(yI,{value:Gv,children:n}):n}function II(r){return r==null||Object.keys(r).length===0}function FI(r){const{styles:e,defaultTheme:n={}}=r,t=typeof e=="function"?s=>e(II(s)?n:s):e;return A.jsx(kI,{styles:t})}function BI(r,e){return Kv(r,e)}const $I=(r,e)=>{Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=e(r.__emotion_styles))},UI=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:FI,StyledEngineProvider:NI,ThemeContext:fp,css:TE,default:BI,internal_processStyles:$I,keyframes:xI},Symbol.toStringTag,{value:"Module"})),qI=ha(UI),HI=ha(JL),VI=ha(nN),zI=ha(rN),WI=["values","unit","step"],YI=r=>{const e=Object.keys(r).map(n=>({key:n,val:r[n]}))||[];return e.sort((n,t)=>n.val-t.val),e.reduce((n,t)=>Ve({},n,{[t.key]:t.val}),{})};function RE(r){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:t=5}=r,s=Nr(r,WI),i=YI(e),a=Object.keys(i);function u(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function p(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-t/100}${n})`}function c(h,w){const R=a.indexOf(w);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(R!==-1&&typeof e[a[R]]=="number"?e[a[R]]:w)-t/100}${n})`}function f(h){return a.indexOf(h)+1<a.length?c(h,a[a.indexOf(h)+1]):u(h)}function d(h){const w=a.indexOf(h);return w===0?u(a[1]):w===a.length-1?p(a[w]):c(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return Ve({keys:a,values:i,up:u,down:p,between:c,only:f,not:d,unit:n},s)}const KI={borderRadius:4};function nd(r,e){return e?Po(r,e,{clone:!1}):r}const py={xs:0,sm:600,md:900,lg:1200,xl:1536},jC={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${py[r]}px)`};function fa(r,e,n){const t=r.theme||{};if(Array.isArray(e)){const i=t.breakpoints||jC;return e.reduce((a,u,p)=>(a[i.up(i.keys[p])]=n(e[p]),a),{})}if(typeof e=="object"){const i=t.breakpoints||jC;return Object.keys(e).reduce((a,u)=>{if(Object.keys(i.values||py).indexOf(u)!==-1){const p=i.up(u);a[p]=n(e[u],u)}else{const p=u;a[p]=e[p]}return a},{})}return n(e)}function GI(r={}){var e;return((e=r.keys)==null?void 0:e.reduce((t,s)=>{const i=r.up(s);return t[i]={},t},{}))||{}}function JI(r,e){return r.reduce((n,t)=>{const s=n[t];return(!s||Object.keys(s).length===0)&&delete n[t],n},e)}function hp(r,e,n=!0){if(!e||typeof e!="string")return null;if(r&&r.vars&&n){const t=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,r);if(t!=null)return t}return e.split(".").reduce((t,s)=>t&&t[s]!=null?t[s]:null,r)}function Dh(r,e,n,t=n){let s;return typeof r=="function"?s=r(n):Array.isArray(r)?s=r[n]||t:s=hp(r,n)||t,e&&(s=e(s,t,r)),s}function Zr(r){const{prop:e,cssProperty:n=r.prop,themeKey:t,transform:s}=r,i=a=>{if(a[e]==null)return null;const u=a[e],p=a.theme,c=hp(p,t)||{};return fa(a,u,d=>{let h=Dh(c,s,d);return d===h&&typeof d=="string"&&(h=Dh(c,s,`${e}${d==="default"?"":Xa(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function XI(r){const e={};return n=>(e[n]===void 0&&(e[n]=r(n)),e[n])}const QI={m:"margin",p:"padding"},ZI={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},LC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},eF=XI(r=>{if(r.length>2)if(LC[r])r=LC[r];else return[r];const[e,n]=r.split(""),t=QI[e],s=ZI[n]||"";return Array.isArray(s)?s.map(i=>t+i):[t+s]}),my=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...my,...gy];function Nd(r,e,n,t){var s;const i=(s=hp(r,e,!1))!=null?s:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function PE(r){return Nd(r,"spacing",8)}function Id(r,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),t=r(n);return e>=0?t:typeof t=="number"?-t:`-${t}`}function tF(r,e){return n=>r.reduce((t,s)=>(t[s]=Id(e,n),t),{})}function rF(r,e,n,t){if(e.indexOf(n)===-1)return null;const s=eF(n),i=tF(s,t),a=r[n];return fa(r,a,i)}function OE(r,e){const n=PE(r.theme);return Object.keys(r).map(t=>rF(r,e,t,n)).reduce(nd,{})}function qr(r){return OE(r,my)}qr.propTypes={};qr.filterProps=my;function Hr(r){return OE(r,gy)}Hr.propTypes={};Hr.filterProps=gy;function nF(r=8){if(r.mui)return r;const e=PE({spacing:r}),n=(...t)=>(t.length===0?[1]:t).map(i=>{const a=e(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function pp(...r){const e=r.reduce((t,s)=>(s.filterProps.forEach(i=>{t[i]=s}),t),{}),n=t=>Object.keys(t).reduce((s,i)=>e[i]?nd(s,e[i](t)):s,{});return n.propTypes={},n.filterProps=r.reduce((t,s)=>t.concat(s.filterProps),[]),n}function as(r){return typeof r!="number"?r:`${r}px solid`}function hs(r,e){return Zr({prop:r,themeKey:"borders",transform:e})}const iF=hs("border",as),sF=hs("borderTop",as),oF=hs("borderRight",as),aF=hs("borderBottom",as),cF=hs("borderLeft",as),lF=hs("borderColor"),uF=hs("borderTopColor"),dF=hs("borderRightColor"),fF=hs("borderBottomColor"),hF=hs("borderLeftColor"),pF=hs("outline",as),mF=hs("outlineColor"),mp=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const e=Nd(r.theme,"shape.borderRadius",4),n=t=>({borderRadius:Id(e,t)});return fa(r,r.borderRadius,n)}return null};mp.propTypes={};mp.filterProps=["borderRadius"];pp(iF,sF,oF,aF,cF,lF,uF,dF,fF,hF,mp,pF,mF);const gp=r=>{if(r.gap!==void 0&&r.gap!==null){const e=Nd(r.theme,"spacing",8),n=t=>({gap:Id(e,t)});return fa(r,r.gap,n)}return null};gp.propTypes={};gp.filterProps=["gap"];const vp=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const e=Nd(r.theme,"spacing",8),n=t=>({columnGap:Id(e,t)});return fa(r,r.columnGap,n)}return null};vp.propTypes={};vp.filterProps=["columnGap"];const _p=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const e=Nd(r.theme,"spacing",8),n=t=>({rowGap:Id(e,t)});return fa(r,r.rowGap,n)}return null};_p.propTypes={};_p.filterProps=["rowGap"];const gF=Zr({prop:"gridColumn"}),vF=Zr({prop:"gridRow"}),_F=Zr({prop:"gridAutoFlow"}),yF=Zr({prop:"gridAutoColumns"}),wF=Zr({prop:"gridAutoRows"}),bF=Zr({prop:"gridTemplateColumns"}),SF=Zr({prop:"gridTemplateRows"}),CF=Zr({prop:"gridTemplateAreas"}),kF=Zr({prop:"gridArea"});pp(gp,vp,_p,gF,vF,_F,yF,wF,bF,SF,CF,kF);function Ml(r,e){return e==="grey"?e:r}const xF=Zr({prop:"color",themeKey:"palette",transform:Ml}),EF=Zr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ml}),TF=Zr({prop:"backgroundColor",themeKey:"palette",transform:Ml});pp(xF,EF,TF);function Hi(r){return r<=1&&r!==0?`${r*100}%`:r}const RF=Zr({prop:"width",transform:Hi}),vy=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const e=n=>{var t,s;const i=((t=r.theme)==null||(t=t.breakpoints)==null||(t=t.values)==null?void 0:t[n])||py[n];return i?((s=r.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${r.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Hi(n)}};return fa(r,r.maxWidth,e)}return null};vy.filterProps=["maxWidth"];const PF=Zr({prop:"minWidth",transform:Hi}),OF=Zr({prop:"height",transform:Hi}),DF=Zr({prop:"maxHeight",transform:Hi}),MF=Zr({prop:"minHeight",transform:Hi});Zr({prop:"size",cssProperty:"width",transform:Hi});Zr({prop:"size",cssProperty:"height",transform:Hi});const AF=Zr({prop:"boxSizing"});pp(RF,vy,PF,OF,DF,MF,AF);const Fd={border:{themeKey:"borders",transform:as},borderTop:{themeKey:"borders",transform:as},borderRight:{themeKey:"borders",transform:as},borderBottom:{themeKey:"borders",transform:as},borderLeft:{themeKey:"borders",transform:as},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:as},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mp},color:{themeKey:"palette",transform:Ml},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ml},backgroundColor:{themeKey:"palette",transform:Ml},p:{style:Hr},pt:{style:Hr},pr:{style:Hr},pb:{style:Hr},pl:{style:Hr},px:{style:Hr},py:{style:Hr},padding:{style:Hr},paddingTop:{style:Hr},paddingRight:{style:Hr},paddingBottom:{style:Hr},paddingLeft:{style:Hr},paddingX:{style:Hr},paddingY:{style:Hr},paddingInline:{style:Hr},paddingInlineStart:{style:Hr},paddingInlineEnd:{style:Hr},paddingBlock:{style:Hr},paddingBlockStart:{style:Hr},paddingBlockEnd:{style:Hr},m:{style:qr},mt:{style:qr},mr:{style:qr},mb:{style:qr},ml:{style:qr},mx:{style:qr},my:{style:qr},margin:{style:qr},marginTop:{style:qr},marginRight:{style:qr},marginBottom:{style:qr},marginLeft:{style:qr},marginX:{style:qr},marginY:{style:qr},marginInline:{style:qr},marginInlineStart:{style:qr},marginInlineEnd:{style:qr},marginBlock:{style:qr},marginBlockStart:{style:qr},marginBlockEnd:{style:qr},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gp},rowGap:{style:_p},columnGap:{style:vp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hi},maxWidth:{style:vy},minWidth:{transform:Hi},height:{transform:Hi},maxHeight:{transform:Hi},minHeight:{transform:Hi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jF(...r){const e=r.reduce((t,s)=>t.concat(Object.keys(s)),[]),n=new Set(e);return r.every(t=>n.size===Object.keys(t).length)}function LF(r,e){return typeof r=="function"?r(e):r}function DE(){function r(n,t,s,i){const a={[n]:t,theme:s},u=i[n];if(!u)return{[n]:t};const{cssProperty:p=n,themeKey:c,transform:f,style:d}=u;if(t==null)return null;if(c==="typography"&&t==="inherit")return{[n]:t};const h=hp(s,c)||{};return d?d(a):fa(a,t,R=>{let S=Dh(h,f,R);return R===S&&typeof R=="string"&&(S=Dh(h,f,`${n}${R==="default"?"":Xa(R)}`,R)),p===!1?S:{[p]:S}})}function e(n){var t;const{sx:s,theme:i={}}=n||{};if(!s)return null;const a=(t=i.unstable_sxConfig)!=null?t:Fd;function u(p){let c=p;if(typeof p=="function")c=p(i);else if(typeof p!="object")return p;if(!c)return null;const f=GI(i.breakpoints),d=Object.keys(f);let h=f;return Object.keys(c).forEach(w=>{const R=LF(c[w],i);if(R!=null)if(typeof R=="object")if(a[w])h=nd(h,r(w,R,i,a));else{const S=fa({theme:i},R,_=>({[w]:_}));jF(S,R)?h[w]=e({sx:R,theme:i}):h=nd(h,S)}else h=nd(h,r(w,R,i,a))}),JI(d,h)}return Array.isArray(s)?s.map(u):u(s)}return e}const yp=DE();yp.filterProps=["sx"];function ME(r,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(r).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===r?e:{}}const NF=["breakpoints","palette","spacing","shape"];function AE(r={},...e){const{breakpoints:n={},palette:t={},spacing:s,shape:i={}}=r,a=Nr(r,NF),u=RE(n),p=nF(s);let c=Po({breakpoints:u,direction:"ltr",components:{},palette:Ve({mode:"light"},t),spacing:p,shape:Ve({},KI,i)},a);return c.applyStyles=ME,c=e.reduce((f,d)=>Po(f,d),c),c.unstable_sxConfig=Ve({},Fd,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return yp({sx:d,theme:this})},c}const IF=Object.freeze(Object.defineProperty({__proto__:null,default:AE,private_createBreakpoints:RE,unstable_applyStyles:ME},Symbol.toStringTag,{value:"Module"})),FF=ha(IF),BF=["sx"],$F=r=>{var e,n;const t={systemProps:{},otherProps:{}},s=(e=r==null||(n=r.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Fd;return Object.keys(r).forEach(i=>{s[i]?t.systemProps[i]=r[i]:t.otherProps[i]=r[i]}),t};function UF(r){const{sx:e}=r,n=Nr(r,BF),{systemProps:t,otherProps:s}=$F(n);let i;return Array.isArray(e)?i=[t,...e]:typeof e=="function"?i=(...a)=>{const u=e(...a);return za(u)?Ve({},t,u):t}:i=Ve({},t,e),Ve({},s,{sx:i})}const qF=Object.freeze(Object.defineProperty({__proto__:null,default:yp,extendSxProp:UF,unstable_createStyleFunctionSx:DE,unstable_defaultSxConfig:Fd},Symbol.toStringTag,{value:"Module"})),HF=ha(qF);var NC;function VF(){if(NC)return Pc;NC=1;var r=jd();Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.default=M,Pc.shouldForwardProp=R,Pc.systemDefaultTheme=void 0;var e=r(LN()),n=r(NN()),t=d(qI),s=HI;r(VI),r(zI);var i=r(FF),a=r(HF);const u=["ownerState"],p=["variants"],c=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(k){if(typeof WeakMap!="function")return null;var N=new WeakMap,y=new WeakMap;return(f=function(F){return F?y:N})(k)}function d(k,N){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var y=f(N);if(y&&y.has(k))return y.get(k);var F={__proto__:null},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in k)if(U!=="default"&&Object.prototype.hasOwnProperty.call(k,U)){var K=I?Object.getOwnPropertyDescriptor(k,U):null;K&&(K.get||K.set)?Object.defineProperty(F,U,K):F[U]=k[U]}return F.default=k,y&&y.set(k,F),F}function h(k){return Object.keys(k).length===0}function w(k){return typeof k=="string"&&k.charCodeAt(0)>96}function R(k){return k!=="ownerState"&&k!=="theme"&&k!=="sx"&&k!=="as"}const S=Pc.systemDefaultTheme=(0,i.default)(),_=k=>k&&k.charAt(0).toLowerCase()+k.slice(1);function v({defaultTheme:k,theme:N,themeId:y}){return h(N)?k:N[y]||N}function C(k){return k?(N,y)=>y[k]:null}function T(k,N){let{ownerState:y}=N,F=(0,n.default)(N,u);const I=typeof k=="function"?k((0,e.default)({ownerState:y},F)):k;if(Array.isArray(I))return I.flatMap(U=>T(U,(0,e.default)({ownerState:y},F)));if(I&&typeof I=="object"&&Array.isArray(I.variants)){const{variants:U=[]}=I;let Q=(0,n.default)(I,p);return U.forEach(oe=>{let Z=!0;typeof oe.props=="function"?Z=oe.props((0,e.default)({ownerState:y},F,y)):Object.keys(oe.props).forEach(de=>{(y==null?void 0:y[de])!==oe.props[de]&&F[de]!==oe.props[de]&&(Z=!1)}),Z&&(Array.isArray(Q)||(Q=[Q]),Q.push(typeof oe.style=="function"?oe.style((0,e.default)({ownerState:y},F,y)):oe.style))}),Q}return I}function M(k={}){const{themeId:N,defaultTheme:y=S,rootShouldForwardProp:F=R,slotShouldForwardProp:I=R}=k,U=K=>(0,a.default)((0,e.default)({},K,{theme:v((0,e.default)({},K,{defaultTheme:y,themeId:N}))}));return U.__mui_systemSx=!0,(K,Q={})=>{(0,t.internal_processStyles)(K,Je=>Je.filter(kt=>!(kt!=null&&kt.__mui_systemSx)));const{name:oe,slot:Z,skipVariantsResolver:de,skipSx:ye,overridesResolver:q=C(_(Z))}=Q,ee=(0,n.default)(Q,c),ce=de!==void 0?de:Z&&Z!=="Root"&&Z!=="root"||!1,ve=ye||!1;let fe,ke=R;Z==="Root"||Z==="root"?ke=F:Z?ke=I:w(K)&&(ke=void 0);const Re=(0,t.default)(K,(0,e.default)({shouldForwardProp:ke,label:fe},ee)),Ue=Je=>typeof Je=="function"&&Je.__emotion_real!==Je||(0,s.isPlainObject)(Je)?kt=>T(Je,(0,e.default)({},kt,{theme:v({theme:kt.theme,defaultTheme:y,themeId:N})})):Je,qe=(Je,...kt)=>{let Xt=Ue(Je);const qt=kt?kt.map(Ue):[];oe&&q&&qt.push(Jt=>{const br=v((0,e.default)({},Jt,{defaultTheme:y,themeId:N}));if(!br.components||!br.components[oe]||!br.components[oe].styleOverrides)return null;const Qt=br.components[oe].styleOverrides,on={};return Object.entries(Qt).forEach(([cr,xr])=>{on[cr]=T(xr,(0,e.default)({},Jt,{theme:br}))}),q(Jt,on)}),oe&&!ce&&qt.push(Jt=>{var br;const Qt=v((0,e.default)({},Jt,{defaultTheme:y,themeId:N})),on=Qt==null||(br=Qt.components)==null||(br=br[oe])==null?void 0:br.variants;return T({variants:on},(0,e.default)({},Jt,{theme:Qt}))}),ve||qt.push(U);const pr=qt.length-kt.length;if(Array.isArray(Je)&&pr>0){const Jt=new Array(pr).fill("");Xt=[...Je,...Jt],Xt.raw=[...Je.raw,...Jt]}const kn=Re(Xt,...qt);return K.muiName&&(kn.muiName=K.muiName),kn};return Re.withConfig&&(qe.withConfig=Re.withConfig),qe}}return Pc}var zF=VF();const WF=Ei(zF);function YF(r,e){return Ve({toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}}},e)}var Lr={};const KF=ha(XL),GF=ha(PN);var IC;function JF(){if(IC)return Lr;IC=1;var r=jd();Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.alpha=R,Lr.blend=N,Lr.colorChannel=void 0,Lr.darken=_,Lr.decomposeColor=a,Lr.emphasize=M,Lr.getContrastRatio=w,Lr.getLuminance=h,Lr.hexToRgb=s,Lr.hslToRgb=d,Lr.lighten=C,Lr.private_safeAlpha=S,Lr.private_safeColorChannel=void 0,Lr.private_safeDarken=v,Lr.private_safeEmphasize=k,Lr.private_safeLighten=T,Lr.recomposeColor=c,Lr.rgbToHex=f;var e=r(KF),n=r(GF);function t(y,F=0,I=1){return(0,n.default)(y,F,I)}function s(y){y=y.slice(1);const F=new RegExp(`.{1,${y.length>=6?2:1}}`,"g");let I=y.match(F);return I&&I[0].length===1&&(I=I.map(U=>U+U)),I?`rgb${I.length===4?"a":""}(${I.map((U,K)=>K<3?parseInt(U,16):Math.round(parseInt(U,16)/255*1e3)/1e3).join(", ")})`:""}function i(y){const F=y.toString(16);return F.length===1?`0${F}`:F}function a(y){if(y.type)return y;if(y.charAt(0)==="#")return a(s(y));const F=y.indexOf("("),I=y.substring(0,F);if(["rgb","rgba","hsl","hsla","color"].indexOf(I)===-1)throw new Error((0,e.default)(9,y));let U=y.substring(F+1,y.length-1),K;if(I==="color"){if(U=U.split(" "),K=U.shift(),U.length===4&&U[3].charAt(0)==="/"&&(U[3]=U[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(K)===-1)throw new Error((0,e.default)(10,K))}else U=U.split(",");return U=U.map(Q=>parseFloat(Q)),{type:I,values:U,colorSpace:K}}const u=y=>{const F=a(y);return F.values.slice(0,3).map((I,U)=>F.type.indexOf("hsl")!==-1&&U!==0?`${I}%`:I).join(" ")};Lr.colorChannel=u;const p=(y,F)=>{try{return u(y)}catch{return y}};Lr.private_safeColorChannel=p;function c(y){const{type:F,colorSpace:I}=y;let{values:U}=y;return F.indexOf("rgb")!==-1?U=U.map((K,Q)=>Q<3?parseInt(K,10):K):F.indexOf("hsl")!==-1&&(U[1]=`${U[1]}%`,U[2]=`${U[2]}%`),F.indexOf("color")!==-1?U=`${I} ${U.join(" ")}`:U=`${U.join(", ")}`,`${F}(${U})`}function f(y){if(y.indexOf("#")===0)return y;const{values:F}=a(y);return`#${F.map((I,U)=>i(U===3?Math.round(255*I):I)).join("")}`}function d(y){y=a(y);const{values:F}=y,I=F[0],U=F[1]/100,K=F[2]/100,Q=U*Math.min(K,1-K),oe=(ye,q=(ye+I/30)%12)=>K-Q*Math.max(Math.min(q-3,9-q,1),-1);let Z="rgb";const de=[Math.round(oe(0)*255),Math.round(oe(8)*255),Math.round(oe(4)*255)];return y.type==="hsla"&&(Z+="a",de.push(F[3])),c({type:Z,values:de})}function h(y){y=a(y);let F=y.type==="hsl"||y.type==="hsla"?a(d(y)).values:y.values;return F=F.map(I=>(y.type!=="color"&&(I/=255),I<=.03928?I/12.92:((I+.055)/1.055)**2.4)),Number((.2126*F[0]+.7152*F[1]+.0722*F[2]).toFixed(3))}function w(y,F){const I=h(y),U=h(F);return(Math.max(I,U)+.05)/(Math.min(I,U)+.05)}function R(y,F){return y=a(y),F=t(F),(y.type==="rgb"||y.type==="hsl")&&(y.type+="a"),y.type==="color"?y.values[3]=`/${F}`:y.values[3]=F,c(y)}function S(y,F,I){try{return R(y,F)}catch{return y}}function _(y,F){if(y=a(y),F=t(F),y.type.indexOf("hsl")!==-1)y.values[2]*=1-F;else if(y.type.indexOf("rgb")!==-1||y.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)y.values[I]*=1-F;return c(y)}function v(y,F,I){try{return _(y,F)}catch{return y}}function C(y,F){if(y=a(y),F=t(F),y.type.indexOf("hsl")!==-1)y.values[2]+=(100-y.values[2])*F;else if(y.type.indexOf("rgb")!==-1)for(let I=0;I<3;I+=1)y.values[I]+=(255-y.values[I])*F;else if(y.type.indexOf("color")!==-1)for(let I=0;I<3;I+=1)y.values[I]+=(1-y.values[I])*F;return c(y)}function T(y,F,I){try{return C(y,F)}catch{return y}}function M(y,F=.15){return h(y)>.5?_(y,F):C(y,F)}function k(y,F,I){try{return M(y,F)}catch{return y}}function N(y,F,I,U=1){const K=(de,ye)=>Math.round((de**(1/U)*(1-I)+ye**(1/U)*I)**U),Q=a(y),oe=a(F),Z=[K(Q.values[0],oe.values[0]),K(Q.values[1],oe.values[1]),K(Q.values[2],oe.values[2])];return c({type:"rgb",values:Z})}return Lr}var Jv=JF();const yd={black:"#000",white:"#fff"},XF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ml={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},gl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},vl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},_l={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},yl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},QF=["mode","contrastThreshold","tonalOffset"],FC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yd.white,default:yd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Zg={text:{primary:yd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function BC(r,e,n,t){const s=t.light||t,i=t.dark||t*1.5;r[e]||(r.hasOwnProperty(n)?r[e]=r[n]:e==="light"?r.light=Jv.lighten(r.main,s):e==="dark"&&(r.dark=Jv.darken(r.main,i)))}function ZF(r="light"){return r==="dark"?{main:vl[200],light:vl[50],dark:vl[400]}:{main:vl[700],light:vl[400],dark:vl[800]}}function e3(r="light"){return r==="dark"?{main:ml[200],light:ml[50],dark:ml[400]}:{main:ml[500],light:ml[300],dark:ml[700]}}function t3(r="light"){return r==="dark"?{main:gl[500],light:gl[300],dark:gl[700]}:{main:gl[700],light:gl[400],dark:gl[800]}}function r3(r="light"){return r==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:_l[700],light:_l[500],dark:_l[900]}}function n3(r="light"){return r==="dark"?{main:yl[400],light:yl[300],dark:yl[700]}:{main:yl[800],light:yl[500],dark:yl[900]}}function i3(r="light"){return r==="dark"?{main:Bu[400],light:Bu[300],dark:Bu[700]}:{main:"#ed6c02",light:Bu[500],dark:Bu[900]}}function s3(r){const{mode:e="light",contrastThreshold:n=3,tonalOffset:t=.2}=r,s=Nr(r,QF),i=r.primary||ZF(e),a=r.secondary||e3(e),u=r.error||t3(e),p=r.info||r3(e),c=r.success||n3(e),f=r.warning||i3(e);function d(S){return Jv.getContrastRatio(S,Zg.text.primary)>=n?Zg.text.primary:FC.text.primary}const h=({color:S,name:_,mainShade:v=500,lightShade:C=300,darkShade:T=700})=>{if(S=Ve({},S),!S.main&&S[v]&&(S.main=S[v]),!S.hasOwnProperty("main"))throw new Error(md(11,_?` (${_})`:"",v));if(typeof S.main!="string")throw new Error(md(12,_?` (${_})`:"",JSON.stringify(S.main)));return BC(S,"light",C,t),BC(S,"dark",T,t),S.contrastText||(S.contrastText=d(S.main)),S},w={dark:Zg,light:FC};return Po(Ve({common:Ve({},yd),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:u,name:"error"}),warning:h({color:f,name:"warning"}),info:h({color:p,name:"info"}),success:h({color:c,name:"success"}),grey:XF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:t},w[e]),s)}const o3=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function a3(r){return Math.round(r*1e5)/1e5}const $C={textTransform:"uppercase"},UC='"Roboto", "Helvetica", "Arial", sans-serif';function c3(r,e){const n=typeof e=="function"?e(r):e,{fontFamily:t=UC,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:p=700,htmlFontSize:c=16,allVariants:f,pxToRem:d}=n,h=Nr(n,o3),w=s/14,R=d||(v=>`${v/c*w}rem`),S=(v,C,T,M,k)=>Ve({fontFamily:t,fontWeight:v,fontSize:R(C),lineHeight:T},t===UC?{letterSpacing:`${a3(M/C)}em`}:{},k,f),_={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(u,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(u,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(u,14,1.75,.4,$C),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,$C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Po(Ve({htmlFontSize:c,pxToRem:R,fontFamily:t,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:p},_),h,{clone:!1})}const l3=.2,u3=.14,d3=.12;function Dr(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${l3})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${u3})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${d3})`].join(",")}const f3=["none",Dr(0,2,1,-1,0,1,1,0,0,1,3,0),Dr(0,3,1,-2,0,2,2,0,0,1,5,0),Dr(0,3,3,-2,0,3,4,0,0,1,8,0),Dr(0,2,4,-1,0,4,5,0,0,1,10,0),Dr(0,3,5,-1,0,5,8,0,0,1,14,0),Dr(0,3,5,-1,0,6,10,0,0,1,18,0),Dr(0,4,5,-2,0,7,10,1,0,2,16,1),Dr(0,5,5,-3,0,8,10,1,0,3,14,2),Dr(0,5,6,-3,0,9,12,1,0,3,16,2),Dr(0,6,6,-3,0,10,14,1,0,4,18,3),Dr(0,6,7,-4,0,11,15,1,0,4,20,3),Dr(0,7,8,-4,0,12,17,2,0,5,22,4),Dr(0,7,8,-4,0,13,19,2,0,5,24,4),Dr(0,7,9,-4,0,14,21,2,0,5,26,4),Dr(0,8,9,-5,0,15,22,2,0,6,28,5),Dr(0,8,10,-5,0,16,24,2,0,6,30,5),Dr(0,8,11,-5,0,17,26,2,0,6,32,5),Dr(0,9,11,-5,0,18,28,2,0,7,34,6),Dr(0,9,12,-6,0,19,29,2,0,7,36,6),Dr(0,10,13,-6,0,20,31,3,0,8,38,7),Dr(0,10,13,-6,0,21,33,3,0,8,40,7),Dr(0,10,14,-6,0,22,35,3,0,8,42,7),Dr(0,11,14,-7,0,23,36,3,0,9,44,8),Dr(0,11,15,-7,0,24,38,3,0,9,46,8)],h3=["duration","easing","delay"],p3={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},m3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qC(r){return`${Math.round(r)}ms`}function g3(r){if(!r)return 0;const e=r/36;return Math.round((4+15*e**.25+e/5)*10)}function v3(r){const e=Ve({},p3,r.easing),n=Ve({},m3,r.duration);return Ve({getAutoHeightDuration:g3,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:u=e.easeInOut,delay:p=0}=i;return Nr(i,h3),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof a=="string"?a:qC(a)} ${u} ${typeof p=="string"?p:qC(p)}`).join(",")}},r,{easing:e,duration:n})}const _3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},y3=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function w3(r={},...e){const{mixins:n={},palette:t={},transitions:s={},typography:i={}}=r,a=Nr(r,y3);if(r.vars&&r.generateCssVars===void 0)throw new Error(md(18));const u=s3(t),p=AE(r);let c=Po(p,{mixins:YF(p.breakpoints,n),palette:u,shadows:f3.slice(),typography:c3(u,i),transitions:v3(s),zIndex:Ve({},_3)});return c=Po(c,a),c=e.reduce((f,d)=>Po(f,d),c),c.unstable_sxConfig=Ve({},Fd,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return yp({sx:d,theme:this})},c}const b3=w3(),S3="$$material";function C3(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const k3=r=>C3(r)&&r!=="classes",x3=WF({themeId:S3,defaultTheme:b3,rootShouldForwardProp:k3});function E3(r){return fE("MuiSvgIcon",r)}TN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const T3=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],R3=r=>{const{color:e,fontSize:n,classes:t}=r,s={root:["root",e!=="inherit"&&`color${Xa(e)}`,`fontSize${Xa(n)}`]};return kN(s,E3,t)},P3=x3("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.root,n.color!=="inherit"&&e[`color${Xa(n.color)}`],e[`fontSize${Xa(n.fontSize)}`]]}})(({theme:r,ownerState:e})=>{var n,t,s,i,a,u,p,c,f,d,h,w,R;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=r.transitions)==null||(t=n.create)==null?void 0:t.call(n,"fill",{duration:(s=r.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=r.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((u=r.typography)==null||(p=u.pxToRem)==null?void 0:p.call(u,24))||"1.5rem",large:((c=r.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(r.vars||r).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(w=(r.vars||r).palette)==null||(w=w.action)==null?void 0:w.active,disabled:(R=(r.vars||r).palette)==null||(R=R.action)==null?void 0:R.disabled,inherit:void 0}[e.color]}}),Xv=le.forwardRef(function(e,n){const t=jN({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:u="svg",fontSize:p="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:d,viewBox:h="0 0 24 24"}=t,w=Nr(t,T3),R=le.isValidElement(s)&&s.type==="svg",S=Ve({},t,{color:a,component:u,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:h,hasSvgAsChild:R}),_={};f||(_.viewBox=h);const v=R3(S);return A.jsxs(P3,Ve({as:u,className:ON(v.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,w,R&&s.props,{ownerState:S,children:[R?s.props.children:s,d?A.jsx("title",{children:d}):null]}))});Xv.muiName="SvgIcon";function O3(r,e){function n(t,s){return A.jsx(Xv,Ve({"data-testid":`${e}Icon`,ref:s},t,{children:r}))}return n.muiName=Xv.muiName,le.memo(le.forwardRef(n))}const D3={configure:r=>{dE.configure(r)}},M3=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Xa,createChainedFunction:iN,createSvgIcon:O3,debounce:sN,deprecatedPropType:oN,isMuiElement:aN,ownerDocument:cE,ownerWindow:cN,requirePropFactory:lN,setRef:lE,unstable_ClassNameGenerator:D3,unstable_useEnhancedEffect:uE,unstable_useId:dN,unsupportedProp:fN,useControlled:hN,useEventCallback:pN,useForkRef:mN,useIsFocusVisible:CN},Symbol.toStringTag,{value:"Module"})),A3=ha(M3);var HC;function _y(){return HC||(HC=1,function(r){"use client";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=A3}(Yg)),Yg}var VC;function j3(){if(VC)return Iu;VC=1;var r=jd();Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.default=void 0;var e=r(_y()),n=$h();return Iu.default=(0,e.default)((0,n.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73z"}),"ScreenShare"),Iu}var L3=j3();const Qv=Ei(L3);var $u={},zC;function N3(){if(zC)return $u;zC=1;var r=jd();Object.defineProperty($u,"__esModule",{value:!0}),$u.default=void 0;var e=r(_y()),n=$h();return $u.default=(0,e.default)((0,n.jsx)("path",{d:"m21.22 18.02 2 2H24v-2zm.77-2 .01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74M2.39 1.73 1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47"}),"StopScreenShare"),$u}var I3=N3();const jE=Ei(I3);var th={};const{desktopCapturer:F3}=window.require?window.require("electron"):{},{ipcRenderer:ev}=window.require?window.require("electron"):{};var Rv;let B3=(Rv=class extends $e.Component{constructor(e){super(e),this.call=this.props.call,this.call_library=this.props.call_library,this.rtc_client=this.props.call_library.rtc_client,this.call_options=this.props.call_options,this.screen_share_track=!1,this.identity=this.props.identity,this.current_user=this.props.current_user,this.have_muted_once=!1,this.state={innerWidth:0,participants_opened:!1,chat_opened:!1,raised_hands_count:0,speak_requests_count:0,can_raise_hand:!0,durationMins:this.props.call_options.timing.duration_minutes,has_raised_hand:!1,unread_message_count:0,recording:!1,can_share_screen:this.call_options.share_screen.enabled,temp_can_share_screen:!0,is_whiteboard_opened:!1,open:!1,call_options:JSON.parse(JSON.stringify(this.call_options)),go_live_page_id:"",live_stream_id:"",mute_audio_underway:!1,mute_video_underway:!1,temporarily_unmuted:!1},this.updateWindowDimensions=this.updateWindowDimensions.bind(this),this.onSpaceKeyDownBinded=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUpBinded=this.onSpaceKeyUp.bind(this),window.call_helpers.closeAllDropdowns=this.closeAllDropdowns.bind(this),window.call_helpers.isWhiteboardOpen=()=>this.state.is_whiteboard_opened}componentDidMount(){this.prepareThings(),this.attachBusListeners(),this.attachSocketListeners(),this.attachCallListeners(),this.attachEventListeners(),this.detectSpaceKeyHold(),ev&&(ev.on("audio_flag",()=>{console.log("COmmand audio run"),console.log("audio props ",this.props.is_audio_on),this.props.is_audio_on==!0?(console.log("Mute"),this.muteAudio()):this.props.is_audio_on==!1&&(console.log("UnMute"),this.unmuteAudio())}),ev.on("video_flag",()=>{console.log("COmmand video run"),console.log("audio props ",this.props.is_video_on),this.props.is_video_on?(console.log("Mute Video"),this.muteVideo()):(console.log("UnMute Video"),this.unmuteVideo())})),this.updateWindowDimensions()}componentWillUnmount(){this.removeSocketListeners(),this.removeEventListeners(),this.stopSpaceKeyHoldDetection(),this.setState=(e,n)=>{}}updateWindowDimensions(){this.setState({innerWidth:window.innerWidth}),this.onButtonsContrinerResize()}prepareThings(){window.leaveCall=this.leaveCall.bind(this)}attachCallListeners(){this.rtc_client.onUserVideoSwitched=this.onUserVideoSwitched.bind(this),this.rtc_client.onUserAudioSwitched=this.onUserAudioSwitched.bind(this),this.rtc_client.onUserShareScreenStopped=this.onUserShareScreenStopped.bind(this),this.rtc_client.onAllowedToSpeak=this.onAllowedToSpeak.bind(this)}attachBusListeners(){Ae.on("call_raised_hands__updated",e=>{this.setState({raised_hands_count:e.length})}),Ae.on("call_speak_requests__updated",e=>{this.setState({speak_requests_count:e.length})}),Ae.on("call__other_section_changed",e=>{e||this.setState({chat_opened:!1,participants_opened:!1}),setTimeout(()=>{this.onButtonsContrinerResize()},1e3)}),Ae.on("call__share_current_screen"+this.props.identity,()=>{this.shareCurrentScreen()}),Ae.on("call__stop_share_screen"+this.props.identity,()=>{this.stopShareScreen()}),Ae.on("call_recorder__stopped",()=>{this.can_record=!1,this.setState({recording:!1})}),Ae.on("side_panel__visibility_changed",({is_shown:e,section_name:n})=>{n=="participants"&&this.setState({participants_opened:e}),n=="chat"&&this.setState({chat_opened:e}),n=="raised-hands"&&this.setState({show_raised_hands:e}),n=="speak-requests"&&this.setState({show_speak_requests:e})}),Ae.on("whiteboard__closed",()=>{this.setState({is_whiteboard_opened:!1})}),Ae.on("call__maximized",()=>{this.onButtonsContrinerResize()})}attachSocketListeners(){console.log("actions attachSocketListeners"),this.rtc_client.socket.on("breakout-room-message",()=>{it(".chat_section:visible").length||this.state.chat_opened||this.setState({unread_message_count:this.state.unread_message_count+1})}),this.rtc_client.socket.on("request-turn-on-user-audio",()=>{this.onRequestTurnOnAudio()}),this.rtc_client.socket.on("request-turn-on-user-video",()=>{this.onRequestTurnOnVideo()}),this.rtc_client.socket.on("request-user-recording",e=>{this.onRequestUserRecording(e)}),this.rtc_client.socket.on("allow-user-recording",()=>{this.onAllowUserRecording()}),this.rtc_client.socket.on("disable-user-share-screen",()=>{this.onDisableUserShareScreen()}),this.rtc_client.socket.on("enable-user-share-screen",()=>{this.onEnableUserShareScreen()}),this.rtc_client.socket.on("lower-user-hand",()=>{this.onLowerUserHand()})}attachEventListeners(){window.addEventListener("resize",this.updateWindowDimensions)}removeSocketListeners(){this.rtc_client.socket.removeAllListeners("request-turn-on-user-audio"),this.rtc_client.socket.removeAllListeners("request-turn-on-user-video")}removeEventListeners(){window.removeEventListener("resize",this.updateWindowDimensions)}showParticipants(){this.userEventDetail("show Participant"),Ae.dispatch("participants__toggle")}showChat(){this.userEventDetail("show chat"),this.setState({unread_message_count:0}),Ae.dispatch("chat__toggle")}showWhiteboard(){this.setState({is_whiteboard_opened:!0}),N_()&&this.userEventDetail("show White board"),Ae.dispatch("whiteboard__show")}showRaisedHands(){Ae.dispatch("raised_hands__toggle")}showSpeakRequests(){Ae.dispatch("speak_requests__toggle")}raiseHand(){this.setState({has_raised_hand:!0}),this.rtc_client.raiseHand()}lowerHand(){this.setState({can_raise_hand:!1,has_raised_hand:!1}),this.rtc_client.lowerHand(),setTimeout(()=>{this.setState({can_raise_hand:!0})},2e3)}toggleSendReaction(){Ae.dispatch("call_reactions__toggle",{position_left:it(".send-reaction-btn").offset().left+it(".send-reaction-btn").width()/2})}requestRecordCall(){if(this.props.is_host||this.can_record){this.startRecordCall();return}dh({title:Fe.t("You need host permission to record this meeting"),confirm_btn_text:Fe.t("Request permission")}).then(e=>{e.value&&this.rtc_client.notifyTheseUsers({event:"request-user-recording",user_ids:this.props.host_ids,data:{user:this.current_user}})})}onAllowUserRecording(){th.REACT_APP_ENVOIRNMENT_KEY=="app"&&(this.can_record=!0,ht.info("Host has allowed you to record meeting.",{position:"bottom-left",className:"call-toast",hideProgressBar:!0}))}startRecordCall(){this.userEventDetail("call recording start"),Ae.dispatch("call_recorder__record"),this.setState({recording:!0})}stopRecordCall(){this.userEventDetail("call recording stop"),Ae.dispatch("call_recorder__stop")}muteVideo(){this.rtc_client.turnOffVideo(),this.props.onVideoMutedByMe(),this.userEventDetail("mute Video"),this.setState({mute_video_underway:!0}),setTimeout(()=>{this.setState({mute_video_underway:!1})},2e3)}async unmuteVideo(){this.userEventDetail("unmute Video"),this.rtc_client.turnOnVideo(),this.props.video_effects_ref.current.mayBeApplyEffectsAfterVideo()}muteAudio(){this.rtc_client.pauseAudio(),this.props.onAudioMutedByMe(),this.userEventDetail("mute Audio"),this.have_muted_once||ht.info(()=>A.jsxs("div",{className:"toast-inner",children:[A.jsx("i",{className:"fa fa-microphone icon"}),Fe.t("Hold space bar to temporarily unmute")]}),{position:"top-center",className:"call-toast height-auto",hideProgressBar:!0,closeButton:!1}),this.have_muted_once=!0}unmuteAudio(){if(this.host_muted_me){this.rtc_client.requestHostToSpeak(),td({title:Fe.t("Your request has been sent to host, you will be able to speak after host's approval")});return}this.rtc_client.resumeAudio(),this.userEventDetail("unmute Audio")}onSpaceKeyHold(){console.log("fffff onSpaceKeyHold",this.have_muted_once,this.rtc_client.is_audio_on),!(!this.have_muted_once||this.rtc_client.is_audio_on)&&(this.unmuteAudio(),this.setState({temporarily_unmuted:!0}))}onSpaceKeyRelease(){console.log("fffff onSpaceKeyRelease",this.rtc_client.is_audio_on,this.state.temporarily_unmuted),this.state.temporarily_unmuted&&(this.muteAudio(),this.setState({temporarily_unmuted:!1}))}onUserVideoSwitched(){var e=this.state.call_options;e.video.can_turn_on=!1,this.setState({call_options:e})}onUserAudioSwitched(){if(!this.props.call_options.audio.can_turn_on){var e=this.state.call_options;e.audio.can_turn_on=!1,this.setState({call_options:e})}window.call_helpers.playNotificationSound(),ht.info(Fe.t("Host has turned off your audio"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0}),this.host_muted_me=!0}onRequestTurnOnAudio(){var e=this.state.call_options;e.audio.can_turn_on=!0,this.setState({call_options:e}),this.host_muted_me=!1,!this.props.is_audio_on&&dh({title:Fe.t("Host_is_requesting_you"),confirm_btn_text:Fe.t("Turn_on"),cancel_btn_text:Fe.t("Later")}).then(n=>{n.value&&this.unmuteAudio()})}onRequestTurnOnVideo(){var e=this.state.call_options;e.video.can_turn_on=!0,this.setState({call_options:e}),!this.props.is_video_on&&dh({title:Fe.t("Host is requesting you to turn on your video"),confirm_btn_text:Fe.t("Turn_on"),cancel_btn_text:Fe.t("Later")}).then(n=>{n.value&&this.unmuteVideo()})}onUserShareScreenStopped(){this.props.sharing_screen&&ht.info(Fe.t("Host has stopped your shared screen"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0})}onDisableUserShareScreen(){this.state.can_share_screen&&(this.setState({can_share_screen:!1}),ht.info(Fe.t("Host has stopped you from sharing screen"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0}))}onEnableUserShareScreen(){this.state.can_share_screen||(this.setState({can_share_screen:!0}),ht.info(Fe.t("Host has allowed you to share screen"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0}))}onLowerUserHand(){this.lowerHand()}onRequestUserRecording(e){var{user:n}=e;ht.info(`${n.name} ${Fe.t("is requesting to record the meeting.")}`,{position:"bottom-left",className:"call-toast",hideProgressBar:!0})}onAllowedToSpeak(){window.call_helpers.playNotificationSound(),this.host_muted_me=!1,td({title:Fe.t("Host have allowed you to speak, unmute to speak")})}leaveCall({reason:e="self"}={}){this.props.logEventToServer("leave_init reason: "+e),this.userEventDetail("leave_init or leave_call"),this.rtc_client.leaveCall({join_main_room:!1}),Ae.dispatch("call_actions__left"),this.endCallFromWeb()}endCall(){this.props.logEventToServer("end_init"),this.userEventDetail("end_init or end_call from host.");var e=this.props.endMainRoom();this.props.endBreakoutRooms(),e||this.rtc_client.endCall(),Ae.dispatch("call_actions__ended"),this.endCallFromWeb()}endCallFromWeb(){setTimeout(()=>{if(process&&th.REACT_APP_ENVOIRNMENT_KEY=="web"){var e=window.location.href;e.indexOf("join_meeting")>-1&&window.location.replace(th.REACT_APP_SITE_URL)}},1e3)}shareCurrentScreen(){if(this.stopShareScreen(),this.userEventDetail("share Screen"),th.REACT_APP_ENVOIRNMENT_KEY=="web"){this.rtc_client.shareScreen({});return}F3.getSources({types:["window","screen"]}).then(async e=>{for(const n of e)if(n.id==window.electron_window.getMediaSourceId()){this.call_library.getSourceStream(n,t=>{this.shareScreen(t)});return}})}shareScreen(e=!1){if(!this.props.sharing_screen){var n=this.call_options.share_screen.max_at_time,t=n==Object.keys(this.props.screen_sharing_users).length;if(this.props.is_host&&t&&(t=!1,this.rtc_client.stopAllUsersShareScreen()),n&&t){td({title:Fe.t("already_sharing")});return}this.rtc_client.shareScreen({stream:e}),this.setState({temp_can_share_screen:!1}),setTimeout(()=>{this.setState({temp_can_share_screen:!0})},2e3)}}stopShareScreen(){console.log("stopShareScreen",this.props.sharing_screen),this.props.sharing_screen&&this.rtc_client.stopShareScreen()}showAddToCall(){this.userEventDetail("add To Call Participants"),Ae.dispatch("add_to_call__show")}showAddTimeLimit(){this.userEventDetail("add time"),Ae.dispatch("time__show")}prepareBreakoutRooms(){this.userEventDetail("Breakout rooms"),Ae.dispatch("call_breakout_rooms__init"+this.identity)}prepareChangeBackground(){this.userEventDetail(Fe.t("Change background")),this.props.video_effects_ref.current.showBackgroundEffects()}toggleBlurBackground(){if(this.props.video_effect_type=="background_blur"){this.props.video_effects_ref.current.removeEffects();return}this.props.video_effects_ref.current.applyBackgroundBlur()}removeBackgroundBlur(){this.props.video_effects_ref.current.removeEffects()}toggleVideoOptions(e){e.stopPropagation(),it(".video-options .dropdown-toggle").dropdown("toggle")}onSpaceKeyDown(e){e.repeat||e.code=="Space"&&(this.space_key_is_pressed=!0,this.space_key_is_hold=!1,this.space_key_timeout_id=setTimeout(()=>{this.space_key_is_pressed&&(this.space_key_is_hold=!0,this.onSpaceKeyHold())},200))}onSpaceKeyUp(e){e.code=="Space"&&(this.space_key_is_hold&&this.onSpaceKeyRelease(),clearTimeout(this.space_key_timeout_id),this.space_key_is_pressed=!1,this.space_key_is_hold=!1)}detectSpaceKeyHold(){document.addEventListener("keydown",this.onSpaceKeyDownBinded),document.addEventListener("keyup",this.onSpaceKeyUpBinded)}stopSpaceKeyHoldDetection(){document.removeEventListener("keydown",this.onSpaceKeyDownBinded),document.removeEventListener("keyup",this.onSpaceKeyUpBinded)}copyLink(){var e,n,t,s;this.call.meet_now==1?e="Meet Now":e=this.call.title,n="Password: "+this.call.password,s=" ("+dL()+")",this.call.is_recurring?t="Every "+uL(this.call.start_time)+" "+aL(this.call.start_time):t=sL(this.call.start_time);var i=`${this.current_user.first_name} is inviting you to a scheduled MIZDAH meeting
    Topic: ${e}
    Meeting Id: ${this.call.id}
    ${n}
    Date & Time: ${t} ${s}
    Join MIZDAH meeting ${this.call.join_link}`;navigator.clipboard.writeText(i),ht.success(Fe.t("InvitationLinkCopied"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0})}userEventDetail(e){}getActionButtons(e){const{t:n,i18n:t}=this.props;this.get_actions_button_resize_underway||(this.get_actions_button_resize_underway=!0,setTimeout(()=>{this.onButtonsContrinerResize(),this.get_actions_button_resize_underway=!1},5));var s=e!="dropdown"?"tooltip":"";return A.jsxs(A.Fragment,{children:[A.jsxs("button",{className:"action-btn participants_btn dropdown-item con-tooltip top"+(this.state.participants_opened?"on":""),onClick:this.showParticipants.bind(this),children:[this.state.participants_opened?A.jsx(A.Fragment,{children:A.jsx("i",{class:"fas fa-user action-icon icon"})}):A.jsx(A.Fragment,{children:A.jsx("i",{class:"fas fa-user action-icon icon"})}),this.state.participants_opened?A.jsx("div",{className:`action-title ${s}`,children:n("Hide Participants")}):A.jsx(A.Fragment,{children:this.props.is_host?A.jsx("div",{className:`action-title on ${s}`,children:n("Participants / Requests")}):A.jsx("div",{className:`action-title on ${s}`,children:n("Participants")})}),A.jsx("div",{className:"badge-icon participants-count",children:Object.keys(this.props.participants).length})]}),this.state.go_live_page_id==""?"":A.jsxs(A.Fragment,{children:[A.jsxs("button",{className:" raise-hand-btn action-btn dropdown-only-btn dropdown-item ",onClick:()=>{navigator.clipboard.writeText("https://live.worldnoor.com/MizdahDev/play.html?id="+this.state.live_stream_id),ht.success(Fe.t("Go live link has been copied"))},children:[A.jsx("i",{class:"fas fa-copy action-icon icon"}),A.jsx("div",{className:"action-title",children:n("Go live link")})]}),A.jsxs("button",{className:"record-call-btn action-btn dropdown-only-btn dropdown-item",onClick:()=>this.closeGoLive(),children:[A.jsx("i",{className:"stop-recording fas fa-stop action-icon"}),A.jsx("div",{className:"action-title",children:n("End Go Live")})]})]})]})}onButtonsContrinerResize(){it(".footer-middle > .action-btn").not(".dropdown-actions").show(),it(".dropdown-actions .dropdown-menu .action-btn").hide();var e=0;it(".footer-middle > .action-btn").not(".dropdown-only-btn").each(function(n,t){var s=it(".footer-middle").outerWidth(!0);it(this).position().left+it(this).outerWidth(!0)>s?(e++,it(this).hide(),it(".dropdown-actions").find("[class='"+it(this).attr("class")+"']").show()):(it(this).show(),it(".dropdown-actions").find("[class='"+it(this).attr("class")+"']").hide())}),e+=it(".dropdown-only-btn").length,e<=0?it(".dropdown-actions").hide():it(".dropdown-actions").show()}goLive(){}closeGoLive(){}closeAllDropdowns(){it(".footer_btns .dropdown").each(function(){it(this).find(".dropdown-menu").is(":hidden")||it(this).find('[data-toggle="dropdown"]').dropdown("toggle")}),Ae.dispatch("call_reactions__hide")}render(){const{t:e,i18n:n}=this.props;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"footer_btns",children:[A.jsxs("div",{className:"footer-left",children:[this.props.is_audio_on?A.jsx("button",{className:"action-btn on",disabled:!this.state.call_options.audio.can_turn_on,onClick:()=>this.muteAudio(),onKeyDown:t=>{t.preventDefault()},title:this.state.call_options.audio.can_turn_off?"Cmd/Ctrl + Shift + a":Fe.t("Option disabled by host"),children:A.jsx("i",{class:"fa fa-microphone action-icon"})}):A.jsx("button",{className:"action-btn",disabled:!this.state.call_options.audio.can_turn_on,onClick:()=>this.unmuteAudio(),onKeyDown:t=>{t.preventDefault()},title:this.state.call_options.audio.can_turn_on?"Cmd/Ctrl + Shift + a":Fe.t("Option disabled by host"),children:A.jsx("i",{class:"fa fa-microphone-slash action-icon"})}),this.props.is_video_on?A.jsx("button",{className:"action-btn on",id:"muteVideoBtn",onClick:()=>this.muteVideo(),onKeyDown:t=>{t.preventDefault()},title:"Cmd/Ctrl + Shift + v",children:A.jsx("i",{class:"fa fa-video action-icon on"})}):A.jsx("button",{className:"action-btn",onClick:()=>this.unmuteVideo(),onKeyDown:t=>{t.preventDefault()},disabled:this.state.mute_video_underway,title:this.state.call_options.video.can_turn_on?"Cmd/Ctrl + Shift + v":Fe.t("Option disabled by host"),children:A.jsx("i",{class:"fas fa-video-slash action-icon off"})})]}),A.jsx("div",{className:"footer-middle",children:this.getActionButtons()}),A.jsxs("div",{className:"footer-right",children:[A.jsxs("span",{className:"dropdown-actions dropdown action-btn",children:[A.jsxs("button",{type:"button",className:"dropup-btn action-btn","data-toggle":"dropdown",children:[A.jsx("i",{class:"fas fa-ellipsis-v action-icon"}),A.jsxs("div",{className:"action-title",children:[" ",e("More")]})]}),A.jsx("div",{className:"dropdown-menu droplist",children:this.getActionButtons("dropdown")})]}),A.jsxs("div",{class:"dropdown d-inline-block h-100 leave-call-dropdown",children:[A.jsxs("button",{className:"action-btn leave-call-btn con-tooltip","data-toggle":"dropdown",children:[A.jsx("i",{className:"fas fa-phone phone action-icon"}),A.jsxs("div",{className:"action-title tooltip",children:[" ",e("Leave Call")]})]}),A.jsxs("div",{class:"dropdown-menu",children:[this.props.breakout_room&&A.jsxs("button",{className:"dropdown-item button leave-breakout-room-btn",onClick:()=>this.props.leaveBreakoutRoom(),children:[A.jsx("i",{class:"fas fa-level-down-alt icon"}),e("Leave breakout room")]}),A.jsxs("button",{className:"dropdown-item button just-leave-call-btn",onClick:()=>this.leaveCall(),children:[A.jsx("i",{class:"fas fa-sign-out-alt icon"}),e("Leave")]}),this.props.is_host&&A.jsxs("button",{className:"dropdown-item button end-call-btn",onClick:()=>this.endCall(),children:[A.jsx("i",{class:"fas fa-phone phone icon"}),e("End for everyone")]})]})]})]}),A.jsx("div",{className:"clearfix"})]}),this.state.temporarily_unmuted&&A.jsxs("div",{className:"temporarily-unmuted",children:[A.jsx("i",{class:"fa fa-microphone"}),A.jsx("div",{children:e("Temporarily Unmuted")})]})]})}},Fa(Rv,"contextType",Za),Rv);const $3=ls("translation",{withRef:!0})(B3);class LE extends $e.Component{constructor(e){super(e),this.password="",this.provided_password="",this.is_authenticated=!1,this.state={join_request:{},error:"",is_loading:!1},this.onJoinRequestUpdated=this.onJoinRequestUpdated.bind(this)}componentDidMount(){this.prepareThings(),this.attachSocketListeners(),this.attachEventListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.hideMe(),this.removeSocketListeners()}prepareThings(){this.password=this.props.call_options.auth.password,this.initAuthentication()}attachSocketListeners(){console.log("auth attachSocketListeners")}removeSocketListeners(){}attachEventListeners(){it(".call-auth-modal").on("hidden.bs.modal",()=>{!this.is_authenticated&&!this.state.join_request.request_status&&Ae.dispatch("call_auth__cancelled")})}onJoinRequestUpdated(e){var n=e.join_request;this.state.join_request.id==n.id&&(this.setState(t=>({join_request:{...t.join_request,request_status:n.request_status}})),n.request_status=="accepted"&&this.authenticated())}initAuthentication(){L_("pwd"),this.provided_password==this.password||!this.password?this.passwordVerified():this.showMe()}authenticate(){if(this.setState({is_loading:!0}),this.provided_password==this.password){this.passwordVerified();return}this.setState({is_loading:!1}),this.setState({error:"Invalid password"})}passwordVerified(){Ae.dispatch("call_auth__password_verified"),this.props.call_options.auth.is_approval_needed?this.requestApproval():this.authenticated()}authenticated(){this.setState({is_loading:!1}),this.is_authenticated=!0,this.hideMe(),Ae.dispatch("call_auth__authenticated"+this.props.identity)}requestApproval(){}cancelJoin(){this.props.cancelJoin()}showMe(){it(".call-auth-modal").modal("show")}hideMe(){it(".call-auth-modal").modal("hide")}updatePasswordState(e){this.provided_password=e.target.value}render(){return A.jsxs("div",{className:"call-auth",children:[A.jsx("div",{className:"call-auth-modal modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:Fe.t("Enter your Password")}),A.jsx("div",{className:"popup-close",onClick:this.cancelJoin.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsx("input",{type:"text",onChange:e=>this.updatePasswordState(e),className:"form-control",autoFocus:!0}),this.state.error&&A.jsx("span",{className:"basic-error font-small",children:this.state.error}),A.jsx("div",{className:"options",children:A.jsxs("button",{className:"button success-btn",onClick:this.authenticate.bind(this),disabled:this.state.is_loading,children:[Fe.t("Join Meeting"),this.state.is_loading&&A.jsx("i",{className:"fa fa-circle-notch fa-spin"})]})})]})})}),this.state.join_request.request_status&&this.state.join_request.request_status!="accepted"&&A.jsxs("div",{className:"only-notification",children:[A.jsxs("div",{children:[A.jsx("i",{className:"fas fa-user-plus icon","aria-hidden":"true"}),this.state.join_request.request_status=="pending"&&A.jsx("span",{className:"text",children:Fe.t("request_sent")}),this.state.join_request.request_status=="rejected"&&A.jsx("span",{className:"rejected text",children:Fe.t("Your join request has been rejected by host")})]}),A.jsx("button",{className:"go-back-btn",onClick:this.cancelJoin.bind(this),children:Fe.t("Go back")})]})]})}}Fa(LE,"contextType",Za);function Bd(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Sh(r,e)}function WC(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function U3(r){var e=q3(r,"string");return typeof e=="symbol"?e:String(e)}function q3(r,e){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function H3(r,e,n){var t=le.useRef(r!==void 0),s=le.useState(e),i=s[0],a=s[1],u=r!==void 0,p=t.current;return t.current=u,!u&&p&&i!==e&&a(e),[u?r:i,le.useCallback(function(c){for(var f=arguments.length,d=new Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];n&&n.apply(void 0,[c].concat(d)),a(c)},[n])]}function NE(r,e){return Object.keys(e).reduce(function(n,t){var s,i=n,a=i[WC(t)],u=i[t],p=Nr(i,[WC(t),t].map(U3)),c=e[t],f=H3(u,a,r[c]),d=f[0],h=f[1];return Ve({},p,(s={},s[t]=d,s[c]=h,s))},r)}var wp=$e.createContext(null),wd=$e.createContext(null),Mh=function(e,n){return n===void 0&&(n=null),e!=null?String(e):n||null},V3=function(e){var n=NE(e,{activeKey:"onSelect"}),t=n.id,s=n.generateChildId,i=n.onSelect,a=n.activeKey,u=n.transition,p=n.mountOnEnter,c=n.unmountOnExit,f=n.children,d=le.useMemo(function(){return s||function(w,R){return t?t+"-"+R+"-"+w:null}},[t,s]),h=le.useMemo(function(){return{onSelect:i,activeKey:a,transition:u,mountOnEnter:p||!1,unmountOnExit:c||!1,getControlledId:function(R){return d(R,"tabpane")},getControllerId:function(R){return d(R,"tab")}}},[i,a,u,p,c,d]);return $e.createElement(wp.Provider,{value:h},$e.createElement(wd.Provider,{value:i||null},f))},tv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var YC;function z3(){return YC||(YC=1,function(r){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(i=s(i,t(u)))}return i}function t(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var u in i)e.call(i,u)&&i[u]&&(a=s(a,u));return a}function s(i,a){return a?i?i+" "+a:i+a:i}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(tv)),tv.exports}var W3=z3();const Yc=Ei(W3);var yy=$e.createContext({});yy.Consumer;yy.Provider;function $d(r,e){var n=le.useContext(yy);return r||n[e]||e}var Y3=["bsPrefix","as","className"],K3=$e.forwardRef(function(r,e){var n=r.bsPrefix,t=r.as,s=t===void 0?"div":t,i=r.className,a=Nr(r,Y3),u=$d(n,"tab-content");return $e.createElement(s,Ve({ref:e},a,{className:Yc(i,u)}))});const KC={disabled:!1},Ah=$e.createContext(null);var G3=function(e){return e.scrollTop},Yu="unmounted",Dc="exited",Va="entering",Mc="entered",Zv="exiting",ga=function(r){Bd(e,r);function e(t,s){var i;i=r.call(this,t,s)||this;var a=s,u=a&&!a.isMounting?t.enter:t.appear,p;return i.appearStatus=null,t.in?u?(p=Dc,i.appearStatus=Va):p=Mc:t.unmountOnExit||t.mountOnEnter?p=Yu:p=Dc,i.state={status:p},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===Yu?{status:Dc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Va&&a!==Mc&&(i=Va):(a===Va||a===Mc)&&(i=Zv)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,u;return i=a=u=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,u=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:u}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Va){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:zu.findDOMNode(this);a&&G3(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dc&&this.setState({status:Yu})},n.performEnter=function(s){var i=this,a=this.props.enter,u=this.context?this.context.isMounting:s,p=this.props.nodeRef?[u]:[zu.findDOMNode(this),u],c=p[0],f=p[1],d=this.getTimeouts(),h=u?d.appear:d.enter;if(!s&&!a||KC.disabled){this.safeSetState({status:Mc},function(){i.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Va},function(){i.props.onEntering(c,f),i.onTransitionEnd(h,function(){i.safeSetState({status:Mc},function(){i.props.onEntered(c,f)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:zu.findDOMNode(this);if(!i||KC.disabled){this.safeSetState({status:Dc},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Zv},function(){s.props.onExiting(u),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:Dc},function(){s.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,i.nextCallback=null,s(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:zu.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=p[0],f=p[1];this.props.addEndListener(c,f)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Yu)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=Nr(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $e.createElement(Ah.Provider,{value:null},typeof a=="function"?a(s,u):$e.cloneElement($e.Children.only(a),u))},e}($e.Component);ga.contextType=Ah;ga.propTypes={};function wl(){}ga.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wl,onEntering:wl,onEntered:wl,onExit:wl,onExiting:wl,onExited:wl};ga.UNMOUNTED=Yu;ga.EXITED=Dc;ga.ENTERING=Va;ga.ENTERED=Mc;ga.EXITING=Zv;function J3(r){return r&&r.ownerDocument||document}function X3(r){var e=J3(r);return e&&e.defaultView||window}function Q3(r,e){return X3(r).getComputedStyle(r,e)}var Z3=/([A-Z])/g;function e2(r){return r.replace(Z3,"-$1").toLowerCase()}var t2=/^ms-/;function rh(r){return e2(r).replace(t2,"-ms-")}var r2=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function n2(r){return!!(r&&r2.test(r))}function IE(r,e){var n="",t="";if(typeof e=="string")return r.style.getPropertyValue(rh(e))||Q3(r).getPropertyValue(rh(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?r.style.removeProperty(rh(s)):n2(s)?t+=s+"("+i+") ":n+=rh(s)+": "+i+";"}),t&&(n+="transform: "+t+";"),r.style.cssText+=";"+n}const i2=!!(typeof window<"u"&&window.document&&window.document.createElement);var e_=!1,t_=!1;try{var rv={get passive(){return e_=!0},get once(){return t_=e_=!0}};i2&&(window.addEventListener("test",rv,rv),window.removeEventListener("test",rv,!0))}catch{}function s2(r,e,n,t){if(t&&typeof t!="boolean"&&!t_){var s=t.once,i=t.capture,a=n;!t_&&s&&(a=n.__once||function u(p){this.removeEventListener(e,u,i),n.call(this,p)},n.__once=a),r.addEventListener(e,a,e_?t:i)}r.addEventListener(e,n,t)}function o2(r,e,n,t){var s=t&&typeof t!="boolean"?t.capture:t;r.removeEventListener(e,n,s),n.__once&&r.removeEventListener(e,n.__once,s)}function FE(r,e,n,t){return s2(r,e,n,t),function(){o2(r,e,n,t)}}function a2(r,e,n,t){if(t===void 0&&(t=!0),r){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,t),r.dispatchEvent(s)}}function c2(r){var e=IE(r,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function l2(r,e,n){n===void 0&&(n=5);var t=!1,s=setTimeout(function(){t||a2(r,"transitionend",!0)},e+n),i=FE(r,"transitionend",function(){t=!0},{once:!0});return function(){clearTimeout(s),i()}}function u2(r,e,n,t){n==null&&(n=c2(r)||0);var s=l2(r,n,t),i=FE(r,"transitionend",e);return function(){s(),i()}}function GC(r,e){var n=IE(r,e)||"",t=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*t}function d2(r,e){var n=GC(r,"transitionDuration"),t=GC(r,"transitionDelay"),s=u2(r,function(i){i.target===r&&(s(),e(i))},n+t)}function f2(r){r.offsetHeight}var h2=["className","children"],nh,p2={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},m2=(nh={},nh[Va]="show",nh[Mc]="show",nh),wy=$e.forwardRef(function(r,e){var n=r.className,t=r.children,s=Nr(r,h2),i=le.useCallback(function(a){f2(a),s.onEnter&&s.onEnter(a)},[s]);return $e.createElement(ga,Ve({ref:e,addEndListener:d2},s,{onEnter:i}),function(a,u){return $e.cloneElement(t,Ve({},u,{className:Yc("fade",n,t.props.className,m2[a])}))})});wy.defaultProps=p2;wy.displayName="Fade";var g2=["activeKey","getControlledId","getControllerId"],v2=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];function _2(r){var e=le.useContext(wp);if(!e)return r;var n=e.activeKey,t=e.getControlledId,s=e.getControllerId,i=Nr(e,g2),a=r.transition!==!1&&i.transition!==!1,u=Mh(r.eventKey);return Ve({},r,{active:r.active==null&&u!=null?Mh(n)===u:r.active,id:t(r.eventKey),"aria-labelledby":s(r.eventKey),transition:a&&(r.transition||i.transition||wy),mountOnEnter:r.mountOnEnter!=null?r.mountOnEnter:i.mountOnEnter,unmountOnExit:r.unmountOnExit!=null?r.unmountOnExit:i.unmountOnExit})}var BE=$e.forwardRef(function(r,e){var n=_2(r),t=n.bsPrefix,s=n.className,i=n.active,a=n.onEnter,u=n.onEntering,p=n.onEntered,c=n.onExit,f=n.onExiting,d=n.onExited,h=n.mountOnEnter,w=n.unmountOnExit,R=n.transition,S=n.as,_=S===void 0?"div":S;n.eventKey;var v=Nr(n,v2),C=$d(t,"tab-pane");if(!i&&!R&&w)return null;var T=$e.createElement(_,Ve({},v,{ref:e,role:"tabpanel","aria-hidden":!i,className:Yc(s,C,{active:i})}));return R&&(T=$e.createElement(R,{in:i,onEnter:a,onEntering:u,onEntered:p,onExit:c,onExiting:f,onExited:d,mountOnEnter:h,unmountOnExit:w},T)),$e.createElement(wp.Provider,{value:null},$e.createElement(wd.Provider,{value:null},T))});BE.displayName="TabPane";var Nc=function(r){Bd(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},e}($e.Component);Nc.Container=V3;Nc.Content=K3;Nc.Pane=BE;var ih={exports:{}},sh={exports:{}},JC;function y2(){return JC||(JC=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(t){function s(a,u,p,c,f,d){var h=c||"<<anonymous>>",w=d||p;if(u[p]==null)return a?new Error("Required "+f+" `"+w+"` was not specified "+("in `"+h+"`.")):null;for(var R=arguments.length,S=Array(R>6?R-6:0),_=6;_<R;_++)S[_-6]=arguments[_];return t.apply(void 0,[u,p,h,f,w].concat(S))}var i=s.bind(null,!1);return i.isRequired=s.bind(null,!0),i}r.exports=e.default}(sh,sh.exports)),sh.exports}var XC;function w2(){return XC||(XC=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=y2(),t=s(n);function s(a){return a&&a.__esModule?a:{default:a}}function i(){for(var a=arguments.length,u=Array(a),p=0;p<a;p++)u[p]=arguments[p];function c(){for(var f=arguments.length,d=Array(f),h=0;h<f;h++)d[h]=arguments[h];var w=null;return u.forEach(function(R){if(w==null){var S=R.apply(void 0,d);S!=null&&(w=S)}}),w}return(0,t.default)(c)}r.exports=e.default}(ih,ih.exports)),ih.exports}w2();var $E=$e.createContext(null);$E.displayName="NavbarContext";var UE=$e.createContext(null);UE.displayName="CardContext";var b2=Function.prototype.bind.call(Function.prototype.call,[].slice);function S2(r,e){return b2(r.querySelectorAll(e))}function C2(){const[,r]=le.useReducer(e=>!e,!1);return r}const QC=r=>!r||typeof r=="function"?r:e=>{r.current=e};function k2(r,e){const n=QC(r),t=QC(e);return s=>{n&&n(s),t&&t(s)}}function x2(r,e){return le.useMemo(()=>k2(r,e),[r,e])}var by=$e.createContext(null);by.displayName="NavContext";var E2=["as","onSelect","activeKey","role","onKeyDown"],ZC=function(){},T2=$e.forwardRef(function(r,e){var n=r.as,t=n===void 0?"ul":n,s=r.onSelect,i=r.activeKey,a=r.role,u=r.onKeyDown,p=Nr(r,E2),c=C2(),f=le.useRef(!1),d=le.useContext(wd),h=le.useContext(wp),w,R;h&&(a=a||"tablist",i=h.activeKey,w=h.getControlledId,R=h.getControllerId);var S=le.useRef(null),_=function(k){var N=S.current;if(!N)return null;var y=S2(N,"[data-rb-event-key]:not(.disabled)"),F=N.querySelector(".active");if(!F)return null;var I=y.indexOf(F);if(I===-1)return null;var U=I+k;return U>=y.length&&(U=0),U<0&&(U=y.length-1),y[U]},v=function(k,N){k!=null&&(s&&s(k,N),d&&d(k,N))},C=function(k){u&&u(k);var N;switch(k.key){case"ArrowLeft":case"ArrowUp":N=_(-1);break;case"ArrowRight":case"ArrowDown":N=_(1);break;default:return}N&&(k.preventDefault(),v(N.dataset.rbEventKey,k),f.current=!0,c())};le.useEffect(function(){if(S.current&&f.current){var M=S.current.querySelector("[data-rb-event-key].active");M&&M.focus()}f.current=!1});var T=x2(e,S);return $e.createElement(wd.Provider,{value:v},$e.createElement(by.Provider,{value:{role:a,activeKey:Mh(i),getControlledId:w||ZC,getControllerId:R||ZC}},$e.createElement(t,Ve({},p,{onKeyDown:C,ref:T,role:a}))))}),R2=["bsPrefix","className","children","as"],qE=$e.forwardRef(function(r,e){var n=r.bsPrefix,t=r.className,s=r.children,i=r.as,a=i===void 0?"div":i,u=Nr(r,R2);return n=$d(n,"nav-item"),$e.createElement(a,Ve({},u,{ref:e,className:Yc(t,n)}),s)});qE.displayName="NavItem";function P2(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e.filter(function(t){return t!=null}).reduce(function(t,s){if(typeof s!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?s:function(){for(var a=arguments.length,u=new Array(a),p=0;p<a;p++)u[p]=arguments[p];t.apply(this,u),s.apply(this,u)}},null)}var O2=["as","disabled","onKeyDown"];function ek(r){return!r||r.trim()==="#"}var HE=$e.forwardRef(function(r,e){var n=r.as,t=n===void 0?"a":n,s=r.disabled,i=r.onKeyDown,a=Nr(r,O2),u=function(f){var d=a.href,h=a.onClick;if((s||ek(d))&&f.preventDefault(),s){f.stopPropagation();return}h&&h(f)},p=function(f){f.key===" "&&(f.preventDefault(),u(f))};return ek(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),s&&(a.tabIndex=-1,a["aria-disabled"]=!0),$e.createElement(t,Ve({ref:e},a,{onClick:u,onKeyDown:P2(p,i)}))});HE.displayName="SafeAnchor";function D2(r){const e=le.useRef(r);return le.useEffect(()=>{e.current=r},[r]),e}function M2(r){const e=D2(r);return le.useCallback(function(...n){return e.current&&e.current(...n)},[e])}var A2=["active","className","eventKey","onSelect","onClick","as"],j2={disabled:!1},VE=$e.forwardRef(function(r,e){var n=r.active,t=r.className,s=r.eventKey,i=r.onSelect,a=r.onClick,u=r.as,p=Nr(r,A2),c=Mh(s,p.href),f=le.useContext(wd),d=le.useContext(by),h=n;if(d){!p.role&&d.role==="tablist"&&(p.role="tab");var w=d.getControllerId(c),R=d.getControlledId(c);p["data-rb-event-key"]=c,p.id=w||p.id,p["aria-controls"]=R||p["aria-controls"],h=n==null&&c!=null?d.activeKey===c:n}p.role==="tab"&&(p.disabled&&(p.tabIndex=-1,p["aria-disabled"]=!0),p["aria-selected"]=h);var S=M2(function(_){a&&a(_),c!=null&&(i&&i(c,_),f&&f(c,_))});return $e.createElement(u,Ve({},p,{ref:e,onClick:S,className:Yc(t,h&&"active")}))});VE.defaultProps=j2;var L2=["bsPrefix","disabled","className","href","eventKey","onSelect","as"],N2={disabled:!1,as:HE},Sy=$e.forwardRef(function(r,e){var n=r.bsPrefix,t=r.disabled,s=r.className,i=r.href,a=r.eventKey,u=r.onSelect,p=r.as,c=Nr(r,L2);return n=$d(n,"nav-link"),$e.createElement(VE,Ve({},c,{href:i,ref:e,eventKey:a,as:p,disabled:t,onSelect:u,className:Yc(s,n,t&&"disabled")}))});Sy.displayName="NavLink";Sy.defaultProps=N2;var I2=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","children","activeKey"],F2={justify:!1,fill:!1},ia=$e.forwardRef(function(r,e){var n,t=NE(r,{activeKey:"onSelect"}),s=t.as,i=s===void 0?"div":s,a=t.bsPrefix,u=t.variant,p=t.fill,c=t.justify,f=t.navbar,d=t.navbarScroll,h=t.className,w=t.children,R=t.activeKey,S=Nr(t,I2),_=$d(a,"nav"),v,C,T=!1,M=le.useContext($E),k=le.useContext(UE);return M?(v=M.bsPrefix,T=f??!0):k&&(C=k.cardHeaderBsPrefix),$e.createElement(T2,Ve({as:i,ref:e,activeKey:R,className:Yc(h,(n={},n[_]=!T,n[v+"-nav"]=T,n[v+"-nav-scroll"]=T&&d,n[C+"-"+u]=!!C,n[_+"-"+u]=!!u,n[_+"-fill"]=p,n[_+"-justified"]=c,n))},S),w)});ia.displayName="Nav";ia.defaultProps=F2;ia.Item=qE;ia.Link=Sy;var Uu={},tk;function B2(){if(tk)return Uu;tk=1;var r=jd();Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.default=void 0;var e=r(_y()),n=$h();return Uu.default=(0,e.default)([(0,n.jsx)("path",{d:"M21 19.1H3V5h18zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),(0,n.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation"),Uu}var $2=B2();const zE=Ei($2);class U2 extends $e.Component{constructor(e){super(e),this.participant=this.props.participants[e.user_id]||{},this.user=this.participant.user||{},this.state={is_hand_raised:!1,remove_underway:!1,video_on_off_underway:!1,audio_on_off_underway:!1,stop_share_screen_underway:!1},this.attachBusListeners(),this.attachCallListeners()}attachBusListeners(){Ae.on("call_shared_screen__closed",()=>{this.maximized_screen_user_id=!1})}attachCallListeners(){this.props.rtc_client.onScreenStream=this.onScreenStream.bind(this),this.props.rtc_client.onHandRaised=this.onHandRaised.bind(this),this.props.rtc_client.onHandLowered=this.onHandLowered.bind(this)}onScreenStream(e){var{user_id:n}=e;this.maximized_screen_user_id=n}onHandRaised(e){var{user_id:n}=e;n==this.user.id&&this.setState({is_hand_raised:!0})}onHandLowered(e){var{user_id:n}=e;n==this.user.id&&this.setState({is_hand_raised:!1})}maximizeUserStream(){Ae.dispatch("call_maximized_stream__maximize",this.user.id)}async makeHost(){var e=await this.props.rtc_client.addHost({target_user_id:this.user.id})}async removeHost(){var e=await this.props.rtc_client.removeHost({target_user_id:this.user.id})}allowUserToRecord(){this.props.rtc_client.notifyTheseUsers({event:"allow-user-recording",user_ids:[this.user.id]})}async moveUserToWaitingArea(){await this.removeUser({is_waiting:!0})&&ht.info(Fe.t("You can move user back to call from join requests section"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0})}prepareBlockUser(){dh({title:Fe.t("This user will not be able to participate in any future sessions of this meeting Do you want to continue"),text:Fe.t("You can unblock user anytime from meeting details page")}).then(e=>{e.value&&this.blockUser(this.user)})}async blockUser(e){await this.removeUser({is_blocked:!0})}async removeUser(e={}){}turnOffUserAudio(){this.props.is_host&&this.user.id!=this.props.current_user.id&&(this.props.rtc_client.switchUserAudio({target_user_id:this.user.id,is_audio_on:!1}),this.setState({audio_on_off_underway:!0}),setTimeout(()=>{this.setState({audio_on_off_underway:!1})},5e3))}turnOffUserVideo(){this.props.is_host&&this.user.id!=this.props.current_user.id&&(this.props.rtc_client.switchUserVideo({target_user_id:this.user.id,is_video_on:!1}),this.setState({video_on_off_underway:!0}),setTimeout(()=>{this.setState({video_on_off_underway:!1})},5e3))}requestTurnOnUserAudio(){this.props.is_host&&this.user.id!=this.props.current_user.id&&this.props.rtc_client.notifyTheseUsers({event:"request-turn-on-user-audio",user_ids:[this.user.id]})}requestTurnOnUserVideo(){this.props.is_host&&this.user.id!=this.props.current_user.id&&this.props.rtc_client.notifyTheseUsers({event:"request-turn-on-user-video",user_ids:[this.user.id]})}stopUserShareScreen(){this.props.rtc_client.stopUserShareScreen({target_user_id:this.user.id}),this.setState({stop_share_screen_underway:!0}),setTimeout(()=>{this.setState({stop_share_screen_underway:!1})},5e3)}disableUserShareScreen(){this.stopUserShareScreen(),this.props.rtc_client.notifyTheseUsers({event:"disable-user-share-screen",user_ids:[this.user.id]})}enableUserShareScreen(){this.props.rtc_client.notifyTheseUsers({event:"enable-user-share-screen",user_ids:[this.user.id]})}lowerUserHand(){this.props.is_host&&this.props.rtc_client.notifyTheseUsers({event:"lower-user-hand",user_ids:[this.user.id]})}viewScreenStream(){this.maximized_screen_user_id&&(this.props.rtc_client.dropScreenStream({user_id:this.maximized_screen_user_id}),this.maximized_screen_user_id=!1),this.props.rtc_client.getScreenStream({user_id:this.user.id}),Ae.dispatch("side_panel__hide_all")}render(){return A.jsxs("div",{className:"participant",children:[A.jsxs("div",{className:"left-side d-flex align-items-center",children:[A.jsx("img",{className:"profile-picture",src:this.user.profile_picture_url}),this.user.id!=this.props.current_user.id?A.jsx("span",{className:"full-name participantNameEllipsis ",children:this.user.name}):A.jsx("span",{className:"full-name",children:Fe.t("You")})]}),A.jsxs("div",{className:"right-side actions",children:[this.props.audio_on_users[this.user.id]?A.jsx("span",{className:"action on",onClick:()=>this.turnOffUserAudio(),children:A.jsx("i",{class:"fas fa-microphone"})}):A.jsx("span",{className:"action",onClick:()=>this.requestTurnOnUserAudio(),children:A.jsx("i",{class:"fas fa-microphone-slash"})}),this.props.video_on_users[this.user.id]?A.jsx("span",{className:"action on",onClick:()=>this.turnOffUserVideo(),children:A.jsx("i",{class:"fas fa-video"})}):A.jsx("span",{className:"action",onClick:()=>this.requestTurnOnUserVideo(),children:A.jsx("i",{class:"fas fa-video-slash"})}),this.props.screen_sharing_users[this.user.id]&&A.jsx("span",{className:"action share-screen-action on",onClick:()=>this.viewScreenStream(),children:A.jsx(Qv,{})}),this.state.is_hand_raised&&A.jsx("span",{className:"action on",onClick:()=>this.lowerUserHand(),children:A.jsx("i",{class:"fas fa-hand-paper"})}),this.user.id!=this.props.current_user.id&&A.jsxs("div",{class:"dropdown",children:[A.jsx("button",{class:"dropdown-toggle","data-toggle":"dropdown",children:A.jsx("i",{class:"fas fa-ellipsis-h"})}),A.jsxs("div",{class:"dropdown-menu",children:[A.jsxs("button",{className:"dropdown-item",onClick:()=>this.maximizeUserStream(),children:[A.jsx("i",{class:"fas fa-expand-alt icon"}),Fe.t("Maximize")]}),this.props.is_host&&A.jsxs(A.Fragment,{children:[!window.call_helpers.isBreakoutRoom()&&(this.props.host_ids.indexOf(this.user.id)>-1?A.jsxs("button",{className:"dropdown-item",onClick:()=>this.removeHost(),children:[A.jsx("i",{class:"fas fa-user-cog icon"}),Fe.t("Remove Host")]}):A.jsxs("button",{className:"dropdown-item",onClick:()=>this.makeHost(),children:[A.jsx("i",{class:"fas fa-user-cog icon"}),Fe.t("Make Host")]})),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.turnOffUserAudio(),children:[A.jsx("i",{class:"fas fa-microphone-slash icon"}),Fe.t("Mute")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.requestTurnOnUserAudio(),children:[A.jsx("i",{class:"fas fa-microphone icon"}),Fe.t("Ask To Speak")]}),this.props.screen_sharing_users[this.user.id]&&A.jsxs("button",{className:"dropdown-item",onClick:()=>this.stopUserShareScreen(),children:[A.jsx(jE,{className:"icon"}),Fe.t("Stop Share Screen")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.enableUserShareScreen(),children:[A.jsx(Qv,{className:"icon"}),Fe.t("Enable Share Screen")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.disableUserShareScreen(),children:[A.jsx(zE,{className:"icon"}),Fe.t("Disable Share Screen")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.allowUserToRecord(),children:[A.jsx("i",{class:"fas fa-record-vinyl icon"}),Fe.t("Allow to record")]}),!window.call_helpers.isBreakoutRoom()&&A.jsxs(A.Fragment,{children:[A.jsxs("button",{className:"dropdown-item",onClick:()=>this.moveUserToWaitingArea(),disabled:this.state.remove_underway,children:[A.jsx("i",{class:"fas fa-hourglass-start icon"}),Fe.t("Move to waiting area")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.removeUser(),disabled:this.state.remove_underway,children:[A.jsx("i",{class:"fas fa-user-minus icon"}),Fe.t("Remove")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.prepareBlockUser(),disabled:this.state.remove_underway,children:[A.jsx("i",{class:"fas fa-user-alt-slash icon"}),Fe.t("Block")]})]})]})]})]})]}),A.jsx("div",{className:"clearfix"})]})}}const rk=ls()(U2);class q2 extends $e.Component{constructor(e){super(e),this.rtc_client=this.props.rtc_client,this.user=N_(),this.call_id=this.props.call.id,this.is_host=this.props.is_host,this.state={participants_data:{},audio_off_all_underway:!1,video_off_all_underway:!1},this.attachCallListeners()}attachCallListeners(){this.rtc_client.onAudioSwitched=this.onAudioSwitched.bind(this),this.rtc_client.onVideoSwitched=this.onVideoSwitched.bind(this)}onAudioSwitched(e){var{user_id:n}=e;this.updateParticipantState(n,"audio_on_off_underway",!1)}onVideoSwitched(e){var{user_id:n}=e;this.updateParticipantState(n,"video_on_off_underway",!1)}requestTurnOnAllUsersAudio(e){this.rtc_client.notifyOtherUsers({event:"request-turn-on-user-audio",user_id:e})}requestTurnOnAllUserVideo(e){this.rtc_client.notifyOtherUsers({event:"request-turn-on-user-video",user_id:e})}turnOffAllUsersAudio(){this.rtc_client.switchAllUsersAudio({is_audio_on:!1}),this.setState({audio_off_all_underway:!0}),setTimeout(()=>{this.setState({audio_off_all_underway:!1})},5e3)}turnOffAllUsersVideo(){this.rtc_client.switchAllUsersVideo({is_video_on:!1}),this.setState({video_off_all_underway:!0}),setTimeout(()=>{this.setState({video_off_all_underway:!1})},5e3)}showParticipantActions(e,n){this.updateParticipantState(e,"show_actions",n)}updateParticipantState(e,n,t){this.setState(s=>{const i=s.participants_data;return i[e]=i[e]||{},i[e][n]=t,{participants_data:i}})}stopAllUsersShareScreen(){this.rtc_client.stopAllUsersShareScreen(),this.setState({stop_all_share_screens_underway:!0}),setTimeout(()=>{this.setState({stop_all_share_screens_underway:!1})},5e3)}enableAllUsersShareScreen(){this.rtc_client.notifyOtherUsers({event:"enable-user-share-screen"})}disableAllUsersShareScreen(){this.stopAllUsersShareScreen(),this.rtc_client.notifyOtherUsers({event:"disable-user-share-screen"})}render(){const{t:e,i18n:n}=this.props;return A.jsxs("div",{className:"participants-container",children:[A.jsxs("div",{className:"hosts-section",children:[A.jsxs("div",{className:"section-title",children:[n.t("Hosts"),A.jsx("span",{children:this.props.participants_ids.filter(t=>this.props.host_ids.indexOf(t)!=-1).length})]}),this.props.host_ids.map(t=>this.props.participants[t]?A.jsx(rk,{is_host:this.props.is_host,user_id:t,current_user:this.props.current_user,rtc_client:this.props.rtc_client,host_ids:this.props.host_ids,audio_on_users:this.props.audio_on_users,video_on_users:this.props.video_on_users,screen_sharing_users:this.props.screen_sharing_users,participants:this.props.participants,participants_ids:this.props.participants_ids},t):null)]}),A.jsxs("div",{className:"participants-section",children:[A.jsxs("div",{className:"section-title",children:[n.t("Participants"),A.jsx("span",{children:this.props.participants_ids.filter(t=>this.props.host_ids.indexOf(t)==-1).length}),this.is_host&&this.props.participants_ids.filter(t=>this.props.host_ids.indexOf(t)==-1).length>=1&&A.jsxs("div",{className:"actions bulk-actions",children:[A.jsx("button",{onClick:()=>this.turnOffAllUsersAudio(),disabled:this.state.audio_off_all_underway||this.props.participants_ids.length<=1,children:e("Mute_all")}),A.jsxs("div",{class:"dropdown",children:[A.jsx("button",{className:"dropdown-toggle","data-toggle":"dropdown",disabled:this.props.participants_ids.length<=1,children:A.jsx("i",{class:"fas fa-ellipsis-h"})}),A.jsxs("div",{class:"dropdown-menu",children:[A.jsxs("button",{className:"dropdown-item",onClick:()=>this.turnOffAllUsersVideo(),disabled:this.state.video_off_all_underway,children:[A.jsx("i",{class:"fas fa-video-slash icon"}),e("Turn off videos of all")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.requestTurnOnAllUsersAudio(),children:[A.jsx("i",{class:"fas fa-microphone icon"}),e("Ask all to turn on audio")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.requestTurnOnAllUserVideo(),children:[A.jsx("i",{class:"fas fa-video icon"}),e("Ask all to turn on video")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.stopAllUsersShareScreen(),disabled:this.state.stop_all_share_screens_underway,children:[A.jsx(jE,{className:"icon"}),e("Stop all share screens")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.disableAllUsersShareScreen(),disabled:this.state.stop_all_share_screens_underway,children:[A.jsx(zE,{className:"icon"}),e("Disable share screen for all")]}),A.jsxs("button",{className:"dropdown-item",onClick:()=>this.enableAllUsersShareScreen(),children:[A.jsx(Qv,{className:"icon"}),e("Enable share screen for all")]})]})]})]})]}),Object.values(this.props.participants).filter(t=>this.props.host_ids.indexOf(t.id)==-1).sort((t,s)=>{var i=t.user,a=s.user,u=s.user.name||"",p=t.user.name||"";return this.props.screen_sharing_users[i.id]&&i.id!=this.props.current_user.id?-1:this.props.screen_sharing_users[a.id]&&a.id!=this.props.current_user.id?1:p.toLowerCase()<u.toLowerCase()?-1:1}).map(t=>A.jsxs("div",{children:[A.jsx(rk,{is_host:this.props.is_host,user_id:t.id,host_ids:this.props.host_ids,rtc_client:this.props.rtc_client,current_user:this.props.current_user,participants:this.props.participants,participants_ids:this.props.participants_ids,audio_on_users:this.props.audio_on_users,video_on_users:this.props.video_on_users,screen_sharing_users:this.props.screen_sharing_users}),A.jsx("div",{className:"clearfix"})]},t.id))]})]})}}const nk=ls()(q2);var H2={};class WE extends $e.Component{constructor(e){super(e),this.join_requests_url="",this.update_status_url="",this.fetched_data=!1,this.state={join_requests_data:[],is_loading:!1,accept_reject_all_underway:!1,pending_requests_count:0},this.onJoinRequestUpdated=this.onJoinRequestUpdated.bind(this)}componentDidMount(){this.prepareThings(),this.attachBusListeners(),this.attachSocketListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.removeSocketListeners()}prepareThings(){this.join_requests_url=this.props.call_options.urls.join_requests,this.update_status_url=this.props.call_options.urls.update_join_request}attachBusListeners(){var e=this;Ae.on("participants_section__opened",function(){e.fetchJoinRequests()})}attachSocketListeners(){console.log("joinrequests attachSocketListeners")}removeSocketListeners(){}onJoinRequestUpdated(e){var n=e.join_request,t=this.state.join_requests_data;t.forEach((s,i)=>{if(s.id==n.id){s.request_status=n.request_status;return}}),this.setState({join_requests_data:t})}fetchJoinRequests(){if(this.state.is_loading||this.fetched_data||!this.join_requests_url)return!1;this.setState({is_loading:!0})}updateStatus(e,n){this.updateRequestState(e,"update_status_underway",!0)}updateRequestState(e,n,t){var s=this.state.join_requests_data.findIndex(i=>i.id===e.id);this.setState(i=>{const a=[...i.join_requests_data];return a[s][n]=t,this.calculatePendingRequests(a),this.joinRequestsCountUpdated(a),{join_requests_data:a}})}joinRequestsCountUpdated(e){var n=this.calculatePendingRequests(e);Ae.dispatch("join_requests__count_updated",n.length)}calculatePendingRequests(e){const n=e.filter(t=>t.request_status=="pending");return this.setState({pending_requests_count:n.length}),n}acceptAllRequests(){this.state.join_requests_data.forEach(e=>{e.request_status!="pending"||e.status=="waiting"||this.updateStatus(e,"accepted")}),this.setState({accept_reject_all_underway:!0}),setTimeout(()=>{this.setState({accept_reject_all_underway:!1})},1e4)}rejectAllRequests(){this.state.join_requests_data.forEach(e=>{e.request_status!="pending"||e.status=="waiting"||this.updateStatus(e,"rejected")}),this.setState({accept_reject_all_underway:!0}),setTimeout(()=>{this.setState({accept_reject_all_underway:!1})},1e4)}processJoinRequests(e){e.forEach(n=>{this.processJoinRequest(n)})}processJoinRequest(e){e.guest_user_id&&(e.user={first_name:e.guest_user_name,profile_picture_url:H2.REACT_APP_DEFAULT_PIC})}render(){const{t:e,i18n:n}=this.props;return A.jsxs("div",{className:"join-requests-container",children:[this.state.pending_requests_count>0&&A.jsxs("div",{className:"bulk-actions",children:[A.jsxs("button",{onClick:()=>this.acceptAllRequests(),disabled:this.state.accept_reject_all_underway||!this.state.pending_requests_count,children:[A.jsx("i",{class:"fas fa-check mr-1"}),n.t("Accept all")]}),A.jsxs("button",{onClick:()=>this.rejectAllRequests(),disabled:this.state.accept_reject_all_underway||!this.state.pending_requests_count,children:[A.jsx("i",{class:"fas fa-times mr-1"}),n.t("Reject all")]})]}),!this.state.is_loading&&this.state.join_requests_data.map(t=>A.jsxs("div",{className:"participant",children:[A.jsxs("span",{className:"left-side",children:[A.jsx("img",{className:"profile-picture",src:t.user.profile_picture_url}),A.jsx("span",{className:"full_name",children:t.user.first_name})]}),t.request_status=="pending"?A.jsx("span",{className:"right-side actions",children:t.status=="waiting"?A.jsx("button",{className:"button",onClick:()=>this.updateStatus(t,e("accepted")),disabled:t.update_status_underway,children:e("move back to call")}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>this.updateStatus(t,"accepted"),disabled:t.update_status_underway,children:A.jsx("i",{class:"fas fa-check"})}),A.jsx("button",{className:"reject-btn",onClick:()=>this.updateStatus(t,"rejected"),disabled:t.update_status_underway,children:A.jsx("i",{class:"fas fa-times"})})]})}):A.jsx("span",{className:"right-side actions",children:A.jsx("i",{children:t.request_status})}),A.jsx("div",{className:"clearfix"})]},t.id)),this.state.is_loading&&A.jsx("div",{className:"loader",children:A.jsx("i",{className:"fa fa-circle-notch fa-spin"})}),!this.state.join_requests_data.length&&!this.state.is_loading&&A.jsx("div",{className:"no_data",children:e("No request found")})]})}}Fa(WE,"contextType",Za);const V2=ls()(WE);class z2 extends $e.Component{constructor(e){super(e),this.state={show_me:!1,active_tab_name:"participants",total_join_requests:0},this.attachBusListeners()}attachBusListeners(){Ae.on("join_requests__count_updated",e=>{this.setState({total_join_requests:e})}),Ae.on("side_panel__hide_all",()=>{this.hideMe()}),Ae.on("participants__toggle",()=>{if(this.state.show_me){this.hideMe();return}this.showMe()})}showMe(){Ae.dispatch("side_panel__hide_all"),Ae.dispatch("side_panel__visibility_changed",{is_shown:1,section_name:"participants"}),this.setState({show_me:!0}),Ae.dispatch("participants_section__opened")}hideMe(){Ae.dispatch("side_panel__visibility_changed",{is_shown:0,section_name:"participants"}),this.setState({show_me:!1})}openJoinRequest(){this.setState({active_tab_name:"join-requests"})}render(){return A.jsxs("div",{className:"side-panel participants-section"+(this.state.show_me?"":" d-none"),children:[A.jsxs("div",{className:"side-panel-header",children:[this.props.is_host?A.jsxs(ia,{variant:"pills",className:"position-relative",children:[A.jsx(ia.Item,{onClick:()=>this.setState({active_tab_name:"participants"}),children:A.jsx(ia.Link,{eventKey:"participants",className:this.state.active_tab_name=="participants"?"active":"",children:Fe.t("Participants")})}),A.jsx(ia.Item,{onClick:this.openJoinRequest.bind(this),children:A.jsxs(ia.Link,{eventKey:"join-requests",children:[Fe.t("Join_Requests"),A.jsx("span",{className:"ml-1",children:this.state.total_join_requests})]})})]}):A.jsx("span",{children:Fe.t("Participants")}),A.jsx("div",{className:"actions",children:A.jsx("i",{class:"fas fa-times action",onClick:()=>this.hideMe()})})]}),A.jsx("div",{className:"side-panel-body",children:this.props.is_host?A.jsx(Nc.Container,{defaultActiveKey:"participants",activeKey:this.state.active_tab_name,children:A.jsxs(Nc.Content,{children:[A.jsx(Nc.Pane,{eventKey:"participants",children:A.jsx(nk,{call:this.props.call,current_user:this.props.current_user,participants:this.props.participants,participants_ids:this.props.participants_ids,screen_sharing_users:this.props.screen_sharing_users,video_on_users:this.props.video_on_users,audio_on_users:this.props.audio_on_users,recording_users:this.props.recording_users,host_ids:this.props.host_ids,rtc_client:this.props.rtc_client,is_host:this.props.is_host})}),A.jsx(Nc.Pane,{eventKey:"join-requests",children:A.jsx(V2,{call:this.props.call,call_options:this.props.call_options,current_user:this.props.current_user,host_ids:this.props.host_ids})})]})}):A.jsx(nk,{call:this.props.call,current_user:this.props.current_user,participants:this.props.participants,participants_ids:this.props.participants_ids,screen_sharing_users:this.props.screen_sharing_users,video_on_users:this.props.video_on_users,audio_on_users:this.props.audio_on_users,recording_users:this.props.recording_users,host_ids:this.props.host_ids,rtc_client:this.props.rtc_client,is_host:this.props.is_host})})]})}}const W2=ls()(z2);class Y2 extends $e.Component{constructor(e){super(e),this.identity=this.props.identity,this.have_shared=!1,this.state={sources:[],selected_source:{},loader:!1}}componentDidMount(){this.attachBusListeners(),this.attachEventListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.hideMe()}attachBusListeners(){Ae.on("share_screen_picker__show",()=>{this.showMe()})}attachEventListeners(){it(".share-screen-picker-modal").on("hidden.bs.modal",()=>{this.have_shared||Ae.dispatch("share_screen_picker__cancelled"+this.identity),this.resetThings()})}getSources(){const{desktopCapturer:e}=window.require("electron");var n={types:["window","screen"],thumbnailSize:{width:300,height:300}};e.getSources(n).then(async t=>{this.setState({selected_source:t[0]}),this.setState({sources:t})})}selectSource(e){this.setState({selected_source:e})}startSharing(){Ae.dispatch("share_screen_picker__selected"+this.identity,this.state.selected_source),this.have_shared=!0,this.hideMe()}showMe(){this.getSources(),setTimeout(()=>{it(".share-screen-picker-modal").modal("show")},800)}hideMe(){it(".share-screen-picker-modal").modal("hide")}resetThings(){this.setState({sources:[],selected_source:{}}),this.have_shared=!1}render(){return A.jsx("div",{className:"modal fade share-screen-picker-modal share-screen-overlay",role:"dialog",children:A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsx("div",{className:"popup-close",onClick:()=>this.hideMe(this),children:A.jsx("i",{className:"fas fa-times"})}),A.jsx("div",{className:"sources",children:this.state.sources.map(e=>A.jsxs("div",{className:"source "+(e.id==this.state.selected_source.id?"selected":""),onClick:()=>this.selectSource(e),children:[A.jsx("img",{src:e.thumbnail.toDataURL()}),A.jsx("p",{className:"title",children:e.name})]}))}),A.jsxs("button",{className:"share-screen-btn button btn-primary",disabled:!this.state.selected_source.id,onClick:()=>this.startSharing(),children:[" ",Fe.t("startSharing")," "]})]})})})}}let K2=class extends $e.Component{constructor(e){super(e),this.call=this.props.call,this.toast_id="raised-hands-toast",this.state={show_me:!1,users_raised_hand:[]}}componentDidMount(){this.attachBusListeners(),this.attachCallListeners()}componentWillUnmount(){ht.dismiss(this.toast_id),this.setState=(e,n)=>{}}attachBusListeners(){Ae.on("side_panel__hide_all",()=>{this.hideMe()}),Ae.on("raised_hands__toggle",()=>{if(this.state.show_me){this.hideMe();return}this.showMe()})}attachCallListeners(){this.props.rtc_client.onLeft=this.onLeft.bind(this),this.props.rtc_client.onHandRaised=this.onHandRaised.bind(this),this.props.rtc_client.onHandLowered=this.onHandLowered.bind(this)}onHandRaised({user_id:e}){var n=this.props.getUser(e),t=this.state.users_raised_hand.filter(function(s){return s.id!=e});t=[n,...t],this.setState({users_raised_hand:t}),Ae.dispatch("call_raised_hands__updated",t),e!=this.props.current_user.id&&this.showNotification(t)}onHandLowered({user_id:e}){var n=this.state.users_raised_hand.filter(function(t){return t.id!=e});this.setState({users_raised_hand:n}),this.updateNotification(n),Ae.dispatch("call_raised_hands__updated",n)}onLeft(e){var{user_id:n}=e;this.onHandLowered({user_id:n})}showNotification(e){this.updateNotification(e)||ht.info(A.jsx(ik,{users_raised_hand:e,showRaisedHands:this.showMe.bind(this)}),{toastId:this.toast_id,position:"bottom-left",className:"call-toast",hideProgressBar:!0,closeButton:!0,pauseOnFocusLoss:!1,autoClose:!1})}updateNotification(e){if(!e.length){ht.dismiss(this.toast_id);return}if(ht.isActive(this.toast_id))return ht.update(this.toast_id,{render:A.jsx(ik,{users_raised_hand:e,showRaisedHands:this.showMe.bind(this)})}),!0}lowerUserHand(e){this.props.rtc_client.notifyTheseUsers({event:"lower-user-hand",user_ids:[e]})}showMe(){Ae.dispatch("side_panel__hide_all"),Ae.dispatch("side_panel__visibility_changed",{is_shown:1,section_name:"raised-hands"}),this.setState({show_me:!0})}hideMe(){Ae.dispatch("side_panel__visibility_changed",{is_shown:0,section_name:"raised-hands"}),this.setState({show_me:!1})}render(){return A.jsxs("div",{className:"side-panel raised-hands-section"+(this.state.show_me?"":" d-none"),children:[A.jsxs("div",{className:"side-panel-header",children:[A.jsx("span",{children:Fe.t("See Raised Hands")}),A.jsx("div",{className:"actions",children:A.jsx("i",{class:"fas fa-times action",onClick:()=>this.hideMe()})})]}),A.jsxs("div",{className:"side-panel-body raised-hands-container",children:[this.state.users_raised_hand.map(e=>A.jsxs("div",{className:"participant",children:[A.jsxs("div",{className:"left-side w-100",children:[A.jsx("img",{className:"profile-picture",src:e.profile_picture_url}),A.jsx("span",{className:"full-name",children:e.first_name+" "+e.last_name})]}),A.jsx("div",{className:"right-side text-right",children:A.jsx("button",{className:"button btn-info",onClick:()=>this.lowerUserHand(e.id),children:Fe.t("Lower Hand")})})]})),!this.state.users_raised_hand.length&&A.jsx("i",{className:"no-record",children:Fe.t("noOneRaisedHand")})]})]})}};const ik=({users_raised_hand:r,showRaisedHands:e})=>{const[n,t]=le.useState("");return le.useEffect(()=>{var s=[];r.forEach((a,u)=>{u!=3&&s.push(a.name)});var i=s.join(", ");r.length>3&&(i+=` and ${r.length-3} other(s)`),i+=" "+Fe.t("have raised hand")+"(s)",t(i)},[r]),A.jsxs("div",{className:"toast-inner hand-raised-toast",children:[A.jsx("i",{className:"fas fa-hand-paper icon"}),A.jsxs("div",{className:"toast-main-body",children:[n,A.jsx("div",{className:"view-btn",onClick:()=>e(),children:Fe.t("View")})]})]})},G2=ls()(K2);class J2 extends $e.Component{constructor(e){super(e),this.call=this.props.call,this.toast_id="speak-requests-toast",this.state={show_me:!1,users_requested:[]}}componentDidMount(){this.attachBusListeners(),this.attachCallListeners()}componentWillUnmount(){ht.dismiss(this.toast_id),this.setState=(e,n)=>{}}attachBusListeners(){Ae.on("side_panel__hide_all",()=>{this.hideMe()}),Ae.on("speak_requests__toggle",()=>{if(this.state.show_me){this.hideMe();return}this.showMe()})}attachCallListeners(){this.props.rtc_client.onLeft=this.onLeft.bind(this),this.props.rtc_client.onSpeakRequest=this.onSpeakRequest.bind(this),this.props.rtc_client.onAudioSwitched=this.onAudioSwitched.bind(this)}onSpeakRequest({user_id:e}){var n=this.props.getUser(e),t=this.state.users_requested.filter(function(s){return s.id!=e});t=[n,...t],this.setState({users_requested:t}),Ae.dispatch("call_speak_requests__updated",t),e!=this.props.current_user.id&&this.showNotification(t)}onAudioSwitched({is_audio_on:e,user_id:n}){e&&this.removeUserRequest(n)}onLeft(e){var{user_id:n}=e;this.removeUserRequest(n)}allowToSpeak(e){this.props.rtc_client.allowUserToSpeak({target_user_id:e}),this.removeUserRequest(e)}removeUserRequest(e){var n=this.state.users_requested.filter(function(t){return t.id!=e});this.setState({users_requested:n}),this.updateNotification(n),Ae.dispatch("call_speak_requests__updated",n)}showNotification(e){this.updateNotification(e)||ht.info(A.jsx(sk,{users_requested:e,showRequests:this.showMe.bind(this)}),{toastId:this.toast_id,position:"bottom-left",className:"call-toast",hideProgressBar:!0,closeButton:!0,pauseOnFocusLoss:!1,autoClose:!1})}updateNotification(e){if(!e.length){ht.dismiss(this.toast_id);return}if(ht.isActive(this.toast_id))return ht.update(this.toast_id,{render:A.jsx(sk,{users_requested:e,showRequests:this.showMe.bind(this)})}),!0}showMe(){Ae.dispatch("side_panel__hide_all"),Ae.dispatch("side_panel__visibility_changed",{is_shown:1,section_name:"speak-requests"}),this.setState({show_me:!0})}hideMe(){Ae.dispatch("side_panel__visibility_changed",{is_shown:0,section_name:"speak-requests"}),this.setState({show_me:!1})}render(){return A.jsxs("div",{className:"side-panel raised-hands-section"+(this.state.show_me?"":" d-none"),children:[A.jsxs("div",{className:"side-panel-header",children:[A.jsx("span",{children:Fe.t("Speak Requests")}),A.jsx("div",{className:"actions",children:A.jsx("i",{class:"fas fa-times action",onClick:()=>this.hideMe()})})]}),A.jsxs("div",{className:"side-panel-body raised-hands-container",children:[this.state.users_requested.map(e=>A.jsxs("div",{className:"participant",children:[A.jsxs("div",{className:"left-side w-100",children:[A.jsx("img",{className:"profile-picture",src:e.profile_picture_url}),A.jsx("span",{className:"full-name",children:e.first_name+" "+e.last_name})]}),A.jsx("div",{className:"right-side text-right",children:A.jsx("button",{className:"button btn-info",onClick:()=>this.allowToSpeak(e.id),children:Fe.t("Allow To Speak")})})]})),!this.state.users_requested.length&&A.jsx("i",{className:"no-record",children:Fe.t("noOneRaisedHand")})]})]})}}const sk=({users_requested:r,showRequests:e})=>{const[n,t]=le.useState("");return le.useEffect(()=>{var s=[];r.forEach((a,u)=>{u!=3&&s.push(a.name)});var i=s.join(", ");r.length>3&&(i+=` and ${r.length-3} other(s)`),i+=" "+Fe.t("have requested to speak"),t(i)},[r]),A.jsxs("div",{className:"toast-inner hand-raised-toast",children:[A.jsx("i",{className:"fas fa-hand-paper icon"}),A.jsxs("div",{className:"toast-main-body",children:[n,A.jsx("div",{className:"view-btn",onClick:()=>e(),children:Fe.t("View")})]})]})},X2=ls()(J2);function Q2(r,e){return!e.stream||!r.stream?!1:r.stream.id===e.stream.id&&r.force_update===e.force_update}const Z2=$e.memo(class extends $e.Component{render(){return A.jsx("video",{className:this.props.className,ref:r=>{r!=null&&this.props.stream&&this.props.stream.id&&(r.srcObject=this.props.stream)},autoPlay:!0,playsInline:!0,id:this.props.stream&&this.props.stream.id,muted:this.props.muted,onPlay:()=>this.props.onPlay&&this.props.onPlay(),onSuspend:()=>this.props.onSuspend&&this.props.onSuspend()})}},Q2);class YE extends $e.Component{constructor(e){super(e),this.state={is_reconnecting:!1,is_stream_playing:this.props.stream&&this.props.stream.id}}componentDidMount(){this.attachCallListeners()}componentWillUnmount(){this.setState=(e,n)=>{}}attachCallListeners(){this.props.rtc_client.onStreamReconnecting=this.onStreamReconnecting.bind(this),this.props.rtc_client.onStreamReconnected=this.onStreamReconnected.bind(this)}onStreamReconnecting(e){var{stream_id:n}=e;!this.props.stream||n!=this.props.stream.id||this.setState({is_reconnecting:!0})}onStreamReconnected(e){var{stream_id:n}=e;!this.props.stream||n!=this.props.stream.id||setTimeout(()=>{this.setState({is_reconnecting:!1})},3e3)}onPlaying(){this.setState({is_stream_playing:!0}),this.props.onStreamPlayStarted&&this.props.onStreamPlayStarted()}onSuspended(){this.setState({is_stream_playing:!1}),this.props.onStreamPlayStopped&&this.props.onStreamPlayStopped()}render(){return A.jsxs("div",{className:`stream-item call-stream ${this.props.identifier} w-100 h-100`,children:[A.jsx(Z2,{stream:this.props.stream,force_update:this.props.force_update,onPlay:this.onPlaying.bind(this),onSuspend:this.onSuspended.bind(this),...this.props.memorized_video_props}),!this.state.is_stream_playing&&A.jsx("div",{class:"overlay",children:A.jsx("div",{class:"overlay-item",children:A.jsx("i",{className:"fas fa-circle-notch fa-spin"})})}),this.state.is_reconnecting&&A.jsx("div",{className:"reconnecting",children:Fe.t("Connecting")})]})}}class eB extends $e.Component{constructor(e){super(e),this.participant={},this.bus_events_ids=[],this.reaction_timeout_id=!1,this.state={user:{},is_video_on:!1,is_audio_on:!1,is_speaking:!1,is_hand_raised:!1,design_size_class:"extra-small-design",is_stream_playing:!1,reaction_type:"",is_disconnected:!1}}componentDidMount(){this.loadData(),this.attachCallListeners(),this.attachBusListeners(),this.adjustDesign(),this.observeResize(),setTimeout(()=>{this.adjustDesign()},500)}componentWillUnmount(){this.removeBusListeners(),this.setState=(e,n)=>{}}componentDidUpdate(e){e.user_id!=this.props.user_id&&this.loadData()}attachCallListeners(){this.props.rtc_client.onJoined=this.onJoined.bind(this),this.props.rtc_client.onVideoSwitched=this.onVideoSwitched.bind(this),this.props.rtc_client.onAudioSwitched=this.onAudioSwitched.bind(this),this.props.rtc_client.onSpeaking=this.onSpeaking.bind(this),this.props.rtc_client.onStoppedSpeaking=this.onStoppedSpeaking.bind(this),this.props.rtc_client.onHandRaised=this.onHandRaised.bind(this),this.props.rtc_client.onHandLowered=this.onHandLowered.bind(this),this.props.rtc_client.onReaction=this.onReaction.bind(this),this.props.rtc_client.onReconnecting=this.onReconnecting.bind(this),this.props.rtc_client.onReconnected=this.onReconnected.bind(this)}attachBusListeners(){var e=this.bus_events_ids;e[e.length]=Ae.on("call__back_in_call",()=>{this.adjustDesign()}),e[e.length]=Ae.on("call__participants_data_updated",n=>{this.onParticipantsDataUpdated(n)}),this.props.user_id==this.props.current_user.id&&(e[e.length]=Ae.on("call_video_effects__apply_effects_init",()=>{this.applyingVideoEffects()}),e[e.length]=Ae.on("call_video_effects__apply_effects_success",()=>{this.applyedVideoEffects()}))}removeBusListeners(){this.bus_events_ids.forEach(e=>{Ae.remove(e)}),this.bus_events_ids=[]}loadData(){this.participant=this.props.participant||this.props.rtc_client.participants[this.props.user_id]||{},this.setState({user:this.participant.user||{},is_video_on:this.participant.is_video_on,is_audio_on:this.participant.is_audio_on,is_speaking:this.participant.is_speaking,is_hand_raised:this.participant.is_hand_raised,is_disconnected:this.participant.is_disconnected})}onJoined(e){var{user_id:n}=e;if(n==this.props.user_id){var t=this.props.rtc_client.participants[n];this.setState({user:t.user,is_video_on:t.is_video_on,is_audio_on:t.is_audio_on,is_speaking:t.is_speaking,is_hand_raised:t.is_hand_raised,is_disconnected:t.is_disconnected})}}onVideoSwitched(e){var{user_id:n,is_video_on:t}=e;n==this.props.user_id&&(window.call_helpers.mayBeGetUserStream({user_id:n}),this.setState({is_video_on:t}))}onAudioSwitched(e){var{user_id:n,is_audio_on:t}=e;n==this.props.user_id&&(this.setState({is_audio_on:t}),this.setState({is_speaking:t?this.state.is_speaking:!1}))}onParticipantsDataUpdated({participants:e}){var n=e[this.props.user_id];n&&this.setState({is_video_on:n.is_video_on,is_audio_on:n.is_audio_on})}onSpeaking(e){var{user_id:n}=e;if(n==this.props.user_id&&!(n==this.props.current_user.id&&!this.props.rtc_client.is_audio_on)){var t=this.props.rtc_client.participants[this.props.user_id]||{};Ae.dispatch("call__log_event_to_local",{event:"is_speaking",data:{is_speaking:!0,user_id:this.props.user_id,user_name:this.state.user.name,user_name_1:t.user.name}}),this.setState({is_speaking:!0})}}onStoppedSpeaking(e){var{user_id:n}=e;if(n==this.props.user_id&&this.props.rtc_client.participants){var t=this.props.rtc_client.participants[this.props.user_id]||{};Ae.dispatch("call__log_event_to_local",{event:"is_speaking",data:{is_speaking:!1,user_id:this.props.user_id,user_name:this.state.user.name,user_name_1:t.user.name}}),this.setState({is_speaking:!1})}}onHandRaised(e){var{user_id:n}=e;n==this.props.user_id&&this.setState({is_hand_raised:!0})}onHandLowered(e){var{user_id:n}=e;n==this.props.user_id&&this.setState({is_hand_raised:!1})}onReaction(e){var{user_id:n,reaction_type:t}=e;n==this.props.user_id&&(this.setState({reaction_type:t}),clearTimeout(this.reaction_timeout_id),this.reaction_timeout_id=setTimeout(()=>{this.setState({reaction_type:""})},5e3))}onReconnecting({user_id:e}){e==this.props.user_id&&this.setState({is_disconnected:!0})}onReconnected({user_id:e}){e==this.props.user_id&&this.setState({is_disconnected:!1})}onStreamPlayStarted(){this.setState({is_stream_playing:!0})}onStreamPlayStopped(){this.setState({is_stream_playing:!1})}applyingVideoEffects(){this.setState({is_applying_effects:!0})}applyedVideoEffects(){this.setState({is_applying_effects:!1})}adjustDesign(){var e=it(`.user-stream-item.${this.props.identifier}`),n=e.width(),t=e.height(),s="extra-small-design",i=n<t?n:t;i>300?s="large-design":i>200?s="medium-design":i>120&&(s="small-design"),this.setState({design_size_class:s}),Ae.dispatch("call_user_stream__adjust_design")}observeResize(){var e=it(`.user-stream-item.${this.props.identifier}`);this.resize_observer=new ResizeObserver(this.adjustDesign.bind(this)).observe(e[0])}render(){const{t:e}=this.props;return A.jsxs("div",{className:`user-stream-item ${this.props.identifier} ${this.state.design_size_class} ${this.state.is_speaking?"speaking ":""}`,onContextMenu:n=>n.preventDefault(),children:[A.jsx(YE,{identifier:this.props.identifier,stream:this.props.stream,user_id:this.props.user_id,force_update:this.props.force_update,rtc_client:this.props.rtc_client,onStreamPlayStarted:this.onStreamPlayStarted.bind(this),onStreamPlayStopped:this.onStreamPlayStopped.bind(this),memorized_video_props:this.props.memorized_video_props}),(!this.state.is_video_on||!this.state.is_stream_playing||this.props.is_waiting||this.state.is_applying_effects)&&A.jsx(A.Fragment,{children:A.jsx("div",{class:"overlay",children:A.jsxs("div",{class:"overlay-item",children:[(!this.state.is_video_on||!this.state.is_stream_playing)&&A.jsx("img",{class:"video-off profile-picture",src:this.state.user.profile_picture_url}),this.state.is_applying_effects&&A.jsx("i",{className:"fas fa-circle-notch fa-spin icon"}),A.jsx("p",{class:"name",children:this.state.user.name}),this.props.is_waiting&&A.jsx("p",{class:"waiting",children:"Waiting..."})]})})}),A.jsxs("div",{class:"controls",children:[this.state.is_audio_on?A.jsx("div",{class:"control audio-on",children:A.jsx("i",{class:"fas fa-microphone"})}):A.jsx("div",{class:"control audio-off",children:A.jsx("i",{class:"fas fa-microphone-slash"})}),this.state.is_hand_raised&&A.jsx("div",{class:"control hand-raised",children:A.jsx("i",{class:"fas fa-hand-paper"})}),this.state.is_disconnected&&A.jsx("div",{class:"control is-disconnected",title:Fe.t("User is disconnected"),children:A.jsxs("span",{className:"icon-group",children:[A.jsx("i",{class:"fas fa-wifi"}),A.jsx("i",{class:"fas fa-slash"})]})})]}),A.jsx("div",{class:"controls controls-right",children:this.state.reaction_type&&A.jsx("div",{className:"control reaction",children:window.getReactionIcon({reaction_type:this.state.reaction_type})})}),A.jsx("p",{class:"name",children:this.state.user.name})]})}}const bp=ls()(eB);class tB extends $e.Component{constructor(e){super(e),this.state={screen_stream:!1,speaker_stream:!1,selected_user_id:0,selected_user_name:"",screen_mode:"full",display_mode:"fit_to_window",is_reconnecting:!1}}componentDidMount(){this.attachBusListeners(),this.attachCallListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.hideMe()}attachBusListeners(){Ae.on("call_shared_screen__hide",()=>{this.hideMe()})}attachCallListeners(){this.props.rtc_client.onScreenStream=this.onScreenStream.bind(this),this.props.rtc_client.onScreenStreamEnded=this.onScreenStreamEnded.bind(this),this.props.rtc_client.onShareScreenStopped=this.onShareScreenStopped.bind(this),this.props.rtc_client.onVideoSwitched=this.onVideoSwitched.bind(this),this.props.rtc_client.onUserVideoStream=this.onUserVideoStream.bind(this),this.props.rtc_client.onStreamReconnecting=this.onStreamReconnecting.bind(this),this.props.rtc_client.onStreamReconnected=this.onStreamReconnected.bind(this),this.props.rtc_client.onLeft=this.mayBeCloseScreen.bind(this),this.props.rtc_client.onJoined=this.mayBeCloseScreen.bind(this)}onVideoSwitched({user_id:e,is_video_on:n}){this.state.screen_mode=="side_by_side_speaker"&&e==this.state.selected_user_id&&(n||this.setState({speaker_stream:{}}))}onScreenStream(e){var{user_id:n,stream:t}=e,s=this.props.getUser(n);this.setState({selected_user_id:n,selected_user_name:s.name,screen_stream:t,screen_mode:"full",speaker_stream:!1}),this.switch_user_underway=!1,Ae.dispatch("call__full_screen",!0),this.setState({show_me:!0})}onScreenStreamEnded(e){var{user_id:n}=e;this.state.is_reconnecting||this.state.selected_user_id==n&&!this.switch_user_underway&&this.hideMe()}onShareScreenStopped(e){var{user_id:n}=e;this.state.selected_user_id==n&&this.hideMe()}onUserVideoStream(e){var{stream:n={},user_id:t}=e;this.state.screen_mode=="side_by_side_speaker"&&t==this.state.selected_user_id&&this.setState({speaker_stream:n||{}})}onStreamReconnecting(e){var{stream_id:n}=e;!this.state.screen_stream||n!=this.state.screen_stream.id||this.setState({is_reconnecting:!0})}onStreamReconnected(e){var{stream_id:n}=e;!this.state.screen_stream||n!=this.state.screen_stream.id||setTimeout(()=>{this.setState({is_reconnecting:!1})},3e3)}mayBeCloseScreen(e){var{user_id:n}=e;n==this.state.selected_user_id&&this.hideMe()}switchUser(e){var n=e.target.value,t=this.state.selected_user_id,s=this.props.getUser(n);this.setState({selected_user_id:n,selected_user_name:s.name,screen_mode:"full"}),this.switch_user_underway=!0,this.props.rtc_client.getScreenStream({user_id:n}),this.props.rtc_client.dropScreenStream({user_id:t})}switchMode(e){var n=e.target.value;this.setState({screen_mode:n,speaker_stream:!1},()=>{n=="side_by_side_speaker"&&this.getSpeakerStream()})}getSpeakerStream(){this.props.rtc_client.getUserVideoStream({user_id:this.state.selected_user_id})}switchDisplayMode(e){this.setState({display_mode:e.target.value})}toggleFullScreen(){window.call_helpers.toggleFullScreen()}hideMe(){this.state.show_me&&(this.setState({show_me:!1}),this.props.rtc_client.dropScreenStream({user_id:this.state.selected_user_id}),window.call_helpers&&window.call_helpers.mayBeDropUserStream({user_id:this.state.selected_user_id}),window.call_helpers&&window.call_helpers.getPageStreams(),Ae.dispatch("call__full_screen",!1),Ae.dispatch("call_shared_screen__closed",!1),this.resetThings())}resetThings(){this.setState({screen_stream:!1,speaker_stream:!1,selected_user_id:0,selected_user_name:"",screen_mode:"full",display_mode:"fit_to_window",is_reconnecting:!1})}render(){return A.jsx("div",{className:"shared-screen-container"+(this.state.show_me?"":" d-none"),children:this.state.selected_user_id&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"options",children:[A.jsxs("div",{className:"left-side",children:[A.jsx("i",{class:"fas fa-chalkboard mr-1"}),A.jsx("u",{children:this.state.selected_user_name})," is presenting"]}),A.jsxs("div",{className:"right-side",children:[Object.keys(this.props.screen_sharing_users).length>1&&A.jsxs("span",{className:"item",children:[A.jsx("b",{className:"item-title",children:Fe.t("Switch Screen")}),A.jsx("select",{value:this.state.selected_user_id,onChange:e=>this.switchUser(e),children:Object.keys(this.props.screen_sharing_users).filter(e=>e!=this.props.current_user.id).map(e=>A.jsx("option",{value:e,children:this.props.screen_sharing_users[e].name}))})]}),A.jsxs("span",{className:"item",children:[A.jsx("b",{className:"item-title",children:Fe.t("Switch Mode")}),A.jsxs("select",{value:this.state.screen_mode,onChange:e=>this.switchMode(e),children:[A.jsx("option",{value:"full",children:Fe.t("Full Screen")}),A.jsx("option",{value:"side_by_side_speaker",children:Fe.t("Side by side speaker")})]})]}),A.jsxs("span",{className:"item",children:[A.jsx("b",{className:"item-title",children:Fe.t("Display")}),A.jsxs("select",{value:this.state.display_mode,onChange:e=>this.switchDisplayMode(e),children:[A.jsx("option",{value:"fit_to_window",children:Fe.t("Fit to window")}),A.jsx("option",{value:"original",children:Fe.t("Original")})]})]}),A.jsx("i",{class:"icon-item full-screen fas icon full-screen-toggle-icon"+(this.props.is_full_screen?" fa-compress-alt":" fa-expand-alt"),onClick:()=>this.toggleFullScreen()}),A.jsx("i",{class:"icon-item close-icon fas fa-times-circle icon",onClick:()=>this.hideMe()})]}),A.jsx("div",{className:"clearfix"})]}),A.jsxs("div",{className:"video-container "+this.state.screen_mode+" "+this.state.display_mode,children:[this.state.screen_stream&&A.jsx("div",{className:"w-100 h-100 screen-stream-parent",children:A.jsx(YE,{identifier:this.state.selected_user_id+"_screen",stream:this.state.screen_stream,user_id:this.state.selected_user_id,rtc_client:this.props.rtc_client,memorized_video_props:{className:"screen-stream"}})}),this.state.screen_mode=="side_by_side_speaker"&&A.jsx("div",{className:"speaker-stream",children:A.jsx(bp,{identifier:this.state.selected_user_id+"_user",stream:this.state.speaker_stream,user_id:this.state.selected_user_id,current_user:this.props.current_user,rtc_client:this.props.rtc_client,memorized_video_props:{muted:!0},className:"media_element"})})]})]})})}}class rB extends $e.Component{constructor(e){super(e),this.stream=!1,this.state={stream_ready:!1}}componentDidMount(){this.attachCallListeners(),this.attachBusListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.hideMe()}attachCallListeners(){this.props.rtc_client.onUserVideoStream=this.onUserVideoStream.bind(this)}attachBusListeners(){Ae.on("call_maximized_stream__maximize",e=>{Ae.dispatch("side_panel__hide_all"),this.maximizeUserStream(e)})}maximizeUserStream(e){this.maximized_user_id=e,this.props.rtc_client.getUserVideoStream({user_id:e}),this.setState({stream_ready:!0})}onUserVideoStream(e){var{user_id:n,stream:t}=e;n==this.maximized_user_id&&(this.stream=t||{})}hideMe(){window.call_helpers&&window.call_helpers.mayBeDropUserStream({user_id:this.maximized_user_id}),this.setState({stream_ready:!1}),this.maximized_user_id=!1,this.stream=!1}render(){return this.state.stream_ready?A.jsxs("div",{className:"maximized-stream",children:[A.jsx("div",{className:"popup-close",onClick:this.hideMe.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})}),A.jsx(bp,{identifier:this.maximized_user_id+"_user",stream:this.stream,user_id:this.maximized_user_id,current_user:this.props.current_user,rtc_client:this.props.rtc_client,memorized_video_props:{muted:!0}})]}):null}}function nB({call:r,call_options:e,initJoin:n,cancelJoin:t}){var s=e.video.muted,i=e.audio.muted,a=e.audio.can_turn_on,u=e.audio.can_turn_off;window.call_helpers.device.os.name=="iOS"&&(i=!1,a=!0,u=!1);const{t:p,i18n:c}=zh(),[f,d]=$e.useState(!0),[h,w]=$e.useState(!s),[R,S]=$e.useState(!i),_=N=>{S(!!parseInt(N.target.value))},v=N=>{w(!!parseInt(N.target.value))},C=()=>{n({is_video_on:h,is_audio_on:R}),d(!1)},T=()=>{t(),d(!1)},k=c.language==="ar"?"rtl":"ltr";return A.jsx("div",{dir:k,className:"join-options-container popup-container"+(f?"":" d-none"),children:A.jsxs("div",{className:"popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsxs("div",{className:"popup-heading w-100",children:[p("Join Meeting"),A.jsx("div",{className:"call-title",children:r.title})]}),A.jsx("div",{className:"popup-close",onClick:T,children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsxs("div",{className:"video-options",children:[A.jsx("div",{className:"title",children:p("Video")}),A.jsxs("div",{className:"video-options-container",children:[A.jsx("input",{className:"form-control",id:"video-on",type:"radio",name:"video-option",value:"1",checked:h,onChange:v}),A.jsx("label",{for:"video-on",children:p("Enable")}),A.jsx("input",{className:"form-control",id:"video-off",type:"radio",name:"video-option",value:"0",checked:!h,onChange:v}),A.jsx("label",{for:"video-off",children:p("Disable")})]})]}),A.jsxs("div",{className:"audio-options",children:[A.jsx("div",{className:"title",children:p("Audio")}),A.jsxs("div",{className:"audio-options-container",children:[A.jsx("input",{className:"form-control",id:"audio-on",type:"radio",name:"audio-option",value:"0",checked:!R,disabled:!u,onChange:_}),A.jsx("label",{for:"audio-on",title:a?"":p("Option disabled by host"),children:p("Mute")}),A.jsx("input",{className:"form-control",id:"audio-off",type:"radio",name:"audio-option",value:"1",checked:R,disabled:!a,onChange:_}),A.jsx("label",{for:"audio-off",title:a?"":p("Option disabled by host"),children:p("Unmute")})]})]}),A.jsxs("div",{className:"options",children:[A.jsx("button",{type:"button",className:"button cancel-btn",onClick:T,children:p("Cancel")}),A.jsx("button",{type:"button",className:"button success-btn",onClick:C,children:p("Join")})]})]})})}function Sp(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Cy(r,e,n){return e&&ok(r.prototype,e),n&&ok(r,n),r}function Er(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ao(){return Ao=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Ao.apply(this,arguments)}function ak(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,t)}return n}function r_(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(t){Er(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ky(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&n_(r,e)}function jh(r){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(r)}function n_(r,e){return n_=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t},n_(r,e)}function iB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function sB(r,e){if(r==null)return{};var n={},t=Object.keys(r),s,i;for(i=0;i<t.length;i++)s=t[i],!(e.indexOf(s)>=0)&&(n[s]=r[s]);return n}function Cp(r,e){if(r==null)return{};var n=sB(r,e),t,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)t=i[s],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Ks(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oB(r,e){return e&&(typeof e=="object"||typeof e=="function")?e:Ks(r)}function xy(r){var e=iB();return function(){var t=jh(r),s;if(e){var i=jh(this).constructor;s=Reflect.construct(t,arguments,i)}else s=t.apply(this,arguments);return oB(this,s)}}function aB(r,e){return uB(r)||fB(r,e)||KE(r,e)||pB()}function cB(r){return lB(r)||dB(r)||KE(r)||hB()}function lB(r){if(Array.isArray(r))return i_(r)}function uB(r){if(Array.isArray(r))return r}function dB(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function fB(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],t=!0,s=!1,i=void 0;try{for(var a=r[Symbol.iterator](),u;!(t=(u=a.next()).done)&&(n.push(u.value),!(e&&n.length===e));t=!0);}catch(p){s=!0,i=p}finally{try{!t&&a.return!=null&&a.return()}finally{if(s)throw i}}return n}}function KE(r,e){if(r){if(typeof r=="string")return i_(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(r,e)}}function i_(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function hB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mB=function r(e){var n=this,t=e.expanded,s=t===void 0?[]:t,i=e.allowMultipleExpanded,a=i===void 0?!1:i,u=e.allowZeroExpanded,p=u===void 0?!1:u;Sp(this,r),Er(this,"expanded",void 0),Er(this,"allowMultipleExpanded",void 0),Er(this,"allowZeroExpanded",void 0),Er(this,"toggleExpanded",function(c){if(n.isItemDisabled(c))return n;var f=n.isItemExpanded(c);return f?n.augment({expanded:n.expanded.filter(function(d){return d!==c})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(cB(n.expanded),[c]):[c]})}),Er(this,"isItemDisabled",function(c){var f=n.isItemExpanded(c),d=n.expanded.length===1;return!!(f&&!n.allowZeroExpanded&&d)}),Er(this,"isItemExpanded",function(c){return n.expanded.indexOf(c)!==-1}),Er(this,"getPanelAttributes",function(c,f){var d=f??n.isItemExpanded(c);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!d:void 0,"aria-labelledby":n.getButtonId(c),id:n.getPanelId(c),hidden:d?void 0:!0}}),Er(this,"getHeadingAttributes",function(){return{role:"heading"}}),Er(this,"getButtonAttributes",function(c,f){var d=f??n.isItemExpanded(c),h=n.isItemDisabled(c);return{id:n.getButtonId(c),"aria-disabled":h,"aria-expanded":d,"aria-controls":n.getPanelId(c),role:"button",tabIndex:0}}),Er(this,"getPanelId",function(c){return"accordion__panel-".concat(c)}),Er(this,"getButtonId",function(c){return"accordion__heading-".concat(c)}),Er(this,"augment",function(c){return new r(r_({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},c))}),this.expanded=s,this.allowMultipleExpanded=a,this.allowZeroExpanded=p},GE=le.createContext(null),JE=function(r){ky(n,r);var e=xy(n);function n(){var t;Sp(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Er(Ks(t),"state",new mB({expanded:t.props.preExpanded,allowMultipleExpanded:t.props.allowMultipleExpanded,allowZeroExpanded:t.props.allowZeroExpanded})),Er(Ks(t),"toggleExpanded",function(u){t.setState(function(p){return p.toggleExpanded(u)},function(){t.props.onChange&&t.props.onChange(t.state.expanded)})}),Er(Ks(t),"isItemDisabled",function(u){return t.state.isItemDisabled(u)}),Er(Ks(t),"isItemExpanded",function(u){return t.state.isItemExpanded(u)}),Er(Ks(t),"getPanelAttributes",function(u,p){return t.state.getPanelAttributes(u,p)}),Er(Ks(t),"getHeadingAttributes",function(){return t.state.getHeadingAttributes()}),Er(Ks(t),"getButtonAttributes",function(u,p){return t.state.getButtonAttributes(u,p)}),t}return Cy(n,[{key:"render",value:function(){var s=this.state,i=s.allowZeroExpanded,a=s.allowMultipleExpanded;return le.createElement(GE.Provider,{value:{allowMultipleExpanded:a,allowZeroExpanded:i,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(le.PureComponent);Er(JE,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var XE=function(r){ky(n,r);var e=xy(n);function n(){var t;Sp(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Er(Ks(t),"renderChildren",function(u){return u?t.props.children(u):null}),t}return Cy(n,[{key:"render",value:function(){return le.createElement(GE.Consumer,null,this.renderChildren)}}]),n}(le.PureComponent),gB=function(e){var n=e.className,t=n===void 0?"accordion":n,s=e.allowMultipleExpanded,i=e.allowZeroExpanded,a=e.onChange,u=e.preExpanded,p=Cp(e,["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"]);return le.createElement(JE,{preExpanded:u,allowMultipleExpanded:s,allowZeroExpanded:i,onChange:a},le.createElement("div",Ao({"data-accordion-component":"Accordion",className:t},p)))},s_;(function(r){r.Accordion="Accordion",r.AccordionItem="AccordionItem",r.AccordionItemButton="AccordionItemButton",r.AccordionItemHeading="AccordionItemHeading",r.AccordionItemPanel="AccordionItemPanel"})(s_||(s_={}));var QE=s_,vB=0,nv=vB;function _B(){var r=nv;return nv=nv+1,"raa-".concat(r)}var yB=/[\u0009\u000a\u000c\u000d\u0020]/g;function bd(r){return r===""||yB.test(r)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(r,'", ASCII whitespaces are forbidden')),!1):!0}var ZE=le.createContext(null),wB=function(e){var n=e.children,t=e.uuid,s=e.accordionContext,i=e.dangerouslySetExpanded,a=function(){s.toggleExpanded(t)},u=function(c){var f=i??c.isItemExpanded(t),d=c.isItemDisabled(t),h=c.getPanelAttributes(t,i),w=c.getHeadingAttributes(t),R=c.getButtonAttributes(t,i);return le.createElement(ZE.Provider,{value:{uuid:t,expanded:f,disabled:d,toggleExpanded:a,panelAttributes:h,headingAttributes:w,buttonAttributes:R}},n)};return le.createElement(XE,null,u)},bB=function(e){return le.createElement(XE,null,function(n){return le.createElement(wB,Ao({},e,{accordionContext:n}))})},kp=function(e){var n=e.children,t=function(i){return i?n(i):null};return le.createElement(ZE.Consumer,null,t)},eT=function(e){var n=e.uuid,t=e.dangerouslySetExpanded,s=e.className,i=s===void 0?"accordion__item":s,a=e.activeClassName,u=Cp(e,["uuid","dangerouslySetExpanded","className","activeClassName"]),p=le.useState(_B()),c=aB(p,1),f=c[0],d=n??f,h=function(R){var S=R.expanded,_=S&&a?a:i;return le.createElement("div",Ao({"data-accordion-component":"AccordionItem",className:_},u))};return bd(d.toString()),u.id&&bd(u.id),le.createElement(bB,{uuid:d,dangerouslySetExpanded:t},le.createElement(kp,null,h))};eT.displayName=QE.AccordionItem;function tT(r){return r&&(r.matches('[data-accordion-component="Accordion"]')?r:tT(r.parentElement))}function xp(r){var e=tT(r);return e&&Array.from(e.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function SB(r){var e=xp(r)||[],n=e[0];n&&n.focus()}function CB(r){var e=xp(r)||[],n=e[e.length-1];n&&n.focus()}function kB(r){var e=xp(r)||[],n=e.indexOf(r);if(n!==-1){var t=e[n+1];t&&t.focus()}}function xB(r){var e=xp(r)||[],n=e.indexOf(r);if(n!==-1){var t=e[n-1];t&&t.focus()}}var ra={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},EB=function(e){var n=e.toggleExpanded,t=e.className,s=t===void 0?"accordion__button":t,i=Cp(e,["toggleExpanded","className"]),a=function(p){var c=p.key;if((c===ra.ENTER||c===ra.SPACE||c===ra.SPACE_DEPRECATED)&&(p.preventDefault(),n()),p.target instanceof HTMLElement)switch(c){case ra.HOME:{p.preventDefault(),SB(p.target);break}case ra.END:{p.preventDefault(),CB(p.target);break}case ra.LEFT:case ra.UP:{p.preventDefault(),xB(p.target);break}case ra.RIGHT:case ra.DOWN:{p.preventDefault(),kB(p.target);break}}};return i.id&&bd(i.id),le.createElement("div",Ao({className:s},i,{role:"button",tabIndex:0,onClick:n,onKeyDown:a,"data-accordion-component":"AccordionItemButton"}))},TB=function(e){return le.createElement(kp,null,function(n){var t=n.toggleExpanded,s=n.buttonAttributes;return le.createElement(EB,Ao({toggleExpanded:t},e,s))})},RB={className:"accordion__heading","aria-level":3},PB=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,rT=function(r){ky(n,r);var e=xy(n);function n(){var t;Sp(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Er(Ks(t),"ref",void 0),Er(Ks(t),"setRef",function(u){t.ref=u}),t}return Cy(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return le.createElement("div",Ao({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(s){if(s===void 0)throw new Error("ref is undefined");if(!(s.childElementCount===1&&s.firstElementChild&&s.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(PB)}}]),n}(le.PureComponent);Er(rT,"defaultProps",RB);var nT=function(e){return le.createElement(kp,null,function(n){var t=n.headingAttributes;return e.id&&bd(e.id),le.createElement(rT,Ao({},e,t))})};nT.displayName=QE.AccordionItemHeading;var OB=function(e){var n=e.className,t=n===void 0?"accordion__panel":n,s=e.region,i=e.id,a=Cp(e,["className","region","id"]),u=function(c){var f=c.panelAttributes;i&&bd(i);var d=r_(r_({},f),{},{"aria-labelledby":s?f["aria-labelledby"]:void 0});return le.createElement("div",Ao({"data-accordion-component":"AccordionItemPanel",className:t},a,d,{role:s?"region":void 0}))};return le.createElement(kp,null,u)};class DB extends $e.Component{constructor(e){super(e),this.rtc_client=this.props.rtc_client,this.state={total_rooms:1,auto_assign:!0,assigned_users:{},rooms:{},are_rooms_opened:!1,unassigned_room:{title:"unassigned",is_unassigned:!0},can_open_close:!0,broadcast_message:""}}componentDidMount(){this.attachBusListeners(),this.attachSocketListeners(),this.loadBreakoutRooms()}componentWillUnmount(){this.setState=(e,n)=>{},it(".init-breakout-rooms").modal("hide"),it(".create-breakout-rooms").modal("hide")}attachBusListeners(){Ae.on("call_breakout_rooms__init"+this.props.identity,()=>{if(Object.keys(this.state.rooms).length){it(".create-breakout-rooms").modal("show");return}this.calculateUsersPerRoom(),it(".init-breakout-rooms").modal("show")})}attachSocketListeners(){console.log("breakout attachSocketListeners",this.rtc_client.socket),this.rtc_client.socket.on("breakout-room-left",e=>{this.userLeftBreakoutRoom(e)}),this.rtc_client.socket.on("breakout-room-broadcast",e=>{this.onBreakoutRoomBroadcast(e)})}onBreakoutRoomBroadcast(e){var{message:n}=e;ht.info(A.jsxs("span",{children:[A.jsx("b",{children:Fe.t("Message from host")})," ",A.jsx("br",{})," ",n]}),{autoClose:6e4,position:"bottom-left",className:"call-toast"})}async loadBreakoutRooms(){var e=this.props.call.main_room_id||this.props.call.room_id,n=await this.props.getRoomDataFromCache({room_id:e}),t=n.breakout_rooms||{};if(t.rooms){var s={};Object.values(t.rooms).forEach(i=>{Object.values(i.users).forEach(a=>{s[a.id]=a})}),this.setState({rooms:t.rooms,total_rooms:Object.keys(t.rooms),are_rooms_opened:Object.keys(t.are_rooms_opened),assigned_users:s})}}hideInitRooms(){this.resetThings(),it(".init-breakout-rooms").modal("hide")}hideCreateRooms(){it(".create-breakout-rooms").modal("hide")}totalRoomsChanged(e){this.setState({total_rooms:e.target.value},()=>{this.calculateUsersPerRoom()})}calculateUsersPerRoom(){var e=Object.values(this.props.participants).filter(t=>t.id!=this.props.current_user.id).length,n=0;e&&this.state.total_rooms&&(n=e/this.state.total_rooms,n=Math.ceil(n),n=n<=e?n:e),this.setState({users_per_room:n})}assignChanged(e){var n=e.target.value=="1";this.setState({auto_assign:n})}createRooms(){it(".init-breakout-rooms").modal("hide");var e={},n={},t=Object.values(this.props.participants).filter(c=>c.id!=this.props.current_user.id),s=0,i=this.props.call.room_id;for(let c=0;c<this.state.total_rooms;c++){var a="room-"+(c+1),u={};if(e[a]={id:i+"_breakout_room_"+a,title:a,users:{}},!!this.state.auto_assign&&s!=t.length){for(let f=0;f<this.state.users_per_room;f++){var p=t[s].user;u[p.id]=p,n[p.id]=p,s++}e[a].users=u}}this.setState({rooms:e,assigned_users:n}),it(".create-breakout-rooms").modal("show")}moveUserToOtherRoom(e,n,t){if(t.is_unassigned){this.assignUserToRoom(e,n);return}var s=this.state.rooms;s[n.title].users[e.id]=e,delete s[t.title].users[e.id],this.setState({rooms:s})}assignUserToRoom(e,n){if(e){var t=this.state.rooms,s=this.state.assigned_users;t[n.title].users[e.id]=e,s[e.id]=e,this.setState({rooms:t,assigned_users:s}),this.state.are_rooms_opened&&(this.rtc_client.notifyTheseUsers({event:"join-breakout-room",user_ids:[e.id],data:{breakout_room:n}}),this.props.saveRoomDataInCache({data:{breakout_rooms:{rooms:this.state.rooms,are_rooms_opened:!0}}}))}}userLeftBreakoutRoom(e){var{user_id:n,main_room_id:t}=e,s=this.state.assigned_users;if(!(t!=this.props.call.room_id||!s[n])){delete s[n];var i=this.state.rooms;Object.values(i).forEach(a=>{delete a.users[n]}),this.setState({rooms:i,assigned_users:s})}}leaveBreakoutRoom(){var e=this.props.current_user.id,n=this.props.breakout_room;n&&(this.props.saveRoomDataInCache({get_data_callback:t=>{var s=t.breakout_rooms||{};return!s.rooms||(n=s.rooms[n.title],!n)?t:(delete n.users[e],{breakout_rooms:s})}}),this.rtc_client.rtc_helpers.notifyTheseUsers({event:"breakout-room-left",user_ids:this.props.host_ids,data:{breakout_room:n,main_room_id:this.props.call.main_room_id}}))}addRoom(){var e=this.state.rooms,n="room-"+(Object.keys(e).length+1),t=this.props.call.room_id;e[n]={id:t+"_breakout_room_"+n,title:n,users:{}},this.setState({rooms:e})}recreateRooms(){this.resetThings(),it(".create-breakout-rooms").modal("hide"),it(".init-breakout-rooms").modal("show")}openAllRooms(){var e=this.state.rooms;Object.values(e).forEach(n=>{Object.keys(n.users).length&&this.rtc_client.notifyTheseUsers({event:"join-breakout-room",user_ids:Object.keys(n.users),data:{breakout_room:n}})}),this.setState({are_rooms_opened:!0,can_open_close:!1}),setTimeout(()=>{this.setState({can_open_close:!0})},5e3),this.props.saveRoomDataInCache({data:{breakout_rooms:{rooms:this.state.rooms,are_rooms_opened:!0}}})}closeAllRooms(){Object.values(this.state.rooms).forEach(e=>{this.rtc_client.rtc_helpers.deleteRoom({room_id:e.id,room_type:"p2p-sfu"})}),this.setState({are_rooms_opened:!1,can_open_close:!1}),setTimeout(()=>{this.setState({can_open_close:!0})},5e3),this.props.saveRoomDataInCache({data:{breakout_rooms:{}}})}endBreakoutRooms(){this.props.saveRoomDataInCache({room_id:this.props.call.main_room_id||this.props.call.room_id,data:{breakout_rooms:{}}}),Object.values(this.state.rooms).forEach(e=>{this.rtc_client.rtc_helpers.deleteRoom({room_id:e.id,room_type:"p2p-sfu",join_main_room:!1})}),this.resetThings()}prepareBroadcastMessage(){it(".broadcast-breakout-room").modal("show")}broadcastMessageChanged(e){this.setState({broadcast_message:e.target.value})}broadcastMessage(){this.state.broadcast_message&&(this.rtc_client.notifyTheseUsers({event:"breakout-room-broadcast",user_ids:Object.keys(this.state.assigned_users),data:{message:this.state.broadcast_message}}),this.hideBroadcastMessage())}hideBroadcastMessage(){it(".broadcast-breakout-room").modal("hide"),this.setState({broadcast_message:""})}resetThings(){this.setState({total_rooms:1,auto_assign:!0,rooms:{},are_rooms_opened:!1},()=>{this.calculateUsersPerRoom()})}render(){const{t:e,i18n:n}=this.props;var t=Object.values(this.props.participants).map(s=>{var i=!Object.keys(this.state.assigned_users).includes(s.id.toString())&&s.id!=this.props.current_user.id;if(i)return s.user}).filter(Boolean);return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"init-breakout-rooms modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:e("Create_breaking_rooms")}),A.jsx("div",{className:"popup-close",onClick:this.hideInitRooms.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsxs("div",{className:"total-rooms-container",children:[A.jsx("label",{className:"left-side",children:e("Create_Rooms_count")}),A.jsxs("div",{className:"right-side",children:[A.jsx("input",{type:"number",min:"1",max:"50",className:"form-control",value:this.state.total_rooms,onChange:this.totalRoomsChanged.bind(this)}),this.state.auto_assign&&A.jsxs("div",{className:"participants-per-room",children:[this.state.users_per_room," ",e("participants_per_room")]})]})]}),A.jsxs("div",{className:"assign-options-container",children:[A.jsxs("div",{className:"left-side",children:[A.jsx("input",{name:"gender",type:"radio",id:"assign-auto",value:"1",checked:this.state.auto_assign,onChange:this.assignChanged.bind(this)}),A.jsx("label",{for:"assign-auto",children:e("Assign_automatically")})]}),A.jsxs("div",{className:"right-side",children:[A.jsx("input",{name:"gender",type:"radio",id:"assign-manually",value:"0",checked:!this.state.auto_assign,onChange:this.assignChanged.bind(this)}),A.jsx("label",{for:"assign-manually",children:e("Assign_manually")})]})]}),A.jsxs("div",{class:"options",children:[A.jsx("button",{className:"button",onClick:this.hideInitRooms.bind(this),children:e("Cancel")}),A.jsx("button",{className:"button success-btn",onClick:this.createRooms.bind(this),children:e("Create")})]})]})})]}),A.jsxs("div",{className:"create-breakout-rooms modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:e("Create_breaking_rooms")}),A.jsx("div",{className:"popup-close",onClick:this.hideCreateRooms.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsx("div",{className:"modal-body",children:[this.state.unassigned_room,...Object.values(this.state.rooms)].map(s=>{var i=s.is_unassigned?t:s.users;return s.is_unassigned&&(!t.length||!this.state.are_rooms_opened)?null:A.jsx("div",{className:"room",children:A.jsx(gB,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:[[],s.title],children:A.jsxs(eT,{uuid:s.title,children:[A.jsx(nT,{children:A.jsx(TB,{children:A.jsx("div",{className:"room-header",children:A.jsx("span",{children:s.title})})})}),A.jsx("div",{className:"actions room-actions",children:this.state.are_rooms_opened?A.jsx("a",{onClick:()=>this.props.joinBreakoutRoom({breakout_room:s}),children:e("join")}):A.jsxs("div",{class:"dropdown assign-dropdown",children:[A.jsx("a",{className:"dropdown-toggle","data-toggle":"dropdown",children:e("Assign")}),A.jsxs("div",{class:"dropdown-menu",children:[t.map(a=>A.jsx("div",{className:"dropdown-item",onClick:()=>this.assignUserToRoom(a,s),children:a.name})),!t.length&&A.jsx("i",{className:"dropdown-item",children:e("All_users_have_been_assigned_to_rooms")})]})]})}),A.jsx(OB,{children:Object.values(i).map(a=>{var u=Object.values(this.state.rooms).filter(p=>p.title!=s.title);return A.jsxs("div",{className:"participant participant-image",children:[A.jsx("img",{className:"profile-picture",src:a.profile_picture_url}),A.jsxs("div",{className:"right-side right-side-inside",children:[A.jsx("span",{className:"full_name",children:a.name}),(!this.state.are_rooms_opened||s.is_unassigned)&&A.jsx("div",{className:"actions",children:A.jsxs("div",{class:"dropdown",children:[A.jsx("button",{className:"moveto-btn dropdown-toggle","data-toggle":"dropdown",children:s.is_unassigned?e("Assign_to"):e("Move_to")}),A.jsxs("div",{class:"dropdown-menu",children:[u.map(p=>A.jsx("div",{className:"dropdown-item",onClick:()=>this.moveUserToOtherRoom(a,p,s),children:p.title})),!u.length&&A.jsx("i",{className:"dropdown-item",children:e("No_more_rooms")})]})]})})]})]})})})]})})})})}),A.jsx("div",{className:"options",children:this.state.are_rooms_opened?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"button success-btn",onClick:this.prepareBroadcastMessage.bind(this),children:e("Broadcast_message_to_all")}),A.jsx("button",{className:"button error-btn",disabled:!this.state.can_open_close,onClick:this.closeAllRooms.bind(this),children:e("Close_all_rooms")})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"button",onClick:this.recreateRooms.bind(this),children:e("Recreate")}),A.jsx("button",{className:"button",onClick:this.addRoom.bind(this),children:e("Add_Room")}),A.jsx("button",{className:"button success-btn",disabled:!this.state.can_open_close,onClick:this.openAllRooms.bind(this),children:e("Open_all_rooms")})]})})]})})]}),A.jsxs("div",{className:"broadcast-breakout-room modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header mb-0",children:[A.jsx("div",{className:"popup-heading"}),A.jsx("div",{className:"popup-close",onClick:this.hideBroadcastMessage.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsx("textarea",{className:"form-control",rows:"5",placeholder:"Broadcast message",value:this.state.broadcast_message,onChange:this.broadcastMessageChanged.bind(this)}),A.jsxs("i",{className:"info",children:[" ",e("Maximum_150_characters_are_allowed")]}),A.jsxs("div",{className:"options",children:[A.jsx("button",{className:"button",onClick:this.hideBroadcastMessage.bind(this),children:e("Cancel")}),A.jsx("button",{className:"button success-btn",onClick:this.broadcastMessage.bind(this),children:e("Broadcast")})]})]})})]})]})}}const MB=ls("translation",{withRef:!0})(DB);var Lh={black:"#000",white:"#fff"},iv={300:"#e57373",500:"#f44336",700:"#d32f2f"},sv={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},ov={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},av={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},cv={300:"#81c784",500:"#4caf50",700:"#388e3c"},lv={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},Ey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};function uv(r){return r&&cs(r)==="object"&&r.constructor===Object}function Ll(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},t=n.clone?Ve({},r):r;return uv(r)&&uv(e)&&Object.keys(e).forEach(function(s){s!=="__proto__"&&(uv(e[s])&&s in r?t[s]=Ll(r[s],e[s],n):t[s]=e[s])}),t}function Nh(r){for(var e="https://mui.com/production-error/?code="+r,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+r+"; visit "+e+" for the full message."}function Ty(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,r),n)}function AB(r){r=r.substr(1);var e=new RegExp(".{1,".concat(r.length>=6?2:1,"}"),"g"),n=r.match(e);return n&&n[0].length===1&&(n=n.map(function(t){return t+t})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(t,s){return s<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3}).join(", "),")"):""}function jB(r){r=Hc(r);var e=r,n=e.values,t=n[0],s=n[1]/100,i=n[2]/100,a=s*Math.min(i,1-i),u=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+t/30)%12;return i-a*Math.max(Math.min(h-3,9-h,1),-1)},p="rgb",c=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return r.type==="hsla"&&(p+="a",c.push(n[3])),Ep({type:p,values:c})}function Hc(r){if(r.type)return r;if(r.charAt(0)==="#")return Hc(AB(r));var e=r.indexOf("("),n=r.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(Nh(3,r));var t=r.substring(e+1,r.length-1).split(",");return t=t.map(function(s){return parseFloat(s)}),{type:n,values:t}}function Ep(r){var e=r.type,n=r.values;return e.indexOf("rgb")!==-1?n=n.map(function(t,s){return s<3?parseInt(t,10):t}):e.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function LB(r,e){var n=ck(r),t=ck(e);return(Math.max(n,t)+.05)/(Math.min(n,t)+.05)}function ck(r){r=Hc(r);var e=r.type==="hsl"?Hc(jB(r)).values:r.values;return e=e.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Oc(r,e){return r=Hc(r),e=Ty(e),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.values[3]=e,Ep(r)}function NB(r,e){if(r=Hc(r),e=Ty(e),r.type.indexOf("hsl")!==-1)r.values[2]*=1-e;else if(r.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)r.values[n]*=1-e;return Ep(r)}function IB(r,e){if(r=Hc(r),e=Ty(e),r.type.indexOf("hsl")!==-1)r.values[2]+=(100-r.values[2])*e;else if(r.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)r.values[n]+=(255-r.values[n])*e;return Ep(r)}var qa=["xs","sm","md","lg","xl"];function FB(r){var e=r.values,n=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,t=r.unit,s=t===void 0?"px":t,i=r.step,a=i===void 0?5:i,u=ki(r,["values","unit","step"]);function p(w){var R=typeof n[w]=="number"?n[w]:w;return"@media (min-width:".concat(R).concat(s,")")}function c(w){var R=qa.indexOf(w)+1,S=n[qa[R]];if(R===qa.length)return p("xs");var _=typeof S=="number"&&R>0?S:w;return"@media (max-width:".concat(_-a/100).concat(s,")")}function f(w,R){var S=qa.indexOf(R);return S===qa.length-1?p(w):"@media (min-width:".concat(typeof n[w]=="number"?n[w]:w).concat(s,") and ")+"(max-width:".concat((S!==-1&&typeof n[qa[S+1]]=="number"?n[qa[S+1]]:R)-a/100).concat(s,")")}function d(w){return f(w,w)}function h(w){return n[w]}return Ve({keys:qa,values:n,up:p,down:c,between:f,only:d,width:h},u)}function BB(r,e,n){var t;return Ve({gutters:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),Ve({paddingLeft:e(2),paddingRight:e(2)},i,Bc({},r.up("sm"),Ve({paddingLeft:e(3),paddingRight:e(3)},i[r.up("sm")])))},toolbar:(t={minHeight:56},Bc(t,"".concat(r.up("xs")," and (orientation: landscape)"),{minHeight:48}),Bc(t,r.up("sm"),{minHeight:64}),t)},n)}var lk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lh.white,default:Ey[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dv={text:{primary:Lh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Ey[800],default:"#303030"},action:{active:Lh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uk(r,e,n,t){var s=t.light||t,i=t.dark||t*1.5;r[e]||(r.hasOwnProperty(n)?r[e]=r[n]:e==="light"?r.light=IB(r.main,s):e==="dark"&&(r.dark=NB(r.main,i)))}function $B(r){var e=r.primary,n=e===void 0?{light:ov[300],main:ov[500],dark:ov[700]}:e,t=r.secondary,s=t===void 0?{light:sv.A200,main:sv.A400,dark:sv.A700}:t,i=r.error,a=i===void 0?{light:iv[300],main:iv[500],dark:iv[700]}:i,u=r.warning,p=u===void 0?{light:lv[300],main:lv[500],dark:lv[700]}:u,c=r.info,f=c===void 0?{light:av[300],main:av[500],dark:av[700]}:c,d=r.success,h=d===void 0?{light:cv[300],main:cv[500],dark:cv[700]}:d,w=r.type,R=w===void 0?"light":w,S=r.contrastThreshold,_=S===void 0?3:S,v=r.tonalOffset,C=v===void 0?.2:v,T=ki(r,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function M(F){var I=LB(F,dv.text.primary)>=_?dv.text.primary:lk.text.primary;return I}var k=function(I){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(I=Ve({},I),!I.main&&I[U]&&(I.main=I[U]),!I.main)throw new Error(Nh(4,U));if(typeof I.main!="string")throw new Error(Nh(5,JSON.stringify(I.main)));return uk(I,"light",K,C),uk(I,"dark",Q,C),I.contrastText||(I.contrastText=M(I.main)),I},N={dark:dv,light:lk},y=Ll(Ve({common:Lh,type:R,primary:k(n),secondary:k(s,"A400","A200","A700"),error:k(a),warning:k(p),info:k(f),success:k(h),grey:Ey,contrastThreshold:_,getContrastText:M,augmentColor:k,tonalOffset:C},N[R]),T);return y}function iT(r){return Math.round(r*1e5)/1e5}function UB(r){return iT(r)}var dk={textTransform:"uppercase"},fk='"Roboto", "Helvetica", "Arial", sans-serif';function qB(r,e){var n=typeof e=="function"?e(r):e,t=n.fontFamily,s=t===void 0?fk:t,i=n.fontSize,a=i===void 0?14:i,u=n.fontWeightLight,p=u===void 0?300:u,c=n.fontWeightRegular,f=c===void 0?400:c,d=n.fontWeightMedium,h=d===void 0?500:d,w=n.fontWeightBold,R=w===void 0?700:w,S=n.htmlFontSize,_=S===void 0?16:S,v=n.allVariants,C=n.pxToRem,T=ki(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),M=a/14,k=C||function(F){return"".concat(F/_*M,"rem")},N=function(I,U,K,Q,oe){return Ve({fontFamily:s,fontWeight:I,fontSize:k(U),lineHeight:K},s===fk?{letterSpacing:"".concat(iT(Q/U),"em")}:{},oe,v)},y={h1:N(p,96,1.167,-1.5),h2:N(p,60,1.2,-.5),h3:N(f,48,1.167,0),h4:N(f,34,1.235,.25),h5:N(f,24,1.334,0),h6:N(h,20,1.6,.15),subtitle1:N(f,16,1.75,.15),subtitle2:N(h,14,1.57,.1),body1:N(f,16,1.5,.15),body2:N(f,14,1.43,.15),button:N(h,14,1.75,.4,dk),caption:N(f,12,1.66,.4),overline:N(f,12,2.66,1,dk)};return Ll(Ve({htmlFontSize:_,pxToRem:k,round:UB,fontFamily:s,fontSize:a,fontWeightLight:p,fontWeightRegular:f,fontWeightMedium:h,fontWeightBold:R},y),T,{clone:!1})}var HB=.2,VB=.14,zB=.12;function Mr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(HB,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(VB,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(zB,")")].join(",")}var WB=["none",Mr(0,2,1,-1,0,1,1,0,0,1,3,0),Mr(0,3,1,-2,0,2,2,0,0,1,5,0),Mr(0,3,3,-2,0,3,4,0,0,1,8,0),Mr(0,2,4,-1,0,4,5,0,0,1,10,0),Mr(0,3,5,-1,0,5,8,0,0,1,14,0),Mr(0,3,5,-1,0,6,10,0,0,1,18,0),Mr(0,4,5,-2,0,7,10,1,0,2,16,1),Mr(0,5,5,-3,0,8,10,1,0,3,14,2),Mr(0,5,6,-3,0,9,12,1,0,3,16,2),Mr(0,6,6,-3,0,10,14,1,0,4,18,3),Mr(0,6,7,-4,0,11,15,1,0,4,20,3),Mr(0,7,8,-4,0,12,17,2,0,5,22,4),Mr(0,7,8,-4,0,13,19,2,0,5,24,4),Mr(0,7,9,-4,0,14,21,2,0,5,26,4),Mr(0,8,9,-5,0,15,22,2,0,6,28,5),Mr(0,8,10,-5,0,16,24,2,0,6,30,5),Mr(0,8,11,-5,0,17,26,2,0,6,32,5),Mr(0,9,11,-5,0,18,28,2,0,7,34,6),Mr(0,9,12,-6,0,19,29,2,0,7,36,6),Mr(0,10,13,-6,0,20,31,3,0,8,38,7),Mr(0,10,13,-6,0,21,33,3,0,8,40,7),Mr(0,10,14,-6,0,22,35,3,0,8,42,7),Mr(0,11,14,-7,0,23,36,3,0,9,44,8),Mr(0,11,15,-7,0,24,38,3,0,9,46,8)],YB={borderRadius:4};function KB(r){if(Array.isArray(r))return Lv(r)}function GB(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function JB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sT(r){return KB(r)||GB(r)||jx(r)||JB()}function XB(r){var e=r.spacing||8;return typeof e=="number"?function(n){return e*n}:Array.isArray(e)?function(n){return e[n]}:typeof e=="function"?e:function(){}}function QB(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(r.mui)return r;var e=XB({spacing:r}),n=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.length===0?e(1):i.length===1?e(i[0]):i.map(function(u){if(typeof u=="string")return u;var p=e(u);return typeof p=="number"?"".concat(p,"px"):p}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return r}}),n.mui=!0,n}var hk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},pk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mk(r){return"".concat(Math.round(r),"ms")}const ZB={easing:hk,duration:pk,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.duration,s=t===void 0?pk.standard:t,i=n.easing,a=i===void 0?hk.easeInOut:i,u=n.delay,p=u===void 0?0:u;return ki(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(c){return"".concat(c," ").concat(typeof s=="string"?s:mk(s)," ").concat(a," ").concat(typeof p=="string"?p:mk(p))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var e$={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function t$(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.breakpoints,n=e===void 0?{}:e,t=r.mixins,s=t===void 0?{}:t,i=r.palette,a=i===void 0?{}:i,u=r.spacing,p=r.typography,c=p===void 0?{}:p,f=ki(r,["breakpoints","mixins","palette","spacing","typography"]),d=$B(a),h=FB(n),w=QB(u),R=Ll({breakpoints:h,direction:"ltr",mixins:BB(h,w,s),overrides:{},palette:d,props:{},shadows:WB,typography:qB(d,c),spacing:w,shape:YB,transitions:ZB,zIndex:e$},f),S=arguments.length,_=new Array(S>1?S-1:0),v=1;v<S;v++)_[v-1]=arguments[v];return R=_.reduce(function(C,T){return Ll(C,T)},R),R}var r$=typeof Symbol=="function"&&Symbol.for;const n$=r$?Symbol.for("mui.nested"):"__THEME_NESTED__";var i$=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function s$(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.disableGlobal,n=e===void 0?!1:e,t=r.productionPrefix,s=t===void 0?"jss":t,i=r.seed,a=i===void 0?"":i,u=a===""?"":"".concat(a,"-"),p=0,c=function(){return p+=1,p};return function(f,d){var h=d.options.name;if(h&&h.indexOf("Mui")===0&&!d.options.link&&!n){if(i$.indexOf(f.key)!==-1)return"Mui-".concat(f.key);var w="".concat(u).concat(h,"-").concat(f.key);return!d.options.theme[n$]||a!==""?w:"".concat(w,"-").concat(c())}return"".concat(u).concat(s).concat(c())}}function o$(r){var e=r.theme,n=r.name,t=r.props;if(!e||!e.props||!e.props[n])return t;var s=e.props[n],i;for(i in s)t[i]===void 0&&(t[i]=s[i]);return t}var gk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ud=(typeof window>"u"?"undefined":gk(window))==="object"&&(typeof document>"u"?"undefined":gk(document))==="object"&&document.nodeType===9,a$={}.constructor;function o_(r){if(r==null||typeof r!="object")return r;if(Array.isArray(r))return r.map(o_);if(r.constructor!==a$)return r;var e={};for(var n in r)e[n]=o_(r[n]);return e}function Ry(r,e,n){r===void 0&&(r="unnamed");var t=n.jss,s=o_(e),i=t.plugins.onCreateRule(r,s,n);return i||(r[0],null)}var vk=function(e,n){for(var t="",s=0;s<e.length&&e[s]!=="!important";s++)t&&(t+=n),t+=e[s];return t},Uc=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var t=0;t<e.length&&e[t]!=="!important";t++)n&&(n+=", "),n+=vk(e[t]," ");else n=vk(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Hl(r){return r&&r.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function qu(r,e){for(var n="",t=0;t<e;t++)n+="  ";return n+r}function Sd(r,e,n){n===void 0&&(n={});var t="";if(!e)return t;var s=n,i=s.indent,a=i===void 0?0:i,u=e.fallbacks;n.format===!1&&(a=-1/0);var p=Hl(n),c=p.linebreak,f=p.space;if(r&&a++,u)if(Array.isArray(u))for(var d=0;d<u.length;d++){var h=u[d];for(var w in h){var R=h[w];R!=null&&(t&&(t+=c),t+=qu(w+":"+f+Uc(R)+";",a))}}else for(var S in u){var _=u[S];_!=null&&(t&&(t+=c),t+=qu(S+":"+f+Uc(_)+";",a))}for(var v in e){var C=e[v];C!=null&&v!=="fallbacks"&&(t&&(t+=c),t+=qu(v+":"+f+Uc(C)+";",a))}return!t&&!n.allowEmpty||!r?t:(a--,t&&(t=""+c+t+c),qu(""+r+f+"{"+t,a)+qu("}",a))}var c$=/([[\].#*$><+~=|^:(),"'`\s])/g,_k=typeof CSS<"u"&&CSS.escape,Py=function(r){return _k?_k(r):r.replace(c$,"\\$1")},oT=function(){function r(n,t,s){this.type="style",this.isProcessed=!1;var i=s.sheet,a=s.Renderer;this.key=n,this.options=s,this.style=t,i?this.renderer=i.renderer:a&&(this.renderer=new a)}var e=r.prototype;return e.prop=function(t,s,i){if(s===void 0)return this.style[t];var a=i?i.force:!1;if(!a&&this.style[t]===s)return this;var u=s;(!i||i.process!==!1)&&(u=this.options.jss.plugins.onChangeValue(s,t,this));var p=u==null||u===!1,c=t in this.style;if(p&&!c&&!a)return this;var f=p&&c;if(f?delete this.style[t]:this.style[t]=u,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,u),this;var d=this.options.sheet;return d&&d.attached,this},r}(),a_=function(r){Bd(e,r);function e(t,s,i){var a;a=r.call(this,t,s,i)||this;var u=i.selector,p=i.scoped,c=i.sheet,f=i.generateId;return u?a.selectorText=u:p!==!1&&(a.id=f(Do(Do(a)),c),a.selectorText="."+Py(a.id)),a}var n=e.prototype;return n.applyTo=function(s){var i=this.renderer;if(i){var a=this.toJSON();for(var u in a)i.setProperty(s,u,a[u])}return this},n.toJSON=function(){var s={};for(var i in this.style){var a=this.style[i];typeof a!="object"?s[i]=a:Array.isArray(a)&&(s[i]=Uc(a))}return s},n.toString=function(s){var i=this.options.sheet,a=i?i.options.link:!1,u=a?Ve({},s,{allowEmpty:!0}):s;return Sd(this.selectorText,this.style,u)},zi(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,a=this.renderable;if(!(!a||!i)){var u=i.setSelector(a,s);u||i.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(oT),l$={onCreateRule:function(e,n,t){return e[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new a_(e,n,t)}},fv={indent:1,children:!0},u$=/@([\w-]+)/,d$=function(){function r(n,t,s){this.type="conditional",this.isProcessed=!1,this.key=n;var i=n.match(u$);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new Tp(Ve({},s,{parent:this}));for(var a in t)this.rules.add(a,t[a]);this.rules.process()}var e=r.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,s,i){var a=this.rules.add(t,s,i);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(t,s,i){var a=this.rules.replace(t,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(t){t===void 0&&(t=fv);var s=Hl(t),i=s.linebreak;if(t.indent==null&&(t.indent=fv.indent),t.children==null&&(t.children=fv.children),t.children===!1)return this.query+" {}";var a=this.rules.toString(t);return a?this.query+" {"+i+a+i+"}":""},r}(),f$=/@container|@media|@supports\s+/,h$={onCreateRule:function(e,n,t){return f$.test(e)?new d$(e,n,t):null}},hv={indent:1,children:!0},p$=/@keyframes\s+([\w-]+)/,c_=function(){function r(n,t,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=n.match(p$);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var a=s.scoped,u=s.sheet,p=s.generateId;this.id=a===!1?this.name:Py(p(this,u)),this.rules=new Tp(Ve({},s,{parent:this}));for(var c in t)this.rules.add(c,t[c],Ve({},s,{parent:this}));this.rules.process()}var e=r.prototype;return e.toString=function(t){t===void 0&&(t=hv);var s=Hl(t),i=s.linebreak;if(t.indent==null&&(t.indent=hv.indent),t.children==null&&(t.children=hv.children),t.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(t);return a&&(a=""+i+a+i),this.at+" "+this.id+" {"+a+"}"},r}(),m$=/@keyframes\s+/,g$=/\$([\w-]+)/g,l_=function(e,n){return typeof e=="string"?e.replace(g$,function(t,s){return s in n?n[s]:t}):e},yk=function(e,n,t){var s=e[n],i=l_(s,t);i!==s&&(e[n]=i)},v$={onCreateRule:function(e,n,t){return typeof e=="string"&&m$.test(e)?new c_(e,n,t):null},onProcessStyle:function(e,n,t){return n.type!=="style"||!t||("animation-name"in e&&yk(e,"animation-name",t.keyframes),"animation"in e&&yk(e,"animation",t.keyframes)),e},onChangeValue:function(e,n,t){var s=t.options.sheet;if(!s)return e;switch(n){case"animation":return l_(e,s.keyframes);case"animation-name":return l_(e,s.keyframes);default:return e}}},_$=function(r){Bd(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(s){var i=this.options.sheet,a=i?i.options.link:!1,u=a?Ve({},s,{allowEmpty:!0}):s;return Sd(this.key,this.style,u)},e}(oT),y$={onCreateRule:function(e,n,t){return t.parent&&t.parent.type==="keyframes"?new _$(e,n,t):null}},w$=function(){function r(n,t,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=t,this.options=s}var e=r.prototype;return e.toString=function(t){var s=Hl(t),i=s.linebreak;if(Array.isArray(this.style)){for(var a="",u=0;u<this.style.length;u++)a+=Sd(this.at,this.style[u]),this.style[u+1]&&(a+=i);return a}return Sd(this.at,this.style,t)},r}(),b$=/@font-face/,S$={onCreateRule:function(e,n,t){return b$.test(e)?new w$(e,n,t):null}},C$=function(){function r(n,t,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=t,this.options=s}var e=r.prototype;return e.toString=function(t){return Sd(this.key,this.style,t)},r}(),k$={onCreateRule:function(e,n,t){return e==="@viewport"||e==="@-ms-viewport"?new C$(e,n,t):null}},x$=function(){function r(n,t,s){this.type="simple",this.isProcessed=!1,this.key=n,this.value=t,this.options=s}var e=r.prototype;return e.toString=function(t){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},r}(),E$={"@charset":!0,"@import":!0,"@namespace":!0},T$={onCreateRule:function(e,n,t){return e in E$?new x$(e,n,t):null}},wk=[l$,h$,v$,y$,S$,k$,T$],R$={process:!0},bk={force:!0,process:!0},Tp=function(){function r(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=r.prototype;return e.add=function(t,s,i){var a=this.options,u=a.parent,p=a.sheet,c=a.jss,f=a.Renderer,d=a.generateId,h=a.scoped,w=Ve({classes:this.classes,parent:u,sheet:p,jss:c,Renderer:f,generateId:d,scoped:h,name:t,keyframes:this.keyframes,selector:void 0},i),R=t;t in this.raw&&(R=t+"-d"+this.counter++),this.raw[R]=s,R in this.classes&&(w.selector="."+Py(this.classes[R]));var S=Ry(R,s,w);if(!S)return null;this.register(S);var _=w.index===void 0?this.index.length:w.index;return this.index.splice(_,0,S),S},e.replace=function(t,s,i){var a=this.get(t),u=this.index.indexOf(a);a&&this.remove(a);var p=i;return u!==-1&&(p=Ve({},i,{index:u})),this.add(t,s,p)},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof a_?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof c_&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof a_?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof c_&&delete this.keyframes[t.name]},e.update=function(){var t,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),s,i);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],s,i)},e.updateOne=function(t,s,i){i===void 0&&(i=R$);var a=this.options,u=a.jss.plugins,p=a.sheet;if(t.rules instanceof r){t.rules.update(s,i);return}var c=t.style;if(u.onUpdate(s,t,p,i),i.process&&c&&c!==t.style){u.onProcessStyle(t.style,t,p);for(var f in t.style){var d=t.style[f],h=c[f];d!==h&&t.prop(f,d,bk)}for(var w in c){var R=t.style[w],S=c[w];R==null&&R!==S&&t.prop(w,null,bk)}}},e.toString=function(t){for(var s="",i=this.options.sheet,a=i?i.options.link:!1,u=Hl(t),p=u.linebreak,c=0;c<this.index.length;c++){var f=this.index[c],d=f.toString(t);!d&&!a||(s&&(s+=p),s+=d)}return s},r}(),aT=function(){function r(n,t){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ve({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Tp(this.options);for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=r.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,s,i){var a=this.queue;this.attached&&!a&&(this.queue=[]);var u=this.rules.add(t,s,i);return u?(this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&(a?a.push(u):(this.insertRule(u),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),u):(this.deployed=!1,u)):null},e.replaceRule=function(t,s,i){var a=this.rules.get(t);if(!a)return this.addRule(t,s,i);var u=this.rules.replace(t,s,i);return u&&this.options.jss.plugins.onProcessRule(u),this.attached?(this.deployed&&this.renderer&&(u?a.renderable&&this.renderer.replaceRule(a.renderable,u):this.renderer.deleteRule(a)),u):(this.deployed=!1,u)},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,s){var i=[];for(var a in t){var u=this.addRule(a,t[a],s);u&&i.push(u)}return i},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var s=typeof t=="object"?t:this.rules.get(t);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,s,i){return this.rules.updateOne(t,s,i),this},e.toString=function(t){return this.rules.toString(t)},r}(),P$=function(){function r(){this.plugins={internal:[],external:[]},this.registry={}}var e=r.prototype;return e.onCreateRule=function(t,s,i){for(var a=0;a<this.registry.onCreateRule.length;a++){var u=this.registry.onCreateRule[a](t,s,i);if(u)return u}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var s=t.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](t,s);t.style&&this.onProcessStyle(t.style,t,s),t.isProcessed=!0}},e.onProcessStyle=function(t,s,i){for(var a=0;a<this.registry.onProcessStyle.length;a++)s.style=this.registry.onProcessStyle[a](s.style,s,i)},e.onProcessSheet=function(t){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](t)},e.onUpdate=function(t,s,i,a){for(var u=0;u<this.registry.onUpdate.length;u++)this.registry.onUpdate[u](t,s,i,a)},e.onChangeValue=function(t,s,i){for(var a=t,u=0;u<this.registry.onChangeValue.length;u++)a=this.registry.onChangeValue[u](a,s,i);return a},e.use=function(t,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(t)===-1&&(i.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,u){for(var p in u)p in a&&a[p].push(u[p]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},r}(),O$=function(){function r(){this.registry=[]}var e=r.prototype;return e.add=function(t){var s=this.registry,i=t.options.index;if(s.indexOf(t)===-1){if(s.length===0||i>=this.index){s.push(t);return}for(var a=0;a<s.length;a++)if(s[a].options.index>i){s.splice(a,0,t);return}}},e.reset=function(){this.registry=[]},e.remove=function(t){var s=this.registry.indexOf(t);this.registry.splice(s,1)},e.toString=function(t){for(var s=t===void 0?{}:t,i=s.attached,a=Nr(s,["attached"]),u=Hl(a),p=u.linebreak,c="",f=0;f<this.registry.length;f++){var d=this.registry[f];i!=null&&d.attached!==i||(c&&(c+=p),c+=d.toString(a))}return c},zi(r,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),r}(),id=new O$,u_=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),d_="2f1acc6c3a606b082e5eef5e54414ffb";u_[d_]==null&&(u_[d_]=0);var Sk=u_[d_]++,Ck=function(e){e===void 0&&(e={});var n=0,t=function(i,a){n+=1;var u="",p="";return a&&(a.options.classNamePrefix&&(p=a.options.classNamePrefix),a.options.jss.id!=null&&(u=String(a.options.jss.id))),e.minify?""+(p||"c")+Sk+u+n:p+i.key+"-"+Sk+(u?"-"+u:"")+"-"+n};return t},cT=function(e){var n;return function(){return n||(n=e()),n}},D$=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},M$=function(e,n,t){try{var s=t;if(Array.isArray(t)&&(s=Uc(t)),e.attributeStyleMap)e.attributeStyleMap.set(n,s);else{var i=s?s.indexOf("!important"):-1,a=i>-1?s.substr(0,i-1):s;e.style.setProperty(n,a,i>-1?"important":"")}}catch{return!1}return!0},A$=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},j$=function(e,n){return e.selectorText=n,e.selectorText===n},lT=cT(function(){return document.querySelector("head")});function L$(r,e){for(var n=0;n<r.length;n++){var t=r[n];if(t.attached&&t.options.index>e.index&&t.options.insertionPoint===e.insertionPoint)return t}return null}function N$(r,e){for(var n=r.length-1;n>=0;n--){var t=r[n];if(t.attached&&t.options.insertionPoint===e.insertionPoint)return t}return null}function I$(r){for(var e=lT(),n=0;n<e.childNodes.length;n++){var t=e.childNodes[n];if(t.nodeType===8&&t.nodeValue.trim()===r)return t}return null}function F$(r){var e=id.registry;if(e.length>0){var n=L$(e,r);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=N$(e,r),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var t=r.insertionPoint;if(t&&typeof t=="string"){var s=I$(t);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function B$(r,e){var n=e.insertionPoint,t=F$(e);if(t!==!1&&t.parent){t.parent.insertBefore(r,t.node);return}if(n&&typeof n.nodeType=="number"){var s=n,i=s.parentNode;i&&i.insertBefore(r,s.nextSibling);return}lT().appendChild(r)}var $$=cT(function(){var r=document.querySelector('meta[property="csp-nonce"]');return r?r.getAttribute("content"):null}),kk=function(e,n,t){try{"insertRule"in e?e.insertRule(n,t):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[t]},xk=function(e,n){var t=e.cssRules.length;return n===void 0||n>t?t:n},U$=function(){var e=document.createElement("style");return e.textContent=`
`,e},q$=function(){function r(n){this.getPropertyValue=D$,this.setProperty=M$,this.removeProperty=A$,this.setSelector=j$,this.hasInsertedRules=!1,this.cssRules=[],n&&id.add(n),this.sheet=n;var t=this.sheet?this.sheet.options:{},s=t.media,i=t.meta,a=t.element;this.element=a||U$(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var u=$$();u&&this.element.setAttribute("nonce",u)}var e=r.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){B$(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var t=this.sheet;if(t){if(t.options.link){this.insertRules(t.rules);return}this.element.textContent=`
`+t.toString()+`
`}},e.insertRules=function(t,s){for(var i=0;i<t.index.length;i++)this.insertRule(t.index[i],i,s)},e.insertRule=function(t,s,i){if(i===void 0&&(i=this.element.sheet),t.rules){var a=t,u=i;if(t.type==="conditional"||t.type==="keyframes"){var p=xk(i,s);if(u=kk(i,a.toString({children:!1}),p),u===!1)return!1;this.refCssRule(t,p,u)}return this.insertRules(a.rules,u),u}var c=t.toString();if(!c)return!1;var f=xk(i,s),d=kk(i,c,f);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(t,f,d),d)},e.refCssRule=function(t,s,i){t.renderable=i,t.options.parent instanceof aT&&this.cssRules.splice(s,0,i)},e.deleteRule=function(t){var s=this.element.sheet,i=this.indexOf(t);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,s){var i=this.indexOf(t);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},r}(),H$=0,V$=function(){function r(n){this.id=H$++,this.version="10.10.0",this.plugins=new P$,this.options={id:{minify:!1},createGenerateId:Ck,Renderer:Ud?q$:null,plugins:[]},this.generateId=Ck({minify:!1});for(var t=0;t<wk.length;t++)this.plugins.use(wk[t],{queue:"internal"});this.setup(n)}var e=r.prototype;return e.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Ve({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,s){s===void 0&&(s={});var i=s,a=i.index;typeof a!="number"&&(a=id.index===0?0:id.index+1);var u=new aT(t,Ve({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(u),u},e.removeStyleSheet=function(t){return t.detach(),id.remove(t),this},e.createRule=function(t,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof t=="object")return this.createRule(void 0,t,s);var a=Ve({},i,{name:t,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var u=Ry(t,s,a);return u&&this.plugins.onProcessRule(u),u},e.use=function(){for(var t=this,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.forEach(function(u){t.plugins.use(u)}),this},r}(),uT=function(e){return new V$(e)},Oy=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function dT(r){var e=null;for(var n in r){var t=r[n],s=typeof t;if(s==="function")e||(e={}),e[n]=t;else if(s==="object"&&t!==null&&!Array.isArray(t)){var i=dT(t);i&&(e||(e={}),e[n]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */uT();var fT=Date.now(),pv="fnValues"+fT,mv="fnStyle"+ ++fT,z$=function(){return{onCreateRule:function(n,t,s){if(typeof t!="function")return null;var i=Ry(n,{},s);return i[mv]=t,i},onProcessStyle:function(n,t){if(pv in t||mv in t)return n;var s={};for(var i in n){var a=n[i];typeof a=="function"&&(delete n[i],s[i]=a)}return t[pv]=s,n},onUpdate:function(n,t,s,i){var a=t,u=a[mv];u&&(a.style=u(n)||{});var p=a[pv];if(p)for(var c in p)a.prop(c,p[c](n),i)}}},Ga="@global",f_="@global ",W$=function(){function r(n,t,s){this.type="global",this.at=Ga,this.isProcessed=!1,this.key=n,this.options=s,this.rules=new Tp(Ve({},s,{parent:this}));for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=r.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,s,i){var a=this.rules.add(t,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(t,s,i){var a=this.rules.replace(t,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(t){return this.rules.toString(t)},r}(),Y$=function(){function r(n,t,s){this.type="global",this.at=Ga,this.isProcessed=!1,this.key=n,this.options=s;var i=n.substr(f_.length);this.rule=s.jss.createRule(i,t,Ve({},s,{parent:this}))}var e=r.prototype;return e.toString=function(t){return this.rule?this.rule.toString(t):""},r}(),K$=/\s*,\s*/g;function hT(r,e){for(var n=r.split(K$),t="",s=0;s<n.length;s++)t+=e+" "+n[s].trim(),n[s+1]&&(t+=", ");return t}function G$(r,e){var n=r.options,t=r.style,s=t?t[Ga]:null;if(s){for(var i in s)e.addRule(i,s[i],Ve({},n,{selector:hT(i,r.selector)}));delete t[Ga]}}function J$(r,e){var n=r.options,t=r.style;for(var s in t)if(!(s[0]!=="@"||s.substr(0,Ga.length)!==Ga)){var i=hT(s.substr(Ga.length),r.selector);e.addRule(i,t[s],Ve({},n,{selector:i})),delete t[s]}}function X$(){function r(n,t,s){if(!n)return null;if(n===Ga)return new W$(n,t,s);if(n[0]==="@"&&n.substr(0,f_.length)===f_)return new Y$(n,t,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=n),null}function e(n,t){n.type!=="style"||!t||(G$(n,t),J$(n,t))}return{onCreateRule:r,onProcessRule:e}}var Ek=/\s*,\s*/g,Q$=/&/g,Z$=/\$([\w-]+)/g;function eU(){function r(s,i){return function(a,u){var p=s.getRule(u)||i&&i.getRule(u);return p?p.selector:u}}function e(s,i){for(var a=i.split(Ek),u=s.split(Ek),p="",c=0;c<a.length;c++)for(var f=a[c],d=0;d<u.length;d++){var h=u[d];p&&(p+=", "),p+=h.indexOf("&")!==-1?h.replace(Q$,f):f+" "+h}return p}function n(s,i,a){if(a)return Ve({},a,{index:a.index+1});var u=s.options.nestingLevel;u=u===void 0?1:u+1;var p=Ve({},s.options,{nestingLevel:u,index:i.indexOf(s)+1});return delete p.name,p}function t(s,i,a){if(i.type!=="style")return s;var u=i,p=u.options.parent,c,f;for(var d in s){var h=d.indexOf("&")!==-1,w=d[0]==="@";if(!(!h&&!w)){if(c=n(u,p,c),h){var R=e(d,u.selector);f||(f=r(p,a)),R=R.replace(Z$,f);var S=u.key+"-"+d;"replaceRule"in p?p.replaceRule(S,s[d],Ve({},c,{selector:R})):p.addRule(S,s[d],Ve({},c,{selector:R}))}else w&&p.addRule(d,{},c).addRule(u.key,s[d],{selector:u.selector});delete s[d]}}return s}return{onProcessStyle:t}}var tU=/[A-Z]/g,rU=/^ms-/,gv={};function nU(r){return"-"+r.toLowerCase()}function pT(r){if(gv.hasOwnProperty(r))return gv[r];var e=r.replace(tU,nU);return gv[r]=rU.test(e)?"-"+e:e}function Ih(r){var e={};for(var n in r){var t=n.indexOf("--")===0?n:pT(n);e[t]=r[n]}return r.fallbacks&&(Array.isArray(r.fallbacks)?e.fallbacks=r.fallbacks.map(Ih):e.fallbacks=Ih(r.fallbacks)),e}function iU(){function r(n){if(Array.isArray(n)){for(var t=0;t<n.length;t++)n[t]=Ih(n[t]);return n}return Ih(n)}function e(n,t,s){if(t.indexOf("--")===0)return n;var i=pT(t);return t===i?n:(s.prop(i,n),null)}return{onProcessStyle:r,onChangeValue:e}}var je=Oy&&CSS?CSS.px:"px",oh=Oy&&CSS?CSS.ms:"ms",bl=Oy&&CSS?CSS.percent:"%",sU={"animation-delay":oh,"animation-duration":oh,"background-position":je,"background-position-x":je,"background-position-y":je,"background-size":je,border:je,"border-bottom":je,"border-bottom-left-radius":je,"border-bottom-right-radius":je,"border-bottom-width":je,"border-left":je,"border-left-width":je,"border-radius":je,"border-right":je,"border-right-width":je,"border-top":je,"border-top-left-radius":je,"border-top-right-radius":je,"border-top-width":je,"border-width":je,"border-block":je,"border-block-end":je,"border-block-end-width":je,"border-block-start":je,"border-block-start-width":je,"border-block-width":je,"border-inline":je,"border-inline-end":je,"border-inline-end-width":je,"border-inline-start":je,"border-inline-start-width":je,"border-inline-width":je,"border-start-start-radius":je,"border-start-end-radius":je,"border-end-start-radius":je,"border-end-end-radius":je,margin:je,"margin-bottom":je,"margin-left":je,"margin-right":je,"margin-top":je,"margin-block":je,"margin-block-end":je,"margin-block-start":je,"margin-inline":je,"margin-inline-end":je,"margin-inline-start":je,padding:je,"padding-bottom":je,"padding-left":je,"padding-right":je,"padding-top":je,"padding-block":je,"padding-block-end":je,"padding-block-start":je,"padding-inline":je,"padding-inline-end":je,"padding-inline-start":je,"mask-position-x":je,"mask-position-y":je,"mask-size":je,height:je,width:je,"min-height":je,"max-height":je,"min-width":je,"max-width":je,bottom:je,left:je,top:je,right:je,inset:je,"inset-block":je,"inset-block-end":je,"inset-block-start":je,"inset-inline":je,"inset-inline-end":je,"inset-inline-start":je,"box-shadow":je,"text-shadow":je,"column-gap":je,"column-rule":je,"column-rule-width":je,"column-width":je,"font-size":je,"font-size-delta":je,"letter-spacing":je,"text-decoration-thickness":je,"text-indent":je,"text-stroke":je,"text-stroke-width":je,"word-spacing":je,motion:je,"motion-offset":je,outline:je,"outline-offset":je,"outline-width":je,perspective:je,"perspective-origin-x":bl,"perspective-origin-y":bl,"transform-origin":bl,"transform-origin-x":bl,"transform-origin-y":bl,"transform-origin-z":bl,"transition-delay":oh,"transition-duration":oh,"vertical-align":je,"flex-basis":je,"shape-margin":je,size:je,gap:je,grid:je,"grid-gap":je,"row-gap":je,"grid-row-gap":je,"grid-column-gap":je,"grid-template-rows":je,"grid-template-columns":je,"grid-auto-rows":je,"grid-auto-columns":je,"box-shadow-x":je,"box-shadow-y":je,"box-shadow-blur":je,"box-shadow-spread":je,"font-line-height":je,"text-shadow-x":je,"text-shadow-y":je,"text-shadow-blur":je};function mT(r){var e=/(-[a-z])/g,n=function(a){return a[1].toUpperCase()},t={};for(var s in r)t[s]=r[s],t[s.replace(e,n)]=r[s];return t}var oU=mT(sU);function sd(r,e,n){if(e==null)return e;if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=sd(r,e[t],n);else if(typeof e=="object")if(r==="fallbacks")for(var s in e)e[s]=sd(s,e[s],n);else for(var i in e)e[i]=sd(r+"-"+i,e[i],n);else if(typeof e=="number"&&isNaN(e)===!1){var a=n[r]||oU[r];return a&&!(e===0&&a===je)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function aU(r){r===void 0&&(r={});var e=mT(r);function n(s,i){if(i.type!=="style")return s;for(var a in s)s[a]=sd(a,s[a],e);return s}function t(s,i){return sd(i,s,e)}return{onProcessStyle:n,onChangeValue:t}}var Ku="",h_="",gT="",vT="",cU=Ud&&"ontouchstart"in document.documentElement;if(Ud){var vv={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lU=document.createElement("p"),_v=lU.style,uU="Transform";for(var yv in vv)if(yv+uU in _v){Ku=yv,h_=vv[yv];break}Ku==="Webkit"&&"msHyphens"in _v&&(Ku="ms",h_=vv.ms,vT="edge"),Ku==="Webkit"&&"-apple-trailing-word"in _v&&(gT="apple")}var Lt={js:Ku,css:h_,vendor:gT,browser:vT,isTouch:cU};function dU(r){return r[1]==="-"||Lt.js==="ms"?r:"@"+Lt.css+"keyframes"+r.substr(10)}var fU={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Lt.js==="ms"?"-webkit-"+e:Lt.css+e}},hU={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Lt.js==="Webkit"?Lt.css+"print-"+e:e}},pU=/[-\s]+(.)?/g;function mU(r,e){return e?e.toUpperCase():""}function Dy(r){return r.replace(pU,mU)}function Qa(r){return Dy("-"+r)}var gU={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Lt.js==="Webkit"){var t="mask-image";if(Dy(t)in n)return e;if(Lt.js+Qa(t)in n)return Lt.css+e}return e}},vU={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Lt.vendor==="apple"&&!Lt.isTouch?Lt.css+e:e}},_U={noPrefill:["transform"],supportedProperty:function(e,n,t){return e!=="transform"?!1:t.transform?e:Lt.css+e}},yU={noPrefill:["transition"],supportedProperty:function(e,n,t){return e!=="transition"?!1:t.transition?e:Lt.css+e}},wU={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Lt.js==="Webkit"||Lt.js==="ms"&&Lt.browser!=="edge"?Lt.css+e:e}},bU={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Lt.js==="Moz"||Lt.js==="ms"||Lt.vendor==="apple"?Lt.css+e:e}},SU={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Lt.js==="Webkit"){var t="WebkitColumn"+Qa(e);return t in n?Lt.css+"column-"+e:!1}if(Lt.js==="Moz"){var s="page"+Qa(e);return s in n?"page-"+e:!1}return!1}},CU={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Lt.js==="Moz")return e;var t=e.replace("-inline","");return Lt.js+Qa(t)in n?Lt.css+t:!1}},kU={supportedProperty:function(e,n){return Dy(e)in n?e:!1}},xU={supportedProperty:function(e,n){var t=Qa(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Lt.js+t in n?Lt.css+e:Lt.js!=="Webkit"&&"Webkit"+t in n?"-webkit-"+e:!1}},EU={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Lt.js==="ms"?""+Lt.css+e:e}},TU={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Lt.js==="ms"?Lt.css+"scroll-chaining":e}},RU={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},PU={supportedProperty:function(e,n){var t=RU[e];return t&&Lt.js+Qa(t)in n?Lt.css+t:!1}},_T={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},OU=Object.keys(_T),DU=function(e){return Lt.css+e},MU={supportedProperty:function(e,n,t){var s=t.multiple;if(OU.indexOf(e)>-1){var i=_T[e];if(!Array.isArray(i))return Lt.js+Qa(i)in n?Lt.css+i:!1;if(!s)return!1;for(var a=0;a<i.length;a++)if(!(Lt.js+Qa(i[0])in n))return!1;return i.map(DU)}return!1}},yT=[fU,hU,gU,vU,_U,yU,wU,bU,SU,CU,kU,xU,EU,TU,PU,MU],Tk=yT.filter(function(r){return r.supportedProperty}).map(function(r){return r.supportedProperty}),AU=yT.filter(function(r){return r.noPrefill}).reduce(function(r,e){return r.push.apply(r,sT(e.noPrefill)),r},[]),Gu,Ac={};if(Ud){Gu=document.createElement("p");var wv=window.getComputedStyle(document.documentElement,"");for(var bv in wv)isNaN(bv)||(Ac[wv[bv]]=wv[bv]);AU.forEach(function(r){return delete Ac[r]})}function p_(r,e){if(e===void 0&&(e={}),!Gu)return r;if(Ac[r]!=null)return Ac[r];(r==="transition"||r==="transform")&&(e[r]=r in Gu.style);for(var n=0;n<Tk.length&&(Ac[r]=Tk[n](r,Gu.style,e),!Ac[r]);n++);try{Gu.style[r]=""}catch{return!1}return Ac[r]}var Sl={},jU={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},LU=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ha;function NU(r,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var t=e?p_(e):", "+p_(n);return t||e||n}Ud&&(Ha=document.createElement("p"));function Rk(r,e){var n=e;if(!Ha||r==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var t=r+n;if(Sl[t]!=null)return Sl[t];try{Ha.style[r]=n}catch{return Sl[t]=!1,!1}if(jU[r])n=n.replace(LU,NU);else if(Ha.style[r]===""&&(n=Lt.css+n,n==="-ms-flex"&&(Ha.style[r]="-ms-flexbox"),Ha.style[r]=n,Ha.style[r]===""))return Sl[t]=!1,!1;return Ha.style[r]="",Sl[t]=n,Sl[t]}function IU(){function r(s){if(s.type==="keyframes"){var i=s;i.at=dU(i.at)}}function e(s){for(var i in s){var a=s[i];if(i==="fallbacks"&&Array.isArray(a)){s[i]=a.map(e);continue}var u=!1,p=p_(i);p&&p!==i&&(u=!0);var c=!1,f=Rk(p,Uc(a));f&&f!==a&&(c=!0),(u||c)&&(u&&delete s[i],s[p||i]=f||a)}return s}function n(s,i){return i.type!=="style"?s:e(s)}function t(s,i){return Rk(i,Uc(s))||s}return{onProcessRule:r,onProcessStyle:n,onChangeValue:t}}function FU(){var r=function(n,t){return n.length===t.length?n>t?1:-1:n.length-t.length};return{onProcessStyle:function(n,t){if(t.type!=="style")return n;for(var s={},i=Object.keys(n).sort(r),a=0;a<i.length;a++)s[i[a]]=n[i[a]];return s}}}function BU(){return{plugins:[z$(),X$(),eU(),iU(),aU(),typeof window>"u"?null:IU(),FU()]}}function wT(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.baseClasses,n=r.newClasses;if(r.Component,!n)return e;var t=Ve({},e);return Object.keys(n).forEach(function(s){n[s]&&(t[s]="".concat(e[s]," ").concat(n[s]))}),t}var El={set:function(e,n,t,s){var i=e.get(n);i||(i=new Map,e.set(n,i)),i.set(t,s)},get:function(e,n,t){var s=e.get(n);return s?s.get(t):void 0},delete:function(e,n,t){var s=e.get(n);s.delete(t)}},$U=$e.createContext(null);function bT(){var r=$e.useContext($U);return r}var UU=uT(BU()),qU=s$(),HU=new Map,VU={disableGeneration:!1,generateClassName:qU,jss:UU,sheetsCache:null,sheetsManager:HU,sheetsRegistry:null},zU=$e.createContext(VU),Pk=-1e9;function WU(){return Pk+=1,Pk}var YU={};function KU(r){var e=typeof r=="function";return{create:function(t,s){var i;try{i=e?r(t):r}catch(p){throw p}if(!s||!t.overrides||!t.overrides[s])return i;var a=t.overrides[s],u=Ve({},i);return Object.keys(a).forEach(function(p){u[p]=Ll(u[p],a[p])}),u},options:{}}}function GU(r,e,n){var t=r.state,s=r.stylesOptions;if(s.disableGeneration)return e||{};t.cacheClasses||(t.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return t.classes!==t.cacheClasses.lastJSS&&(t.cacheClasses.lastJSS=t.classes,i=!0),e!==t.cacheClasses.lastProp&&(t.cacheClasses.lastProp=e,i=!0),i&&(t.cacheClasses.value=wT({baseClasses:t.cacheClasses.lastJSS,newClasses:e,Component:n})),t.cacheClasses.value}function JU(r,e){var n=r.state,t=r.theme,s=r.stylesOptions,i=r.stylesCreator,a=r.name;if(!s.disableGeneration){var u=El.get(s.sheetsManager,i,t);u||(u={refs:0,staticSheet:null,dynamicStyles:null},El.set(s.sheetsManager,i,t,u));var p=Ve({},i.options,s,{theme:t,flip:typeof s.flip=="boolean"?s.flip:t.direction==="rtl"});p.generateId=p.serverGenerateClassName||p.generateClassName;var c=s.sheetsRegistry;if(u.refs===0){var f;s.sheetsCache&&(f=El.get(s.sheetsCache,i,t));var d=i.create(t,a);f||(f=s.jss.createStyleSheet(d,Ve({link:!1},p)),f.attach(),s.sheetsCache&&El.set(s.sheetsCache,i,t,f)),c&&c.add(f),u.staticSheet=f,u.dynamicStyles=dT(d)}if(u.dynamicStyles){var h=s.jss.createStyleSheet(u.dynamicStyles,Ve({link:!0},p));h.update(e),h.attach(),n.dynamicSheet=h,n.classes=wT({baseClasses:u.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=u.staticSheet.classes;u.refs+=1}}function XU(r,e){var n=r.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function QU(r){var e=r.state,n=r.theme,t=r.stylesOptions,s=r.stylesCreator;if(!t.disableGeneration){var i=El.get(t.sheetsManager,s,n);i.refs-=1;var a=t.sheetsRegistry;i.refs===0&&(El.delete(t.sheetsManager,s,n),t.jss.removeStyleSheet(i.staticSheet),a&&a.remove(i.staticSheet)),e.dynamicSheet&&(t.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function ZU(r,e){var n=$e.useRef([]),t,s=$e.useMemo(function(){return{}},e);n.current!==s&&(n.current=s,t=r()),$e.useEffect(function(){return function(){t&&t()}},[s])}function ST(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.name,t=e.classNamePrefix,s=e.Component,i=e.defaultTheme,a=i===void 0?YU:i,u=ki(e,["name","classNamePrefix","Component","defaultTheme"]),p=KU(r),c=n||t||"makeStyles";p.options={index:WU(),name:n,meta:c,classNamePrefix:c};var f=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=bT()||a,R=Ve({},$e.useContext(zU),u),S=$e.useRef(),_=$e.useRef();ZU(function(){var C={name:n,state:{},stylesCreator:p,stylesOptions:R,theme:w};return JU(C,h),_.current=!1,S.current=C,function(){QU(C)}},[w,p]),$e.useEffect(function(){_.current&&XU(S.current,h),_.current=!0});var v=GU(S.current,h.classes,s);return v};return f}var eq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){var s=n.defaultTheme,i=n.withTheme,a=i===void 0?!1:i,u=n.name,p=ki(n,["defaultTheme","withTheme","name"]),c=u,f=ST(e,Ve({defaultTheme:s,Component:t,name:u||t.displayName,classNamePrefix:c},p)),d=$e.forwardRef(function(w,R){w.classes;var S=w.innerRef,_=ki(w,["classes","innerRef"]),v=f(Ve({},t.defaultProps,w)),C,T=_;return(typeof u=="string"||a)&&(C=bT()||s,u&&(T=o$({theme:C,name:u,props:_})),a&&!T.theme&&(T.theme=C)),$e.createElement(t,Ve({ref:S||R,classes:v},T))});return xP(d,t),d}},CT=t$();function tq(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ST(r,Ve({defaultTheme:CT},e))}function qd(r,e){return eq(r,Ve({defaultTheme:CT},e))}function jc(r){if(typeof r!="string")throw new Error(Nh(7));return r.charAt(0).toUpperCase()+r.slice(1)}function kT(r){var e,n,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(n=kT(r[e]))&&(t&&(t+=" "),t+=n);else for(e in r)r[e]&&(t&&(t+=" "),t+=e);return t}function Js(){for(var r,e,n=0,t="";n<arguments.length;)(r=arguments[n++])&&(e=kT(r))&&(t&&(t+=" "),t+=e);return t}function Sv(r,e){return le.isValidElement(r)&&e.indexOf(r.type.muiName)!==-1}function Ok(r,e){typeof r=="function"?r(e):r&&(r.current=e)}var rq=typeof window<"u"?le.useLayoutEffect:le.useEffect;function Ju(r){var e=le.useRef(r);return rq(function(){e.current=r}),le.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function Cv(r,e){return le.useMemo(function(){return r==null&&e==null?null:function(n){Ok(r,n),Ok(e,n)}},[r,e])}var Rp=!0,m_=!1,Dk=null,nq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function iq(r){var e=r.type,n=r.tagName;return!!(n==="INPUT"&&nq[e]&&!r.readOnly||n==="TEXTAREA"&&!r.readOnly||r.isContentEditable)}function sq(r){r.metaKey||r.altKey||r.ctrlKey||(Rp=!0)}function kv(){Rp=!1}function oq(){this.visibilityState==="hidden"&&m_&&(Rp=!0)}function aq(r){r.addEventListener("keydown",sq,!0),r.addEventListener("mousedown",kv,!0),r.addEventListener("pointerdown",kv,!0),r.addEventListener("touchstart",kv,!0),r.addEventListener("visibilitychange",oq,!0)}function cq(r){var e=r.target;try{return e.matches(":focus-visible")}catch{}return Rp||iq(e)}function lq(){m_=!0,window.clearTimeout(Dk),Dk=window.setTimeout(function(){m_=!1},100)}function uq(){var r=le.useCallback(function(e){var n=kd.findDOMNode(e);n!=null&&aq(n.ownerDocument)},[]);return{isFocusVisible:cq,onBlurVisible:lq,ref:r}}function My(r,e){var n=function(i){return e&&le.isValidElement(i)?e(i):i},t=Object.create(null);return r&&le.Children.map(r,function(s){return s}).forEach(function(s){t[s.key]=n(s)}),t}function dq(r,e){r=r||{},e=e||{};function n(f){return f in e?e[f]:r[f]}var t=Object.create(null),s=[];for(var i in r)i in e?s.length&&(t[i]=s,s=[]):s.push(i);var a,u={};for(var p in e){if(t[p])for(a=0;a<t[p].length;a++){var c=t[p][a];u[t[p][a]]=n(c)}u[p]=n(p)}for(a=0;a<s.length;a++)u[s[a]]=n(s[a]);return u}function Ic(r,e,n){return n[e]!=null?n[e]:r.props[e]}function fq(r,e){return My(r.children,function(n){return le.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ic(n,"appear",r),enter:Ic(n,"enter",r),exit:Ic(n,"exit",r)})})}function hq(r,e,n){var t=My(r.children),s=dq(e,t);return Object.keys(s).forEach(function(i){var a=s[i];if(le.isValidElement(a)){var u=i in e,p=i in t,c=e[i],f=le.isValidElement(c)&&!c.props.in;p&&(!u||f)?s[i]=le.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Ic(a,"exit",r),enter:Ic(a,"enter",r)}):!p&&u&&!f?s[i]=le.cloneElement(a,{in:!1}):p&&u&&le.isValidElement(c)&&(s[i]=le.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:Ic(a,"exit",r),enter:Ic(a,"enter",r)}))}}),s}var pq=Object.values||function(r){return Object.keys(r).map(function(e){return r[e]})},mq={component:"div",childFactory:function(e){return e}},Ay=function(r){Bd(e,r);function e(t,s){var i;i=r.call(this,t,s)||this;var a=i.handleExited.bind(Do(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var a=i.children,u=i.handleExited,p=i.firstRender;return{children:p?fq(s,u):hq(s,a,u),firstRender:!1}},n.handleExited=function(s,i){var a=My(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(u){var p=Ve({},u.children);return delete p[s.key],{children:p}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,u=Nr(s,["component","childFactory"]),p=this.state.contextValue,c=pq(this.state.children).map(a);return delete u.appear,delete u.enter,delete u.exit,i===null?$e.createElement(Ah.Provider,{value:p},c):$e.createElement(Ah.Provider,{value:p},$e.createElement(i,u,c))},e}($e.Component);Ay.propTypes={};Ay.defaultProps=mq;var gq=typeof window>"u"?le.useEffect:le.useLayoutEffect;function vq(r){var e=r.classes,n=r.pulsate,t=n===void 0?!1:n,s=r.rippleX,i=r.rippleY,a=r.rippleSize,u=r.in,p=r.onExited,c=p===void 0?function(){}:p,f=r.timeout,d=le.useState(!1),h=d[0],w=d[1],R=Js(e.ripple,e.rippleVisible,t&&e.ripplePulsate),S={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},_=Js(e.child,h&&e.childLeaving,t&&e.childPulsate),v=Ju(c);return gq(function(){if(!u){w(!0);var C=setTimeout(v,f);return function(){clearTimeout(C)}}},[v,u,f]),le.createElement("span",{className:R,style:S},le.createElement("span",{className:_}))}var g_=550,_q=80,yq=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(g_,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(g_,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},wq=le.forwardRef(function(e,n){var t=e.center,s=t===void 0?!1:t,i=e.classes,a=e.className,u=ki(e,["center","classes","className"]),p=le.useState([]),c=p[0],f=p[1],d=le.useRef(0),h=le.useRef(null);le.useEffect(function(){h.current&&(h.current(),h.current=null)},[c]);var w=le.useRef(!1),R=le.useRef(null),S=le.useRef(null),_=le.useRef(null);le.useEffect(function(){return function(){clearTimeout(R.current)}},[]);var v=le.useCallback(function(k){var N=k.pulsate,y=k.rippleX,F=k.rippleY,I=k.rippleSize,U=k.cb;f(function(K){return[].concat(sT(K),[le.createElement(vq,{key:d.current,classes:i,timeout:g_,pulsate:N,rippleX:y,rippleY:F,rippleSize:I})])}),d.current+=1,h.current=U},[i]),C=le.useCallback(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2?arguments[2]:void 0,F=N.pulsate,I=F===void 0?!1:F,U=N.center,K=U===void 0?s||N.pulsate:U,Q=N.fakeElement,oe=Q===void 0?!1:Q;if(k.type==="mousedown"&&w.current){w.current=!1;return}k.type==="touchstart"&&(w.current=!0);var Z=oe?null:_.current,de=Z?Z.getBoundingClientRect():{width:0,height:0,left:0,top:0},ye,q,ee;if(K||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)ye=Math.round(de.width/2),q=Math.round(de.height/2);else{var ce=k.touches?k.touches[0]:k,ve=ce.clientX,fe=ce.clientY;ye=Math.round(ve-de.left),q=Math.round(fe-de.top)}if(K)ee=Math.sqrt((2*Math.pow(de.width,2)+Math.pow(de.height,2))/3),ee%2===0&&(ee+=1);else{var ke=Math.max(Math.abs((Z?Z.clientWidth:0)-ye),ye)*2+2,Re=Math.max(Math.abs((Z?Z.clientHeight:0)-q),q)*2+2;ee=Math.sqrt(Math.pow(ke,2)+Math.pow(Re,2))}k.touches?S.current===null&&(S.current=function(){v({pulsate:I,rippleX:ye,rippleY:q,rippleSize:ee,cb:y})},R.current=setTimeout(function(){S.current&&(S.current(),S.current=null)},_q)):v({pulsate:I,rippleX:ye,rippleY:q,rippleSize:ee,cb:y})},[s,v]),T=le.useCallback(function(){C({},{pulsate:!0})},[C]),M=le.useCallback(function(k,N){if(clearTimeout(R.current),k.type==="touchend"&&S.current){k.persist(),S.current(),S.current=null,R.current=setTimeout(function(){M(k,N)});return}S.current=null,f(function(y){return y.length>0?y.slice(1):y}),h.current=N},[]);return le.useImperativeHandle(n,function(){return{pulsate:T,start:C,stop:M}},[T,C,M]),le.createElement("span",Ve({className:Js(i.root,a),ref:_},u),le.createElement(Ay,{component:null,exit:!0},c))});const bq=qd(yq,{flip:!1,name:"MuiTouchRipple"})(le.memo(wq));var Sq={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},Cq=le.forwardRef(function(e,n){var t=e.action,s=e.buttonRef,i=e.centerRipple,a=i===void 0?!1:i,u=e.children,p=e.classes,c=e.className,f=e.component,d=f===void 0?"button":f,h=e.disabled,w=h===void 0?!1:h,R=e.disableRipple,S=R===void 0?!1:R,_=e.disableTouchRipple,v=_===void 0?!1:_,C=e.focusRipple,T=C===void 0?!1:C,M=e.focusVisibleClassName,k=e.onBlur,N=e.onClick,y=e.onFocus,F=e.onFocusVisible,I=e.onKeyDown,U=e.onKeyUp,K=e.onMouseDown,Q=e.onMouseLeave,oe=e.onMouseUp,Z=e.onTouchEnd,de=e.onTouchMove,ye=e.onTouchStart,q=e.onDragLeave,ee=e.tabIndex,ce=ee===void 0?0:ee,ve=e.TouchRippleProps,fe=e.type,ke=fe===void 0?"button":fe,Re=ki(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Ue=le.useRef(null);function qe(){return kd.findDOMNode(Ue.current)}var Je=le.useRef(null),kt=le.useState(!1),Xt=kt[0],qt=kt[1];w&&Xt&&qt(!1);var pr=uq(),kn=pr.isFocusVisible,Jt=pr.onBlurVisible,br=pr.ref;le.useImperativeHandle(t,function(){return{focusVisible:function(){qt(!0),Ue.current.focus()}}},[]),le.useEffect(function(){Xt&&T&&!S&&Je.current.pulsate()},[S,T,Xt]);function Qt(pt,Qn){var Ti=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v;return Ju(function(ps){Qn&&Qn(ps);var Wr=Ti;return!Wr&&Je.current&&Je.current[pt](ps),!0})}var on=Qt("start",K),cr=Qt("stop",q),xr=Qt("stop",oe),en=Qt("stop",function(pt){Xt&&pt.preventDefault(),Q&&Q(pt)}),jr=Qt("start",ye),vn=Qt("stop",Z),xn=Qt("stop",de),Ir=Qt("stop",function(pt){Xt&&(Jt(pt),qt(!1)),k&&k(pt)},!1),Ct=Ju(function(pt){Ue.current||(Ue.current=pt.currentTarget),kn(pt)&&(qt(!0),F&&F(pt)),y&&y(pt)}),nr=function(){var Qn=qe();return d&&d!=="button"&&!(Qn.tagName==="A"&&Qn.href)},Qe=le.useRef(!1),Yt=Ju(function(pt){T&&!Qe.current&&Xt&&Je.current&&pt.key===" "&&(Qe.current=!0,pt.persist(),Je.current.stop(pt,function(){Je.current.start(pt)})),pt.target===pt.currentTarget&&nr()&&pt.key===" "&&pt.preventDefault(),I&&I(pt),pt.target===pt.currentTarget&&nr()&&pt.key==="Enter"&&!w&&(pt.preventDefault(),N&&N(pt))}),mr=Ju(function(pt){T&&pt.key===" "&&Je.current&&Xt&&!pt.defaultPrevented&&(Qe.current=!1,pt.persist(),Je.current.stop(pt,function(){Je.current.pulsate(pt)})),U&&U(pt),N&&pt.target===pt.currentTarget&&nr()&&pt.key===" "&&!pt.defaultPrevented&&N(pt)}),lr=d;lr==="button"&&Re.href&&(lr="a");var $n={};lr==="button"?($n.type=ke,$n.disabled=w):((lr!=="a"||!Re.href)&&($n.role="button"),$n["aria-disabled"]=w);var Gi=Cv(s,n),Vr=Cv(br,Ue),Bt=Cv(Gi,Vr),Sr=le.useState(!1),zr=Sr[0],_n=Sr[1];le.useEffect(function(){_n(!0)},[]);var Xn=zr&&!S&&!w;return le.createElement(lr,Ve({className:Js(p.root,c,Xt&&[p.focusVisible,M],w&&p.disabled),onBlur:Ir,onClick:N,onFocus:Ct,onKeyDown:Yt,onKeyUp:mr,onMouseDown:on,onMouseLeave:en,onMouseUp:xr,onDragLeave:cr,onTouchEnd:vn,onTouchMove:xn,onTouchStart:jr,ref:Bt,tabIndex:w?-1:ce},$n,Re),u,Xn?le.createElement(bq,Ve({ref:Je,center:a},ve)):null)});const kq=qd(Sq,{name:"MuiButtonBase"})(Cq);var xq=function(e){return{root:Ve({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Oc(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Oc(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Oc(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Oc(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Oc(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Oc(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Oc(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},Eq=le.forwardRef(function(e,n){var t=e.children,s=e.classes,i=e.className,a=e.color,u=a===void 0?"default":a,p=e.component,c=p===void 0?"button":p,f=e.disabled,d=f===void 0?!1:f,h=e.disableElevation,w=h===void 0?!1:h,R=e.disableFocusRipple,S=R===void 0?!1:R,_=e.endIcon,v=e.focusVisibleClassName,C=e.fullWidth,T=C===void 0?!1:C,M=e.size,k=M===void 0?"medium":M,N=e.startIcon,y=e.type,F=y===void 0?"button":y,I=e.variant,U=I===void 0?"text":I,K=ki(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),Q=N&&le.createElement("span",{className:Js(s.startIcon,s["iconSize".concat(jc(k))])},N),oe=_&&le.createElement("span",{className:Js(s.endIcon,s["iconSize".concat(jc(k))])},_);return le.createElement(kq,Ve({className:Js(s.root,s[U],i,u==="inherit"?s.colorInherit:u!=="default"&&s["".concat(U).concat(jc(u))],k!=="medium"&&[s["".concat(U,"Size").concat(jc(k))],s["size".concat(jc(k))]],w&&s.disableElevation,d&&s.disabled,T&&s.fullWidth),component:c,disabled:d,focusRipple:!S,focusVisibleClassName:Js(s.focusVisible,v),ref:n,type:F},K),le.createElement("span",{className:s.label},Q,t,oe))});const Tq=qd(xq,{name:"MuiButton"})(Eq);var xT=le.createContext();function Rq(){return le.useContext(xT)}function Pq(r){var e=r.props,n=r.states,t=r.muiFormControl;return n.reduce(function(s,i){return s[i]=e[i],t&&typeof e[i]>"u"&&(s[i]=t[i]),s},{})}function Mk(r){return r!=null&&!(Array.isArray(r)&&r.length===0)}function Oq(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r&&(Mk(r.value)&&r.value!==""||e&&Mk(r.defaultValue)&&r.defaultValue!=="")}function Dq(r){return r.startAdornment}var Mq={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},Aq=le.forwardRef(function(e,n){var t=e.children,s=e.classes,i=e.className,a=e.color,u=a===void 0?"primary":a,p=e.component,c=p===void 0?"div":p,f=e.disabled,d=f===void 0?!1:f,h=e.error,w=h===void 0?!1:h,R=e.fullWidth,S=R===void 0?!1:R,_=e.focused,v=e.hiddenLabel,C=v===void 0?!1:v,T=e.margin,M=T===void 0?"none":T,k=e.required,N=k===void 0?!1:k,y=e.size,F=e.variant,I=F===void 0?"standard":F,U=ki(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),K=le.useState(function(){var qe=!1;return t&&le.Children.forEach(t,function(Je){if(Sv(Je,["Input","Select"])){var kt=Sv(Je,["Select"])?Je.props.input:Je;kt&&Dq(kt.props)&&(qe=!0)}}),qe}),Q=K[0],oe=K[1],Z=le.useState(function(){var qe=!1;return t&&le.Children.forEach(t,function(Je){Sv(Je,["Input","Select"])&&Oq(Je.props,!0)&&(qe=!0)}),qe}),de=Z[0],ye=Z[1],q=le.useState(!1),ee=q[0],ce=q[1],ve=_!==void 0?_:ee;d&&ve&&ce(!1);var fe,ke=le.useCallback(function(){ye(!0)},[]),Re=le.useCallback(function(){ye(!1)},[]),Ue={adornedStart:Q,setAdornedStart:oe,color:u,disabled:d,error:w,filled:de,focused:ve,fullWidth:S,hiddenLabel:C,margin:(y==="small"?"dense":void 0)||M,onBlur:function(){ce(!1)},onEmpty:Re,onFilled:ke,onFocus:function(){ce(!0)},registerEffect:fe,required:N,variant:I};return le.createElement(xT.Provider,{value:Ue},le.createElement(c,Ve({className:Js(s.root,i,M!=="none"&&s["margin".concat(jc(M))],S&&s.fullWidth),ref:n},U),t))});const Ak=qd(Mq,{name:"MuiFormControl"})(Aq);var jq=function(e){return{root:Ve({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},Lq=le.forwardRef(function(e,n){var t=e.children,s=e.classes,i=e.className;e.color;var a=e.component,u=a===void 0?"label":a;e.disabled,e.error,e.filled,e.focused,e.required;var p=ki(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),c=Rq(),f=Pq({props:e,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]});return le.createElement(u,Ve({className:Js(s.root,s["color".concat(jc(f.color||"primary"))],i,f.disabled&&s.disabled,f.error&&s.error,f.filled&&s.filled,f.focused&&s.focused,f.required&&s.required),ref:n},p),t,f.required&&le.createElement("span",{"aria-hidden":!0,className:Js(s.asterisk,f.error&&s.error)}," ","*"))});const jk=qd(jq,{name:"MuiFormLabel"})(Lq);class Nq extends $e.Component{constructor(e){super(e),this.call_data=this.props.call,this.subscription=Fx(),this.plan=this.subscription?this.subscription.plan:{},this.plan=this.plan||{},this.call_max_minutes=this.plan.call_max_minutes||40,this.existing_minutes=this.props.call_options.timing.duration_minutes,this.state={max_addable_hours:0,max_addable_minutes:0,minutes_selected:0,hours_selected:0,error:""}}componentDidMount(){this.attachBusListeners()}componentWillUnmount(){this.setState=(e,n)=>{},this.hideMe()}attachBusListeners(){Ae.on("add_to_call__update_call",e=>{for(var n in e)this.call_data[n]=e[n]}),Ae.on("time__show",()=>{this.prepareThings(),this.showMe()})}onMinutesSelected(e){this.setState({minutes_selected:e.target.value})}onHoursSelected(e){this.setState({hours_selected:e.target.value})}prepareThings(){this.resetThings();var e=this.call_max_minutes-this.existing_minutes,n=0,t=0;e<=0?this.setState({error:"You subscription plan doesn't allow meeting to be extended more"}):(t=e<60?e:60,n=Math.floor(e/60)),this.setState({max_addable_minutes:t,max_addable_hours:n})}addTime(){var e=this.state.hours_selected,n=this.state.minutes_selected;const t=e*60+Number(n);if(t<=0){this.hideMe();return}t+this.existing_minutes,this.props.updateRoomAppData(s=>{var i=s.duration_minutes?s.duration_minutes:this.props.call.duration_minutes;return s.duration_minutes=i+t,s}),ht.success(Fe.t("Time added successfully"),{position:"bottom-left",className:"call-toast"}),this.hideMe()}showMe(){it(".add-time-container").modal("show")}hideMe(){it(".add-time-container").modal("hide")}resetThings(){this.setState({error:"",minutes_selected:0,hours_selected:0})}render(){const{t:e}=this.props;return A.jsxs("div",{className:"add-time-container modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:e("Add Time")}),A.jsx("div",{className:"popup-close",onClick:this.hideMe.bind(this),children:A.jsx("i",{className:"fas fa-times icon"})})]}),this.state.error&&A.jsx("p",{className:"error",children:this.state.error}),A.jsxs(Ak,{className:"customFormControl select-container hours-container",children:[A.jsx("label",{children:e("hours")}),A.jsx("select",{id:"add-hours-select",className:"add-time-select",disabled:!this.state.max_addable_hours,value:this.state.hours_selected,onChange:this.onHoursSelected.bind(this),children:[...Array(this.state.max_addable_hours).keys()].map(n=>A.jsxs("option",{value:n,children:[n," "]}))})]}),A.jsxs(Ak,{className:"customFormControl select-container minutes-container",children:[A.jsx("label",{children:e("minutes")}),A.jsx("select",{id:"add-minutes-select",className:"add-time-select",disabled:!this.state.max_addable_minutes,value:this.state.minutes_selected,onChange:this.onMinutesSelected.bind(this),children:[...Array(this.state.max_addable_minutes).keys()].map(n=>A.jsxs("option",{value:n,children:[" ",n," "]}))})]}),A.jsx("div",{className:"options",children:A.jsx(Tq,{className:"button success-btn",type:"submit",variant:"contained",color:"secondary",style:{backgroundColor:"#2d74da"},fullWidth:!0,disabled:this.state.error,onClick:this.addTime.bind(this),children:e("Add Time")})})]})})]})}}ls()(Nq);const Iq="/assets/chrome_permission-B5onObhk.png",Fq=tq(r=>({mobile_img:{width:"95%"}}));function Bq(){const r=Fq(),{t:e,i18n:n}=zh();le.useEffect(()=>{t()},[]);const t=()=>{it(".permission-allow-modal").modal("show")},s=()=>{it(".permission-allow-modal").modal("hide")};return A.jsxs("div",{className:"modal fade permission-allow-modal",role:"dialog",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:e("Camera and microphone access")}),A.jsx("div",{className:"popup-close",onClick:s,children:A.jsx("i",{className:"fas fa-times"})})]}),A.jsxs("div",{className:r.rootMain,style:{display:"block",textAlign:"center"},children:[A.jsx(jk,{style:{color:"#0057D3",textAlign:"left"},className:"privacyMargin-20",children:e("If you see a popup like the one above asking for permission to use these devices, make sure to allow access.")}),A.jsx(jk,{style:{color:"#0057D3",textAlign:"left"},className:"privacyMargin-20",children:e("We need access of camera and microphone to continue.")}),A.jsx("img",{src:Iq,style:{marginTop:"15px"},className:window.innerWidth>768?"":r.mobile_img})]})]})})]})}class ET extends $e.Component{constructor(e){super(e)}componentDidMount(){}componentWillUnmount(){this.setState=(e,n)=>{}}goToNextPage(){window.call_helpers.goToNextPage()}goToPreviousPage(){window.call_helpers.goToPreviousPage()}render(){return A.jsxs("div",{className:"user-streams-container",children:[this.props.pagination.total_pages>1&&A.jsx("button",{className:"pagination-btn previous-btn",disabled:this.props.pagination.is_page_underway||this.props.pagination.is_first_page,onClick:this.goToPreviousPage,children:A.jsx("i",{class:"fas fa-arrow-left"})}),A.jsx("div",{className:"streams-container",children:this.props.user_streams.map(e=>A.jsx(bp,{identifier:e.user_id+"_user",stream:e.stream,user_id:e.user_id,participant:e.participant,is_waiting:e.is_waiting,rtc_client:this.props.rtc_client,current_user:this.props.current_user,memorized_video_props:{muted:!0},className:"media_element"},e.user_id))}),this.props.pagination.total_pages>1&&A.jsx("button",{className:"pagination-btn next-btn",disabled:this.props.pagination.is_page_underway||this.props.pagination.is_last_page||this.props.user_streams.length==this.props.participants_ids.length,onClick:this.goToNextPage,children:A.jsx("i",{class:"fas fa-arrow-right"})})]})}}class $q extends $e.Component{constructor(e){super(e),this.bus_events_ids=[],this.adjustDesignBinded=this.adjustDesign.bind(this)}componentDidMount(){this.attachEventListeners(),this.attachBusListeners()}componentWillUnmount(){this.removeBusListeners(),this.removeEventListeners(),this.setState=(e,n)=>{}}attachEventListeners(){window.addEventListener("resize",this.adjustDesignBinded)}attachBusListeners(){var e=this.bus_events_ids;e[e.length]=Ae.on("call__back_in_call",()=>{this.adjustDesign()}),e[e.length]=Ae.on("call_user_stream__adjust_design",()=>{this.adjustDesign()})}removeEventListeners(){window.removeEventListener("resize",this.adjustDesignBinded)}removeBusListeners(){this.bus_events_ids.forEach(e=>{Ae.remove(e)})}adjustDesign(){let e=it(".streams-container").find(" > .user-stream-item");const n=this.calculateGridItemSize();let{cols:t,rows:s,height:i}=n;e.length==1&&(i=it(".streams-container").height()/2,t=2),t==1&&(t=2),i=i-4,it(".streams-container").css("grid-template-columns",`repeat(${t}, 1fr)`),it(".streams-container").css("grid-template-rows",""),e.css("height",i+"px")}calculateGridItemSize(){let e=it(".streams-container").find(" > .user-stream-item"),n=[];const t=it(".streams-container").width(),s=it(".streams-container").height(),i=t/14,a=s/9;for(let u=1;u<=this.props.pagination.per_page_streams;u++){let p=Math.ceil(e.length/u);const c=Math.min(i/u,a/p);n.push({cols:u,rows:p,size:c,height:s/p})}return n.reduce((u,p)=>u.size>=p.size?u:p,{})}render(){return A.jsx("div",{className:"gallery-view w-100 h-100",children:A.jsx(ET,{user_streams:this.props.user_streams,pagination:this.props.pagination,force_update:this.props.streams_force_update,participants_ids:this.props.participants_ids,rtc_client:this.props.rtc_client,current_user:this.props.current_user})})}}class Uq extends $e.Component{constructor(e){super(e),this.speaker_streams={},this.speaker_streams_user_ids=[],this.bus_events_ids=[],this.component_active=!1,this.state={speaker_stream:{}}}componentDidMount(){this.component_active=!0,this.attachCallListeners(),this.attachBusListeners(),this.selectSpeakerStream()}componentWillUnmount(){this.component_active=!1,this.removeBusListeners(),this.setState=(e,n)=>{}}attachCallListeners(){this.props.rtc_client.onUserVideoStream=this.onUserVideoStream.bind(this),this.props.rtc_client.onUserVideoStreamEnded=this.onUserVideoStreamEnded.bind(this),this.props.rtc_client.onVideoSwitched=this.onVideoSwitched.bind(this),this.props.rtc_client.onAudioSwitched=this.onAudioSwitched.bind(this),this.props.rtc_client.onSpeaking=this.onSpeaking.bind(this),this.props.rtc_client.onLeft=this.onLeft.bind(this)}attachBusListeners(){this.bus_events_ids[this.bus_events_ids.length]=Ae.on("call__get_page_streams_underway",e=>{this.onPageStreamsUnderway(e)}),this.bus_events_ids[this.bus_events_ids.length]=Ae.on("call_video_effects__applied_effects_to_stream",e=>{this.onAppliedEffectsToStream(e)}),this.bus_events_ids[this.bus_events_ids.length]=Ae.on("call_video_effects__removed_effects_from_stream",e=>{this.onRemovedEffectsFromStream(e)})}removeBusListeners(){this.bus_events_ids.forEach(e=>{Ae.remove(e)})}onUserVideoStream({stream:e,user_id:n}){console.log("SpeakerView onUserVideoStream","user_id",n,"speaker_streams",this.speaker_streams,"speaker_streams[user_id]",this.speaker_streams[n]),this.speaker_streams[n]&&this.addSpeakerStream({stream:e,user_id:n})}onUserVideoStreamEnded({stream:e}){e&&this.state.speaker_stream.stream&&e.id==this.state.speaker_stream.stream.id&&(this.state.speaker_stream.stream=null,this.setState({speaker_stream:this.state.speaker_stream}))}onAudioSwitched({user_id:e,is_audio_on:n}){n?this.getSpeakerStream({user_id:e}):this.removeSpeakerStream({user_id:e})}onVideoSwitched({user_id:e,is_video_on:n}){e==this.state.speaker_stream.user_id&&(n||this.addSpeakerStream({stream:null,user_id:e}))}onSpeaking({user_id:e}){e==this.props.current_user.id&&!this.props.rtc_client.is_audio_on||this.selectSpeakerStream({user_id:e})}onLeft({user_id:e}){this.removeSpeakerStream({user_id:e})}onPageStreamsUnderway({page_participants_ids:e}){var n=this.state.speaker_stream.user_id;n&&(e.includes(n)||(console.log("onPageStreamsUnderway",n,e),this.getSpeakerStream({user_id:n})))}onAppliedEffectsToStream({effected_stream:e}){console.log("speakerView onAppliedEffectsToStream",e,this.speaker_streams_user_ids);var n=this.props.current_user.id;this.speaker_streams[n]&&this.addSpeakerStream({stream:e,user_id:n})}onRemovedEffectsFromStream(){console.log("speakerView onRemovedEffectsFromStream",this.speaker_streams_user_ids);var e=this.props.current_user.id;this.speaker_streams[e]&&this.addSpeakerStream({stream:this.props.rtc_client.stream,user_id:e})}getSpeakerStream({user_id:e}){if(this.component_active&&e){var n=this.addSpeakerStream({user_id:e});return this.speaker_streams_user_ids.includes(e)||this.speaker_streams_user_ids.push(e),this.props.rtc_client.getUserVideoStream({user_id:e}),n}}addSpeakerStream({stream:e,user_id:n,select_speaker_stream:t=!0}){if(console.log("addSpeakerStream",e,n),!!n){var s=this.props.participants[n],i=this.speaker_streams,a=i[n];return n==this.props.current_user.id&&(e=window.call_helpers.getCurrentUserStream({stream:e})),a?(console.log("addSpeakerStream updated stream"),a.stream=e||{}):(console.log("addSpeakerStream added stream"),a={stream:e||{},user_id:n,participant:s},i[n]=a),this.speaker_streams=i,this.state.speaker_stream.user_id==n&&this.setState({speaker_stream:a}),t&&this.selectSpeakerStream({force_update:!0}),this.keepFewSpeakerStreams(),a}}keepFewSpeakerStreams(){console.log("keepFewSpeakerStreams",this.speaker_streams_user_ids,this.speaker_streams);for(var e=0,n=3,t=this.speaker_streams_user_ids.length-1;t>=0;t--){var s=this.speaker_streams_user_ids[t];e++,console.log("keepFewSpeakerStream",s,e,t),!(e<=n)&&this.removeSpeakerStream({user_id:s})}}removeSpeakerStream({user_id:e}){console.log("removeSpeakerStream",e),delete this.speaker_streams[e];var n=this.speaker_streams_user_ids.indexOf(e);n!==-1&&this.speaker_streams_user_ids.splice(n,1),this.state.speaker_stream.user_id==e&&this.setState({speaker_stream:{}},()=>this.selectSpeakerStream()),window.call_helpers&&window.call_helpers.mayBeDropUserStream({user_id:e})}selectSpeakerStream({user_id:e=0,force_update:n}={}){var t=this.speaker_streams[e]||this.getSpeakerStream({user_id:e}),s=this.state.speaker_stream.stream?this.state.speaker_stream:!1,i=Object.values(this.speaker_streams)[0],a=this.props.user_streams[0];t=t||s||i||a;var u=t.user_id||0;!n&&e==this.state.speaker_stream.user_id||(this.addSpeakerStream({stream:t.stream,user_id:u,select_speaker_stream:!1}),this.setState({speaker_stream:t}))}render(){return A.jsxs("div",{className:"speaker-view w-100 h-100 "+(this.props.participants_ids.length==1?"only-me":""),children:[this.props.user_streams.length>=1&&A.jsx("div",{className:"other-streams",children:A.jsx(ET,{user_streams:this.props.user_streams,pagination:this.props.pagination,force_update:this.props.streams_force_update,participants_ids:this.props.participants_ids,rtc_client:this.props.rtc_client,current_user:this.props.current_user})}),A.jsx("div",{className:"speaker-stream",children:A.jsx(bp,{identifier:"speaker_view_speaker",stream:this.state.speaker_stream.stream,user_id:this.state.speaker_stream.user_id,participant:this.state.speaker_stream.participant,rtc_client:this.props.rtc_client,current_user:this.props.current_user,memorized_video_props:{muted:!0},className:"media_element"})})]})}}let qq=class extends $e.Component{constructor(e){super(e),this.speaker_view_ref=$e.createRef(),this.bus_events_ids=[],this.state={pagination:{page_number:1,per_page_streams:window.innerWidth>800?5:3,total_pages:1,is_page_underway:!1,is_initial:!0},video_streams:[]},window.call_helpers.addWaitingUser=this.addWaitingUser.bind(this),window.call_helpers.getPageStreams=this.getPageStreams.bind(this),window.call_helpers.getCurrentUserStream=this.getCurrentUserStream.bind(this),window.call_helpers.mayBeGetUserStream=this.mayBeGetUserStream.bind(this),window.call_helpers.mayBeDropUserStream=this.mayBeDropUserStream.bind(this),window.call_helpers.goToNextPage=this.goToNextPage.bind(this),window.call_helpers.goToPreviousPage=this.goToPreviousPage.bind(this)}componentDidMount(){this.attachCallListeners(),this.attachBusListeners(),this.onJoined({user_id:this.props.current_user.id})}componentWillUnmount(){this.removeBusListeners(),this.setState=(e,n)=>{}}attachCallListeners(){this.props.rtc_client.onJoined=this.onJoined.bind(this),this.props.rtc_client.onLeft=this.onLeft.bind(this),this.props.rtc_client.onUserVideoStream=this.onUserVideoStream.bind(this),this.props.rtc_client.onUserVideoStreamEnded=this.onUserVideoStreamEnded.bind(this),this.props.rtc_client.onVideoSwitched=this.onVideoSwitched.bind(this),this.props.rtc_client.onPotentialUserVideo=this.onPotentialUserVideo.bind(this),this.props.rtc_client.onRoomTypeChanged=this.onRoomTypeChanged.bind(this)}attachBusListeners(){this.bus_events_ids[this.bus_events_ids.length]=Ae.on("call_video_effects__applied_effects_to_stream",e=>{this.onAppliedEffectsToStream(e)}),this.bus_events_ids[this.bus_events_ids.length]=Ae.on("call_video_effects__removed_effects_from_stream",e=>{this.onRemovedEffectsFromStream(e)})}removeBusListeners(){this.bus_events_ids.forEach(e=>{Ae.remove(e)})}async onJoined(e){var{user_id:n}=e,t=this.props.rtc_client.participants_ids,s=Math.ceil(t.length/this.state.pagination.per_page_streams),i=this.state.pagination.page_number;await this.updatePaginationState({total_pages:s,is_last_page:i==s,is_first_page:i==1}),n==this.props.current_user.id?(this.addToUserStreams({user_id:n,stream:this.props.rtc_client.stream}),this.props.getRecentShareScreenStream()||this.getPageStreams()):this.mayBeGetUserStream({user_id:n,get_fresh:!0})}async onLeft(e){var{user_id:n}=e;if(this.removeFromUserStreams({user_id:n}),n!=this.props.current_user.id){var t=this.props.rtc_client.participants_ids,s=Math.ceil(t.length/this.state.pagination.per_page_streams),i=this.state.pagination.page_number;await this.updatePaginationState({total_pages:s,is_last_page:i==s,is_first_page:i==1});var a=this.getPageParticipantsIds();a.length?this.getPageStreams():this.goToPreviousPage()}}onUserVideoStream(e){this.mayBeAddToUserStreams(e)}onUserVideoStreamEnded({user_id:e}){this.removeFromUserStreams({user_id:e,just_remove_stream:!0})}onVideoSwitched(e){var{user_id:n}=e;n==this.props.current_user.id&&this.mayBeAddToUserStreams({user_id:n,stream:this.props.rtc_client.stream})}onPotentialUserVideo({user_id:e}){this.mayBeGetUserStream({user_id:e,get_fresh:!0})}onRoomTypeChanged(){this.getPageStreams()}onAppliedEffectsToStream(e){var{effected_stream:n}=e;this.mayBeAddToUserStreams({user_id:this.props.current_user.id,stream:n})}onRemovedEffectsFromStream(){this.mayBeAddToUserStreams({user_id:this.props.current_user.id,stream:this.props.rtc_client.stream})}getPageParticipantsIds({page_number:e}={}){var{page_number:n,per_page_streams:t}=this.state.pagination;e||(e=n);for(var s=e*t,i=s-t,a=[],u=i;u<s;u++)this.props.participants_ids[u]&&a.push(this.props.participants_ids[u]);return console.log("getPageParticipantsIds",e,t,i,s,a,this.props.participants_ids),a}getUserStream(e){var{user_id:n}=e;console.log("getUserStream",n),this.addToUserStreams({user_id:n}),this.props.rtc_client.getUserVideoStream(e)}mayBeGetUserStream(e){var{user_id:n}=e,t=this.getPageParticipantsIds();t.includes(n)&&this.getUserStream(e)}addWaitingUser(e){var{user:n}=e;this.state.video_streams.length>=this.state.pagination.per_page_streams||(this.addToUserStreams({user_id:n.id,is_waiting:!0,participant:{user:n}}),setTimeout(()=>{var{user_stream:t}=this.getFromUserStreams({user_id:n.id});!t||!t.is_waiting||this.removeFromUserStreams({user_id:n.id})},4e4))}getPageStreams(e){var{page_number:n}=e||{};console.log("getPageStreams");var{page_number:t,per_page_streams:s}=this.state.pagination;n||(n=t),this.updatePaginationState({page_number:n});var i=this.getPageParticipantsIds({page_number:n});Ae.dispatch("call__get_page_streams_underway",{page_participants_ids:i});var a=n*s,u=a-s;console.log("getPageStreams info",n,u,a);for(var p=u;p<a;p++){var c=this.props.participants_ids[p];if(typeof c=="number"||typeof c=="string"&&!c.match("_live_stream")){var{user_stream:f}=this.getFromUserStreams({user_id:c});if(console.log("getPageStreams user_id",c,"user_stream",f,f&&f.stream&&f.stream.id),!c||f&&f.stream&&f.stream.id)continue;this.getUserStream({user_id:c})}}this.state.pagination.is_initial||(this.updatePaginationState({is_page_underway:!0}),setTimeout(()=>{this.updatePaginationState({is_page_underway:!1})},2e3))}dropPageStreams(e){var{page_number:n=this.state.pagination.page_number}=e||{};if(console.log("dropPageStreams",n),!(!n||n<1)){var{page_number:t,per_page_streams:s}=this.state.pagination;n||(n=t);for(var i=n*s,a=i-s,u=a;u<i;u++){var p=this.props.participants_ids[u];console.log("dropPageStream",p),p&&(this.mayBeDropUserStream({user_id:p,check_user_streams:!1}),this.removeFromUserStreams({user_id:p}))}}}dropNonPageStreams(){var e=this.getPageParticipantsIds(),n=JSON.parse(JSON.stringify(this.state.video_streams));console.log("dropNonPageStreams",e,n),n.forEach(t=>{var s=t.user_id;console.log("dropNonPageStreams",s),!(e.includes(s)||t.is_waiting)&&this.mayBeDropUserStream({user_id:s,remove_from_user_streams:!0,check_user_streams:!1})})}goToNextPage(){var e=this.state.pagination.page_number+1;e>this.state.pagination.total_pages||this.goToPage({page_number:e})}goToPreviousPage(){var e=this.state.pagination.page_number-1;e<1||this.goToPage({page_number:e})}async goToPage({page_number:e}){console.log("goToPage",e);var n=this.state.pagination.page_number,t=this.state.pagination.total_pages;await this.updatePaginationState({is_initial:!1,is_last_page:e==t,is_first_page:e==1}),e!=n&&this.dropPageStreams({page_number:n}),this.getPageStreams({page_number:e})}getCurrentUserStream({stream:e}){if(this.props.video_effects_ref){var n=this.props.video_effects_ref.current,t=n?n.state.effected_stream:{};return t.id?t:e}}mayBeAddToUserStreams(e){var{user_id:n}=e,t=this.getPageParticipantsIds();console.log("mayBeAddToUserStreams","params",e,"page_participants_ids",t,"page_number",this.state.pagination.page_number),t.includes(n)&&this.addToUserStreams(e)}addToUserStreams(e){var{stream:n,user_id:t,is_waiting:s,participant:i}=e,i=i||this.props.participants[t],a=this.state.video_streams,{user_stream_key:u}=this.getFromUserStreams({user_id:t});t==this.props.current_user.id&&(n=this.getCurrentUserStream({stream:n})),console.log("addToUserStreams","user_id",t,"stream",n,"existing_stream_key",u,"video_streams",a),u!==!1?(console.log("addToUserStreams updated"),a[u].stream=n,a[u].is_waiting=s||!1):a.length<this.state.pagination.per_page_streams&&(console.log("addToUserStreams added"),a.push({stream:n||{},user_id:t,is_waiting:s,participant:i})),this.setState({video_streams:a})}getFromUserStreams(e){var{user_id:n}=e,t=!1,s=!1;return this.state.video_streams.forEach((i,a)=>{i.user_id==n&&(t=i,s=a)}),console.log("getFromUserStreams",n,s,t,this.state.video_streams),{user_stream:t,user_stream_key:s}}removeFromUserStreams(e){var{user_id:n,just_remove_stream:t}=e,{user_stream_key:s}=this.getFromUserStreams({user_id:n});if(console.log("removeFromUserStreams",n,s),s!==!1){var i=this.state.video_streams;t?i[s].stream={}:i.splice(s,1),console.log("removeFromUserStreams removed just_remove_stream",t,"video_streams",i),this.setState({video_streams:i})}}mayBeDropUserStream(e){var{user_id:n,check_user_streams:t=!0,remove_from_user_streams:s=!1}=e,{user_stream:i}=this.getFromUserStreams({user_id:n}),a=this.speaker_view_ref.current?this.speaker_view_ref.current.speaker_streams[n]:!1;if(console.log("mayBeDropUserStream","user_id",n,"check_user_streams",t,"user_stream",i,"speaker_stream",a,"speaker_streams",this.speaker_view_ref.current&&this.speaker_view_ref.current.speaker_streams),!(t&&i||a))return console.log("mayBeDropUserStream going to drop"),this.props.rtc_client.dropUserVideoStream({user_id:n}),s&&this.removeFromUserStreams({user_id:n,just_remove_stream:!0}),!0}async changeViewType({view_type:e,per_page_streams:t}){console.log("videoManager changeViewType",e,t);var t=t,s=!t,i=1;this.updatePagination({page_number:i,per_page_streams:t,set_default:s})}async updatePagination(e){console.log("updatePagintation",e,this.props.view_type);var{page_number:n,per_page_streams:t,set_default:s}=e;s&&(t=this.props.view_type=="speaker"?window.innerWidth>800?5:3:20),n=n||this.state.pagination.page_number;var i=Math.ceil(this.props.participants_ids.length/t),a=n==i,u=n==1;await this.updatePaginationState({page_number:n,total_pages:i,per_page_streams:t,is_last_page:a,is_first_page:u}),this.dropNonPageStreams(),this.getPageStreams()}updatePaginationState(e){return this.setStateAsync({pagination:{...this.state.pagination,...e}})}setStateAsync(e){return new Promise(n=>{this.setState(e,n)})}render(){return A.jsx("div",{className:"video-manager w-100 h-100",children:(!this.state.pagination.is_initial||this.state.video_streams.length)&&(this.props.view_type=="gallery"?A.jsx($q,{user_streams:this.state.video_streams,pagination:this.state.pagination,participants_ids:this.props.participants_ids,rtc_client:this.props.rtc_client,current_user:this.props.current_user}):A.jsx(Uq,{user_streams:this.state.video_streams,participants:this.props.participants,participants_ids:this.props.participants_ids,current_user:this.props.current_user,pagination:this.state.pagination,rtc_client:this.props.rtc_client,ref:this.speaker_view_ref}))})}};function Hq(r,e){return!e.stream||!r.stream?!1:r.stream.id===e.stream.id&&r.force_update===e.force_update}const Vq=$e.memo(class extends $e.Component{componentDidMount(){this.attachBusListeners()}attachBusListeners(){Ae.on("memorized_audio__force_play",()=>{this.forcePlayAudio()})}render(){return A.jsx("audio",{className:this.props.className,ref:r=>{r!=null&&this.props.stream&&this.props.stream.id&&(r.srcObject=this.props.stream)},autoPlay:!0,id:this.props.stream&&this.props.stream.id,playsInline:!0,controls:!0})}forcePlayAudio(){this.props.stream&&(it("#"+this.props.stream.id)[0].srcObject=this.props.stream,it("#"+this.props.stream.id)[0].play())}},Hq);class zq extends $e.Component{constructor(e){super(e),this.audio_refs=$e.createRef([]),this.audio_refs.current=[],this.have_notified_about_mute=!0,this.state={audio_streams:[]},window.call_helpers.getAudioStreams=()=>this.state.audio_streams,console.log("audio_refs",this.audio_refs,this.audio_refs.current)}componentDidMount(){this.attachCallListeners(),this.prepareThings()}componentWillUnmount(){this.setState=(e,n)=>{}}attachCallListeners(){this.props.rtc_client.onJoined=this.onJoined.bind(this),this.props.rtc_client.onLeft=this.onLeft.bind(this),this.props.rtc_client.onSpeaking=this.onSpeaking.bind(this),this.props.rtc_client.onAudioSwitched=this.onAudioSwitched.bind(this),this.props.rtc_client.onUserAudioStream=this.onUserAudioStream.bind(this),this.props.rtc_client.onUserAudioStreamEnded=this.onUserAudioStreamEnded.bind(this),this.props.rtc_client.onPotentialUserAudio=this.onPotentialUserAudio.bind(this)}prepareThings(){this.onJoined({user_id:this.props.current_user.id})}onJoined(e){var{user_id:n}=e;n==this.props.current_user.id&&this.getUserStreams()}async onLeft(e){var{user_id:n}=e;this.props.rtc_client.dropUserAudioStream({user_id:n})}onAudioSwitched({user_id:e,is_audio_on:n}){e==this.props.current_user.id&&(n||(this.have_notified_about_mute=!1))}onSpeaking({user_id:e}){e==this.props.current_user.id&&(this.props.rtc_client.is_audio_on||this.onSpeakingWhileMuted())}onSpeakingWhileMuted(){this.have_notified_about_mute||(this.have_notified_about_mute=!0,ht.info(()=>A.jsxs("div",{className:"toast-inner",children:[A.jsx("i",{className:"fa fa-microphone-slash icon"}),Fe.t("Are you talking? Your microphone is off")]}),{position:"top-center",className:"call-toast height-auto alert",hideProgressBar:!0,closeButton:!1,pauseOnFocusLoss:!1,autoClose:1e4}))}onUserAudioStream(e){this.addToUserStreams(e)}onPotentialUserAudio({user_id:e}){this.props.rtc_client.getUserAudioStream({user_id:e})}onUserAudioStreamEnded(e){var{user_id:n}=e;this.removeFromUserStreams({user_id:n})}getUserStreams(){this.props.participants_ids.forEach(e=>{this.props.rtc_client.getUserAudioStream({user_id:e})})}async addToUserStreams(e){var{stream:n,user_id:t}=e;console.log("AudioManager addToUserStreams",t);var s=s||this.props.participants[t],i=this.state.audio_streams,a=i.findIndex(u=>u.user_id==t);a!=-1?(console.log("AudioManager addToUserAudioStream updated"),i[a].stream=n||{}):(console.log("AudioManager addToUserAudioStream added"),i.push({stream:n||{},user_id:t})),await this.setStateAsync({audio_streams:i}),Ae.dispatch("audio_manager__audio_streams_updated")}async removeFromUserStreams(e){var{user_id:n}=e;console.log("AudioManager removeFromUserStreams",n);var t=this.state.audio_streams.findIndex(i=>i.user_id==n);if(t!=-1){var s=this.state.audio_streams;s.splice(t,1),console.log("AudioManager removeFromUserStreams removed",s),await this.setStateAsync({audio_streams:s}),Ae.dispatch("audio_manager__audio_streams_updated")}}forcePlayAudios(){Ae.dispatch("memorized_audio__force_play")}setStateAsync(e){return new Promise(n=>{this.setState(e,n)})}render(){return A.jsx(A.Fragment,{children:A.jsx("div",{className:"user-audio-streams-container",style:{position:"absolute",visibility:"hidden"},children:this.state.audio_streams.map(e=>{if(e.user_id!=this.props.current_user.id)return A.jsx(Vq,{stream:e.stream,force_update:this.props.force_update,id:"mix-audio-stream"},e.user_id+"_audio")})})})}}const Wq="/assets/meeting_joined-DX3H7ZgM.mp3",Yq="/assets/notification-BDioZ4_n.mp3";var xv={},Lk,Nk,nt;class TT extends $e.Component{constructor(n){super(n);tb(this,nt);Fa(this,"initJoin",({is_video_on:n,is_audio_on:t})=>{let s=this.state.call_options;s.video.muted=!n,s.audio.muted=!t,this.setState({call_options:s}),this.setState({join_options_passed:!0}),Ae.dispatch("call__going_to_join")});this.isMeetNow=this.props.call.meet_now==1,this.record_id=this.props.call.id,this.record_type=this.props.call.type,this.current_user=this.props.current_user,this.call=this.props.call,this.call_library=null,this.current_user.name=this.current_user.firstname+" "+this.current_user.lastname,this.current_user.profile_picture_url=this.current_user.profile_image,this.user_status="",this.call.cache_data_key=this.call.room_id+"_cache_data",this.local_logs="",this.identity=Math.random(),this.call_breakout_rooms_ref=$e.createRef(),this.video_effects_ref=window.video_effects_ref=$e.createRef(),this.actions_ref=$e.createRef(),this.shared_screen_ref=$e.createRef(),this.audio_ref=$e.createRef(),this.video_manager_ref=$e.createRef(),this.call_settings=localStorage.getItem("call_settings"),this.call_settings=this.call_settings?JSON.parse(this.call_settings):{},this.breakout_room=this.is_breakout_room=this.props.breakout_room,this.breakout_room_to_join=!1,this.have_left_call=!1,this.call_title=this.props.call.title||"Meeting",this.breakout_room&&(this.call_title=`Breakout Room: ${this.breakout_room.title} (${this.call_title})`),this.default_call_options={auth:{password:"",is_approval_needed:!1},leave:{show_options:!!t},timing:{start_time:"",duration_minutes:"",time_zone:""},video:{muted:1,can_turn_on:!0,can_turn_off:!0},audio:{muted:0,can_turn_on:!0,can_turn_off:!0},share_screen:{enabled:!0},chat:{send_msg:!0},participants:{max_participants:!1},copy_link:!0,ring_on_start:!1,breakout_rooms:!0,enable_join_options:!0,urls:{call_started:"",user_joined:"",join_request:"",join_requests:"",update_join_request:""},socket_events:{}};var t=this.props.host_ids.includes(this.current_user.id),s={...this.default_call_options,...this.props.call_options};this.state={call:this.props.call,call_joined:!1,current_user:this.current_user,call_options:s,participants:[],participants_ids:[],screen_sharing_users:[],recording_users:[],video_on_users:[],audio_on_users:[],is_host:t,join_options_passed:!s.enable_join_options,is_video_on:!1,is_audio_on:!1,host_ids:this.props.host_ids||[],sharing_screen:!1,video_paused:!1,init_library:!0,mix_audio_stream:!1,view_type:"speaker",video_effect_type:"",permission_check:!1,is_full_screen:!1,is_countdown_started:!1,time_check_passed:!1,show_actions:!0},this.joined_sound=new Audio(Wq),this.notification_sound=new Audio(Yq),this.joined_sound.volume="0.2",this.notification_sound.volume="0.2"}componentDidMount(){this.prepareThings(),this.attachBusListeners(),this.keepScreenAwake(),window.call_helpers={},window.call_helpers.call=this.call,window.call_helpers.device=this.device,window.call_helpers.maximizeCall=this.maximizeCall.bind(this),window.call_helpers.toggleFullScreen=this.toggleFullScreen.bind(this),window.call_helpers.cancelJoin=this.cancelJoin.bind(this),window.call_helpers.showActions=this.showActions.bind(this),window.call_helpers.hideActions=this.hideActions.bind(this),window.call_helpers.hideSidePanels=this.hideSidePanels.bind(this),window.call_helpers.changeViewType=this.changeViewType.bind(this),window.call_helpers.playNotificationSound=this.playNotificationSound.bind(this),window.call_helpers.isBreakoutRoom=()=>this.is_breakout_room,window.call_helpers.isSharingScreen=()=>this.state.sharing_screen,window.call_helpers.getParticipantsIds=()=>this.state.participants_ids,Ae.dispatch("call__mounted")}componentWillUnmount(){this.setState=(n,t)=>{},window.call=!1,window.connection=!1,window.call_helpers=!1,this.keepScreenAwake(!1),this.downloadLocalLogs(),clearInterval(this.network_quality_interval_id),ht.dismiss("network-toast"),ht.dismiss("network-quality-toast")}prepareThings(){this.subscription=Fx(),this.is_basic_plan=!0,this.subscription&&(this.is_basic_plan=this.subscription.plan_id==1),Lk=this.props.VideoManagerComponent||qq,Nk=this.props.ActionsComponent||$3,this.state.call_options.auth.is_approval_needed||this.setState(n=>({current_user:{...n.current_user,is_authenticated:!0}})),this.state.call_options.enable_join_options||(this.setState({join_options_passed:!0}),Ae.dispatch("call__going_to_join"))}attachBusListeners(){Ae.on("call_time_master__allowed"+this.identity,()=>{this.setState({time_check_passed:!0})}),Ae.on("call_auth__authenticated"+this.identity,()=>{this.setState(n=>({current_user:{...n.current_user,is_authenticated:!0}}))}),Ae.on("call__updated_participants",n=>{this.setState({participants:n})}),Ae.on("call_time_master__time_ended",()=>{window.leaveCall({reason:"time ended"})}),Ae.on("call_time_master__visbility_changed",n=>{this.setState({is_countdown_started:n})}),Ae.on("call_actions__left",()=>{this.haveLeftCall()}),Ae.on("call_actions__ended",()=>{this.breakout_room=!1,this.haveLeftCall()}),Ae.on("call__log_event_to_local",n=>{this.logEventToLocal(n)}),Ae.on("call_video_effects__effect_changed",({effect_type:n})=>{this.setState({video_effect_type:n})}),Ae.on("side_panel__visibility_changed",({is_shown:n})=>{this.setState({side_panel_opened:n})})}attachSocketListeners(){console.log("call attachSocketListeners"),ct(this,nt).socket.on("join-breakout-room",n=>{this.joinBreakoutRoom(n)})}setStateAsync(n){return new Promise(t=>{this.setState(n,t)})}callLibraryInitiated(n){this.call_library=n,rb(this,nt,this.call_library.rtc_client),ct(this,nt).onScreenStream=this.onScreenStream.bind(this),ct(this,nt).onLocalUserVideoStream=this.onLocalUserVideoStream.bind(this),ct(this,nt).onLocalUserAudioStream=this.onLocalUserAudioStream.bind(this),ct(this,nt).onScreenStreamEnded=this.onScreenStreamEnded.bind(this),ct(this,nt).onVideoError=this.onVideoError.bind(this),ct(this,nt).onAudioError=this.onAudioError.bind(this),ct(this,nt).onPostJoinData=this.onPostJoinData.bind(this),ct(this,nt).onShareScreenError=this.onShareScreenError.bind(this),ct(this,nt).onJoined=this.onJoined.bind(this),ct(this,nt).onLeft=this.onLeft.bind(this),ct(this,nt).onCallStarted=this.onCallStarted.bind(this),ct(this,nt).onCallEnded=this.onCallEnded.bind(this),ct(this,nt).onVideoSwitched=this.onVideoSwitched.bind(this),ct(this,nt).onAudioSwitched=this.onAudioSwitched.bind(this),ct(this,nt).onHostAdded=this.onHostAdded.bind(this),ct(this,nt).onHostRemoved=this.onHostRemoved.bind(this),ct(this,nt).onScreenShared=this.onScreenShared.bind(this),ct(this,nt).onShareScreenStopped=this.onShareScreenStopped.bind(this),ct(this,nt).onPotentialScreenVideo=this.onPotentialScreenVideo.bind(this),ct(this,nt).onReconnecting=this.onReconnecting.bind(this),ct(this,nt).onReconnected=this.onReconnected.bind(this),ct(this,nt).onReconnectionFailed=this.onReconnectionFailed.bind(this),ct(this,nt).onRemoved=this.onRemoved.bind(this),ct(this,nt).onRecordingStarted=this.onRecordingStarted.bind(this),ct(this,nt).onRecordingStopped=this.onRecordingStopped.bind(this),ct(this,nt).onUsersAdded=this.onUsersAdded.bind(this),ct(this,nt).onSocketSent=this.onSocketSent.bind(this),ct(this,nt).onSocketReceived=this.onSocketReceived.bind(this),ct(this,nt).onSocketConnected=this.onSocketConnected.bind(this),ct(this,nt).onSocketDisconnected=this.onSocketDisconnected.bind(this),ct(this,nt).onLeaveCall=this.onLeaveCall.bind(this),ct(this,nt).onCallback=this.onCallback.bind(this),ct(this,nt).onInvitationUpdated=this.onInvitationUpdated.bind(this),ct(this,nt).onRoomTypeChanged=this.onRoomTypeChanged.bind(this),this.attachSocketListeners(),Ae.dispatch("call__rtc_client_ready",ct(this,nt))}onScreenStream(){this.setState({viewing_screen:!0})}onLocalUserAudioStream({track:n}){ht.info(()=>A.jsxs("div",{className:"toast-inner",children:[A.jsx("i",{className:"fa fa-microphone icon"}),Fe.t("Connected to"),": ",n.label]}),{position:"top-center",className:"call-toast height-auto",hideProgressBar:!0,closeButton:!1,pauseOnFocusLoss:!1})}onLocalUserVideoStream(){this.setState({is_video_on:!0})}onScreenStreamEnded(){this.viewing_screen=!1,this.setState({viewing_screen:!1})}onJoined(n){var{user_id:t}=n;this.updateParticipantsData();var s=this.getUser(t);this.setState({is_video_on:ct(this,nt).is_video_on,is_audio_on:ct(this,nt).is_audio_on}),t==this.state.current_user.id?this.haveJoinedCall():(ht.info(`${s.name} ${Fe.t("has joined")}`,{position:"bottom-left",className:"call-toast",hideProgressBar:!0,autoClose:3e3}),this.joined_sound.currentTime=0,this.joined_sound.play()),Ae.dispatch("call__joined",{user_id:t})}async onLeft(n){var{user_id:t,join_main_room:s=!0}=n;t==this.current_user.id?(s||(this.breakout_room=!1),this.breakout_room&&this.haveLeftBreakoutRoom(),this.haveLeftCall()):(this.updateParticipantsData(),this.call.type=="chat"&&window.leaveCall()),Ae.dispatch("call__left",{user_id:t})}onPostJoinData(){this.updateParticipantsData(),this.updateHosts()}async onReconnecting(n){var{user_id:t}=n;t==this.current_user.id&&(this.onPossibleNetworkDisconnected(),this.logEventToServer("reconnecting"))}onReconnected(n){var{user_id:t}=n;t==this.current_user.id&&this.onNetworkReconnected()}onReconnectionFailed(){this.haveLeftCall()}async onPossibleNetworkDisconnected(){this.network_disconnected=!0;var n=await this.pingBackendServer(),t=await this.pingBackendServer();!n&&!t&&this.network_disconnected&&this.onNetworkDisconnected()}async onNetworkDisconnected(){if(this.network_disconnected=!0,clearTimeout(this.network_toast_timout_id),ht.isActive("network-toast")){ht.update("network-toast",{render:A.jsx(Ev,{is_disconnected:!0}),className:"call-toast alert slim"});return}ht.dismiss("network-quality-toast"),this.notification_sound.currentTime=0,this.notification_sound.play(),ht.info(A.jsx(Ev,{is_disconnected:!0}),{toastId:"network-toast",position:"top-center",className:"call-toast alert slim",hideProgressBar:!0,closeButton:!1,pauseOnFocusLoss:!1,autoClose:!1,closeOnClick:!1,draggable:!1})}onNetworkReconnected(){this.network_disconnected=!1,ht.update("network-toast",{render:A.jsx(Ev,{is_disconnected:!1}),className:"call-toast success slim"}),clearTimeout(this.network_toast_timout_id),this.network_toast_timout_id=setTimeout(()=>{ht.dismiss("network-toast")},5e3)}onScreenShared(n){var{user_id:t}=n;this.updateParticipantsData();var s=this.getUser(t);t==this.current_user.id?this.setState({sharing_screen:!0}):ht.info(`${s.name} ${Fe.t("has shared screen")}`,{position:"bottom-left",className:"call-toast",pauseOnFocusLoss:!1,hideProgressBar:!0})}onPotentialScreenVideo({user_id:n}){this.viewing_screen||this.state.sharing_screen||n!=this.current_user.id&&(ct(this,nt).getScreenStream({user_id:n}),this.viewing_screen=!0)}onShareScreenStopped(n){var{user_id:t}=n;this.updateParticipantsData(),t==this.current_user.id&&this.setState({sharing_screen:!1})}onVideoError(n){var{error:t}=n,s=this.device.os&&this.device.os.name,i="x-apple.systempreferences:com.apple.preference.security?Privacy_Camera",a="Please check your camera settings";s=="Mac"&&(a=`Please check your 
                  <a 
                    href='${i}' 
                    target='_blank' style="color: white; text-decoration: underline">
                    
                    camera settings
                  </a>`),this.setState({permission_check:!0}),ht.error(()=>A.jsxs("div",{children:[A.jsx("b",{children:"Cannot start video"}),A.jsx("br",{}),A.jsx("span",{dangerouslySetInnerHTML:{__html:a}})]}))}onAudioError(n){var{error:t}=n,s=this.device.os&&this.device.os.name,i="x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone",a="Please check your microphone settings";s=="Mac"&&(a=`Please check your 
                  <a 
                    href='${i}' 
                    target='_blank' 
                    style="color: white; text-decoration: underline">
                  
                    microphone settings
                  </a>`),this.setState({permission_check:!0}),ht.error(()=>A.jsxs("div",{children:[A.jsx("b",{children:"Cannot start audio"}),A.jsx("br",{}),A.jsx("span",{dangerouslySetInnerHTML:{__html:a}})]}))}onShareScreenError(n){var{error:t}=n,s=this.device.os&&this.device.os.name;if(s=="Mac"&&t.message.toLowerCase()=="permission denied by system"){var i=xv.REACT_APP_ENVOIRNMENT_KEY=="web"?"Your browser":xv.REACT_APP_NAME,a="x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture",u=`${i} might not have screen-recording permission on your computer.`;u+=` Please enable it in <a href='${a}' target='_blank'>System Preferences</a>.`,td({title:Fe.t("Can share your screen"),html:u})}}onVideoSwitched(n){var{user_id:t,is_video_on:s}=n;if(this.updateParticipantsData(),t==this.state.current_user.id){var i=this.state.call_options;i.video.muted=!s,this.setState({is_video_on:s,call_options:i})}}onAudioSwitched(n){var{user_id:t,is_audio_on:s}=n;if(this.updateParticipantsData(),t==this.state.current_user.id){var i=this.state.call_options;i.audio.muted=!s,this.setState({is_audio_on:s,call_options:i})}}onVideoMutedByMe(){this.setState({is_video_on:!1})}onAudioMutedByMe(){this.setState({is_audio_on:!1})}onHostAdded({user_id:n}){this.updateHosts(),this.current_user.id==n&&(this.setState({is_host:!0}),ht.success(Fe.t("AddedAsHost"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0}))}onHostRemoved({user_id:n}){this.updateHosts(),this.current_user.id==n&&(this.setState({is_host:!1}),ht.success(Fe.t("youAreRemovedAsHost"),{position:"bottom-left",className:"call-toast",hideProgressBar:!0}))}onCallStarted(){this.logEventToServer("started")}onCallEnded(n){this.logEventToServer("ended"),n.user_id=this.current_user.id,this.onLeft(n)}onRemoved(n){var{is_blocked:t,is_waiting:s}=n;this.logEventToServer("removed_by_host"),t?this.user_status="blocked":s?this.user_status="waiting":this.user_status="removed"}onRecordingStarted(){this.updateParticipantsData()}onRecordingStopped(){this.updateParticipantsData()}onUsersAdded(n){var{users:t}=n;t.forEach(s=>{window.call_helpers.addWaitingUser({user:s})})}onInvitationUpdated({status:n}){console.log("onInvitationUpdated",n),this.call.type=="chat"&&n=="rejected"&&this.state.participants_ids.length==1&&(td({title:Fe.t("Meeting was declined by user")}),window.leaveCall())}onSocketConnected(n){}onSocketDisconnected(n){}onLeaveCall(n){}onSocketSent(n){var{event:t,data:s={}}=n;this.logEventToLocal({event:`socket-sent ${t}`,data:s})}onSocketReceived(n){var{event:t,data:s={}}=n;this.logEventToLocal({event:`socket-received ${t}`,data:s})}onCallback(n){var{callback_name:t="",data:s={}}=n;t.indexOf("SocketSent")>=0||t.indexOf("SocketReceived")>=0||this.logEventToLocal({event:`callback ${t}`,data:s})}playNotificationSound(){this.notification_sound.currentTime=0,this.notification_sound.play()}updateParticipantsData(){var n=ct(this,nt).participants;if(n){var t={},s={},i={},a={},u=JSON.parse(JSON.stringify(ct(this,nt).participants_ids));return u=u.filter(p=>p!=this.current_user.id),u.unshift(this.current_user.id),Object.values(n).forEach(p=>{p.is_sharing&&(t[p.id]=p.user),p.is_recording&&(s[p.id]=p.user),p.is_video_on&&(i[p.id]=p.user),p.is_audio_on&&(a[p.id]=p.user)}),this.setState({participants:n,participants_ids:u,screen_sharing_users:t,recording_users:s,audio_on_users:a,video_on_users:i}),Ae.dispatch("call__participants_data_updated",{participants:n}),u}}updateHosts(){var n=ct(this,nt).host_ids;this.setState({host_ids:n})}async joinBreakoutRoom({breakout_room:n}){this.user_action="join-breakout-room",this.breakout_room_to_join=n,ct(this,nt).leaveCall()}leaveBreakoutRoom(){this.breakout_room&&(this.haveLeftBreakoutRoom(),ct(this,nt).leaveCall(),this.call_breakout_rooms_ref.current&&this.call_breakout_rooms_ref.current.leaveBreakoutRoom())}haveLeftBreakoutRoom(){this.user_action="leave-breakout-room"}endBreakoutRooms(){this.call_breakout_rooms_ref.current.endBreakoutRooms()}endMainRoom(){if(this.breakout_room)return ct(this,nt).rtc_helpers.deleteRoom({room_id:this.state.call.main_room_id}),!0}getRecentShareScreenStream(){var n="",t=!1;return Object.keys(this.state.screen_sharing_users).forEach(s=>{var i=this.state.participants[s],a=i.is_sharing;a>n&&(n=n,t=s)}),t?(ct(this,nt).getScreenStream({user_id:t}),!0):!1}haveJoinedCall(){this.logEventToServer("joined"),this.user_status="",this.user_action="",this.setState({call_joined:!0}),Ae.dispatch("call__joined",this.call),this.observeNetworkQuality(),setTimeout(()=>{this.setState({show_ad:!0})},2e3),this.call.type=="chat"&&ht.info(Fe.t("Invitation has been sent to the user"),{position:"top-right",className:"call-toast",hideProgressBar:!0,pauseOnFocusLoss:!1,closeButton:!1}),this.setState({current_room_type:ct(this,nt).current_room_type})}haveLeftCall(){if(!this.have_left_call){this.have_left_call=!0;var n=this.breakout_room||this.breakout_room_to_join||this.user_status!="";console.log("haveLeftCall",n),this.logEventToServer("left"),this.maximizeCall(),Ae.dispatch("call_recorder__stop"+this.identity),Ae.dispatch("call__left",{user_id:this.current_user.id,user_status:this.user_status,user_action:this.user_action,breakout_room:this.breakout_room_to_join,is_video_on:this.state.is_video_on,is_audio_on:this.state.is_audio_on,soft_leave:n}),this.setState({call_joined:!1})}}keepScreenAwake(n=!0){window.ipcRenderer&&window.ipcRenderer.send("keep-screen-awake",n)}updateParticipant(n,t){var s=this.state.participants.findIndex(u=>u&&u.id===n),i=this.state.participants,a=i[s];i[s]={...a,...t},this.setState({participants:i})}showActions(){this.setState({show_actions:!0})}hideActions(){this.setState({show_actions:!1})}getUser(n){var t=!1,s=this.state.participants[n];return s&&(t=s.user),t||{}}updateRoomAppData(n){ct(this,nt).getRoom().then(t=>{var s=t.app_data,i=n(s);ct(this,nt).updateAppData({app_data:i})})}async saveRoomDataInCache({room_id:i,data:t={},get_data_callback:s=!1}){var i=i||this.call.room_id,a=`${i}_cache_data`,u=await ct(this,nt).rtc_helpers.getFromCache({key:a}),p=u?JSON.parse(u):{};s&&(t=s(p));var c={...p,...t};ct(this,nt).rtc_helpers&&ct(this,nt).rtc_helpers.saveToCacheTemporarily({key:a,value_json:JSON.stringify(c),seconds:86400})}async getRoomDataFromCache({room_id:t}){var t=t||this.call.room_id,s=`${t}_cache_data`;return ct(this,nt).rtc_helpers.getFromCache({key:s}).then(i=>i?JSON.parse(i):{})}cancelJoin(){Ae.dispatch("call__join_cancelled")}minimizeCall(){xv.REACT_APP_ENVOIRNMENT_KEY!="app"&&(this.current_user.is_guest||(a0(),this.setState({is_full_screen:!1}),it("body").removeClass("handling-call"),it("body").addClass("call-minimized")))}maximizeCall(){it("body").addClass("handling-call"),it("body").removeClass("call-minimized"),Ae.dispatch("call__maximized")}pingBackendServer(){}observeNetworkQuality(){this.network_quality_interval_id=setInterval(async()=>{if(!this.network_disconnected){var n=await this.checkNetworkQuality(),t=ht.isActive("network-quality-toast");n=="good"?ht.dismiss("network-quality-toast"):t||ht.info(A.jsx(Kq,{quality:n}),{toastId:"network-quality-toast",position:"top-center",className:"call-toast warning slim",hideProgressBar:!0,closeButton:!1,pauseOnFocusLoss:!1,autoClose:!1,closeOnClick:!1,draggable:!1,transition:QP})}},1e4)}async checkNetworkQuality(){var n="good",t=await ct(this,nt).getRoundTripTime();await kh({milliseconds:1e3});var s=await ct(this,nt).getRoundTripTime();await kh({milliseconds:1e3});var i=await ct(this,nt).getRoundTripTime(),a=(t+s+i)/3;return a>.6&&(n="bad"),a>1&&(n="very-bad"),console.log("checkNetworkQuality","quality",n,"avg_rtt_seconds",a,"rtt_seconds_1",t,"rtt_seconds_2",s,"rtt_seconds_3",i),n}async changeViewType(n){var{view_type:t}=n;await this.setStateAsync({view_type:t}),this.video_manager_ref.current&&this.video_manager_ref.current.changeViewType(n)}toggleFullScreen(){if(this.state.is_full_screen){a0(),this.setState({is_full_screen:!1});return}YO(it(".call-container")[0]),this.setState({is_full_screen:!0})}hideSidePanels(){Ae.dispatch("side_panel__hide_all")}logEventToLocal(n){}downloadLocalLogs(){if(this.local_logs){var n=`meeting-${this.call.id}-${lL()}-logs.txt`;WO({file_name:n,content:this.local_logs})}}logEventToServer(n,t){}saveLocalCallSettings(n={}){var t=this.getLocalCallSettings();t={...t,...n},localStorage.setItem("call_settings",JSON.stringify(t))}getLocalCallSettings(){var n=localStorage.getItem("call_settings");return n?JSON.parse(n):{}}onRoomTypeChanged({current_type:n}){this.setState({current_room_type:n})}render(){return A.jsxs("div",{id:"video_screen",className:"call-container"+(this.state.side_panel_opened?" side-panel-opened":"")+(this.state.is_countdown_started?" countdown-visible":"")+(this.state.is_full_screen?" full-screen":"")+(this.state.viewing_screen?" viewing-shared-screen":"")+(this.state.is_minimized?" is-minimized":"")+(this.state.show_ad?" showing-ad":"")+(this.props.layout_type?` ${this.props.layout_type}-layout`:" main-layout")+(this.current_user.is_guest?" is-guest":""),children:[this.state.call_joined&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"call-header",children:[A.jsxs("div",{className:"left",title:this.call_title,children:[A.jsx("i",{class:"fas fa-chevron-left go-back-btn",onClick:()=>this.minimizeCall()}),A.jsx("span",{className:"call-title",onClick:()=>this.minimizeCall(),children:this.call_title})]}),A.jsxs("div",{className:"right",children:[this.state.current_room_type=="sfu"&&A.jsxs("div",{class:"view-type dropdown dropup",children:[A.jsxs("span",{className:"dropdown-toggle","data-toggle":"dropdown",children:[this.state.view_type=="speaker"?A.jsx("i",{class:"fas fa-window-maximize mr-1"}):A.jsx("i",{class:"fas fa-th mr-1"}),this.state.view_type=="speaker"?Fe.t("Speaker View"):Fe.t("Gallery View")]}),A.jsxs("div",{class:"dropdown-menu",children:[A.jsxs("div",{className:"dropdown-item",onClick:()=>this.changeViewType({view_type:"speaker"}),children:[this.state.view_type=="speaker"&&A.jsx("i",{class:"fa fa-check tick-mark"}),A.jsxs("div",{className:"main-content",children:[A.jsx("i",{class:"fas fa-window-maximize mr-2"}),Fe.t("Speaker View")]})]}),A.jsxs("div",{className:"dropdown-item",onClick:()=>this.changeViewType({view_type:"gallery"}),children:[this.state.view_type=="gallery"&&A.jsx("i",{class:"fa fa-check tick-mark"}),A.jsxs("div",{className:"main-content",children:[A.jsx("i",{class:"fas fa-th mr-2"}),Fe.t("Gallery View")]})]})]})]}),A.jsx("i",{class:"fas"+(this.state.is_full_screen?" fa-compress-arrows-alt":" fa-expand-arrows-alt"),onClick:()=>this.toggleFullScreen()})]})]}),A.jsxs("div",{className:"call-body",children:[A.jsx(zq,{current_user:this.state.current_user,participants:this.state.participants,participants_ids:this.state.participants_ids,rtc_client:ct(this,nt)}),A.jsx(Lk,{view_type:this.state.view_type,current_user:this.state.current_user,participants:this.state.participants,participants_ids:this.state.participants_ids,rtc_client:ct(this,nt),layout_type:this.props.layout_type,getRecentShareScreenStream:this.getRecentShareScreenStream.bind(this),video_effects_ref:this.video_effects_ref,ref:this.video_manager_ref}),A.jsx(tB,{rtc_client:ct(this,nt),screen_sharing_users:this.state.screen_sharing_users,sharing_screen:this.state.sharing_screen,is_full_screen:this.state.is_full_screen,participants:this.state.participants,current_user:this.state.current_user,identity:this.identity,getUser:this.getUser.bind(this),ref:this.shared_screen_ref}),A.jsx(rB,{rtc_client:ct(this,nt),participants:this.state.participants,current_user:this.state.current_user}),A.jsx(W2,{call:this.state.call,is_host:this.state.is_host,host_ids:this.state.host_ids,call_options:this.state.call_options,participants:this.state.participants,participants_ids:this.state.participants_ids,screen_sharing_users:this.state.screen_sharing_users,video_on_users:this.state.video_on_users,audio_on_users:this.state.audio_on_users,recording_users:this.state.recording_users,current_user:this.state.current_user,rtc_client:ct(this,nt)}),this.state.is_host&&A.jsxs(A.Fragment,{children:[A.jsx(G2,{call:this.state.call,current_user:this.state.current_user,identity:this.identity,rtc_client:ct(this,nt),getUser:this.getUser.bind(this)}),A.jsx(X2,{call:this.state.call,current_user:this.state.current_user,identity:this.identity,rtc_client:ct(this,nt),getUser:this.getUser.bind(this)})]})]}),A.jsx("div",{className:`call-footer ${this.state.show_actions?"":" d-none"}`,children:A.jsx(Nk,{call:this.state.call,call_library:this.call_library,call_options:this.state.call_options,participants:this.state.participants,is_host:this.state.is_host,host_ids:this.state.host_ids,current_user:this.state.current_user,showChat:this.showChat,identity:this.identity,record_id:this.record_id,is_video_on:this.state.is_video_on,is_audio_on:this.state.is_audio_on,sharing_screen:this.state.sharing_screen,screen_sharing_users:this.state.screen_sharing_users,breakout_room:this.breakout_room,video_effect_type:this.state.video_effect_type,layout_type:this.props.layout_type,leaveBreakoutRoom:this.leaveBreakoutRoom.bind(this),endBreakoutRooms:this.endBreakoutRooms.bind(this),endMainRoom:this.endMainRoom.bind(this),onVideoMutedByMe:this.onVideoMutedByMe.bind(this),onAudioMutedByMe:this.onAudioMutedByMe.bind(this),logEventToServer:this.logEventToServer.bind(this),video_effects_ref:this.video_effects_ref,ref:this.actions_ref})})]}),this.state.time_check_passed&&A.jsx(LE,{call:this.state.call,call_options:this.state.call_options,current_user:this.state.current_user,host_ids:this.state.host_ids,identity:this.identity,cancelJoin:this.cancelJoin.bind(this)}),this.state.current_user.is_authenticated&&A.jsxs("div",{className:"w-100 h-100",children:[this.state.call_options.enable_join_options&&A.jsx(nB,{call:this.state.call,initJoin:this.initJoin.bind(this),cancelJoin:this.cancelJoin.bind(this),call_options:this.state.call_options}),this.state.permission_check==!0?A.jsx(Bq,{}):null,this.state.join_options_passed&&this.state.init_library&&A.jsx(iE,{call:this.state.call,call_options:this.state.call_options,identity:this.identity,current_user:this.state.current_user,video_effects_ref:this.video_effects_ref,callLibraryInitiated:this.callLibraryInitiated.bind(this)})]}),this.state.call_joined&&A.jsxs(A.Fragment,{children:[A.jsx(Y2,{identity:this.identity}),A.jsx(MB,{rtc_client:ct(this,nt),participants:this.state.participants,current_user:this.state.current_user,call:this.state.call,identity:this.identity,host_ids:this.state.host_ids,breakout_room:this.breakout_room,joinBreakoutRoom:this.joinBreakoutRoom.bind(this),getRoomDataFromCache:this.getRoomDataFromCache.bind(this),saveRoomDataInCache:this.saveRoomDataInCache.bind(this),ref:this.call_breakout_rooms_ref})]}),A.jsxs("div",{className:"maximize-call-btn",onClick:this.maximizeCall.bind(this),children:[A.jsx("i",{class:"fas fa-phone-alt"}),"   ",Fe.t("Return to Meeting")]})]})}}nt=new WeakMap,Fa(TT,"contextType",Za);const Ev=({is_disconnected:r})=>A.jsxs("div",{className:"toast-inner network-toast",children:[A.jsx("i",{className:"fas fa-wifi icon"}),r?Fe.t("You have lost your network connection. Waiting for connection")+"...":Fe.t("Reconnected to network")]}),Kq=({quality:r})=>A.jsxs("div",{className:"toast-inner network-quality-toast",children:[A.jsx("i",{className:"fas fa-wifi icon"}),Fe.t("Your internet is experiencing issues, you may notice reduced call quality")]}),Gq=le.forwardRef((r,e)=>{const n=le.useRef(!1),t=()=>{it(n.current).modal("show")},s=()=>{it(n.current).modal("hide")};return le.useImperativeHandle(e,()=>({open:t,close:s})),A.jsxs("div",{className:"modal fade "+r.className,tabIndex:"-1",role:"dialog","aria-hidden":"true",ref:n,children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",children:[A.jsxs("div",{className:"popup-header",children:[A.jsx("div",{className:"popup-heading",children:r.title}),(r.is_closeable==null||r.is_closeable)&&A.jsx("div",{className:"popup-close",onClick:s,children:A.jsx("i",{className:"fas fa-times icon"})})]}),A.jsx("div",{className:"modal-body p-0",children:r.children})]})})]})}),Ik=window.require?window.require("electron"):{};Ik.remote&&Ik.remote.BrowserWindow;var Tv=!1;const Jq=le.forwardRef((r,e)=>{const[n,t]=le.useState(r.user_status),[s,i]=le.useState(""),[a,u]=le.useState(!1),[p,c]=le.useState(r.call),[f,d]=le.useState(r.call_options),[h,w]=le.useState(r.hostIds),[R,S]=le.useState(!1),[_,v]=le.useState(!1),C=le.useRef(!1),T=le.useRef(n),M=le.useRef(_),k=le.useRef(p),N=le.useRef(),{socket:y}=le.useContext(Za),F={},{t:I,i18n:U}=zh();T.current=n,k.current=p,M.current=_,le.useEffect(()=>(K(),()=>{it("body").removeClass("handling-call")}),[]),le.useEffect(()=>{y&&Q()},[y]),le.useEffect(()=>{w(r.host_ids)},[r.host_ids]);const K=()=>{Ae.on("call__joined",()=>{oe()}),Ae.on("call__left",ke=>{Z(ke)}),Ae.on("call__join_cancelled",()=>{fe()})},Q=()=>{console.log("callhandler attachSocketListeners",y),y.on("call__join_request_updated",ke=>{T.current==="waiting"&&k.current.id===ke.call_id&&q()})},oe=ke=>{},Z=ke=>{const{user_id:Re,user_status:Ue,user_action:qe,breakout_room:Je,soft_leave:kt}=ke;Re==N_().id&&M.current&&(u(Je),S(!1),t(Ue),i(qe),qe==="join-breakout-room"&&de(ke),qe==="leave-breakout-room"&&ye(ke),kt||fe())},de=async({is_video_on:ke,is_audio_on:Re,breakout_room:Ue})=>{await kh({milliseconds:2e3}),C.current=k.current.room_id,k.current.app_data.is_breakout_room=!0,console.log("joinBreakoutRoom",k.current,k.current.app_data),c({...k.current,room_id:Ue.id,main_room_id:C.current}),d(qe=>({...qe,is_breakout_room:!0,video:{...qe.video,muted:!ke},audio:{...qe.audio,muted:!Re},enable_join_options:!1,auth:{...qe.auth,password:""}})),console.log("joinBreakoutRoom",C.current,k.current.room_id),ce({soft_join:!0}),t(""),i("")},ye=async({is_video_on:ke,is_audio_on:Re})=>{await kh({milliseconds:2e3}),console.log("leaveBreakoutRoom",C.current,k.current.app_data,k.current.room_id),k.current.app_data.is_breakout_room=!1;var Ue=await r.getCall();Ue&&Ue.host_ids&&w(Ue.host_ids||[]),c({...k.current,room_id:C.current,main_room_id:!1}),C.current=!1,d(qe=>({...qe,is_breakout_room:!1,video:{...qe.video,muted:!ke},audio:{...qe.audio,muted:!Re},enable_join_options:!1,auth:{...qe.auth,password:""}})),ce({soft_join:!0}),t(""),i("")},q=()=>{S(!0),t("")},ee=()=>{Ae.dispatch("call__join_cancelled"),fe()},ce=(ke={})=>{var{call:Re,soft_join:Ue}=ke,qe=L_("is_call_window",!0);if(window.is_desktop_app&&window.ipcRenderer.sendSync("call__get_window_id"),console.log("CallHandler joinCall",ke,Re,r.call_options,p),window.is_desktop_app&&!qe&&!Ue){openDesktopWindow(ke),c(Re),VO({customClass:{container:"desktop-window-loading"}}),setTimeout(()=>{zO()},3e3);return}Ue||(c(r.call),d(r.call_options)),t(r.user_status),v(!0),S(!0),it("body").addClass("handling-call")},ve=()=>{window.leaveCall(),setTimeout(()=>{window.location.reload()},1e3)},fe=()=>{closeDesktopWindow(),S(!1),v(!1),c(!1),d(!1),Tv&&nD(Tv),Tv=!1,it("body").removeClass("handling-call")};return le.useImperativeHandle(e,()=>({joinCall:ce})),_?A.jsxs("div",{className:"call-handler w-100 h-100",children:[R&&n==""&&A.jsx(TT,{...r,host_ids:h,call:p,call_options:f,breakout_room:a,tflite:F}),A.jsxs(Gq,{title:Fe.t("Meeting Disrupted"),className:"call-disrupted-modal",is_closeable:!1,ref:N,children:[Fe.t("Meeting was disrupted because your system went into sleep/hibernation state. Please Rejoin"),A.jsx("div",{className:"text-right mt-4",children:A.jsx("button",{className:"button btn-primary",onClick:ve,children:Fe.t("Ok")})})]}),n==="waiting"&&A.jsxs("div",{className:"only-notification",children:[A.jsxs("div",{className:"top-side",children:[A.jsx("i",{class:"fas fa-hourglass-start icon"}),Fe.t("Host_has_moved_you")]}),A.jsx("button",{className:"go-back-btn",onClick:ee,children:Fe.t("Go back")})]}),n==="removed"&&A.jsxs("div",{className:"only-notification",children:[A.jsxs("div",{className:"top-side",children:[A.jsx("i",{class:"fas fa-user-times icon"}),A.jsxs("p",{children:[Fe.t("Host has removed you from this meeting session"),"."," ",A.jsx("br",{}),Fe.t("You can join in the next session if it is a recurring meeting")]})]}),A.jsx("button",{className:"go-back-btn",onClick:ee,children:Fe.t("Go back")})]}),n==="blocked"&&A.jsxs("div",{className:"only-notification",children:[A.jsxs("div",{className:"top-side",children:[A.jsx("i",{class:"fas fa-user-slash icon"}),Fe.t("Host has blocked you from this meeting, you can't join this meeting anymore")]}),A.jsx("button",{className:"go-back-btn",onClick:ee,children:Fe.t("Go back")})]}),s==="join-breakout-room"&&A.jsx("div",{className:"only-notification",children:A.jsxs("div",{className:"top-side",children:[A.jsx("i",{className:"fas fa-th-large icon"}),Fe.t("Joining breakout room")," ",a.title]})}),s==="leave-breakout-room"&&A.jsx("div",{className:"only-notification",children:A.jsxs("div",{className:"top-side",children:[A.jsx("i",{className:"fas fa-th-large icon"}),Fe.t("Returning to the main session")]})})]}):null}),Xq=ls("translation",{withRef:!0})(Jq);class RT extends $e.Component{constructor(e){super(e),this.chat_id=e.chat_id,this.chat={},this.is_video=!1,this.is_incoming=!1,this.current_user=e.current_user,this.call_handler_ref=$e.createRef(),this.dial_tone_ref=$e.createRef(),this.timeout_id=!1,this.state={call_options:!1,host_ids:[],is_host:!1,user_status:"",call_status:"",show_closing_screen:!1}}componentDidMount(){this.rtc_helpers=new A1({socket:this.context.ms_socket,user:this.current_user}),this.attachSocketListeners(this.context.ms_socket),this.attachBusListeners(),this.prepareJoinCall(),window.prepareJoinCall=this.prepareJoinCall.bind(this),window.onbeforeunload=n=>{this.notifyReject()};const e=new BroadcastChannel("calling_broadcast");e.onmessage=n=>{n.data.leave_call&&(this.leaveCall(),setTimeout(()=>{window.close()},3e3))}}componentWillUnmount(){this.setState=(e,n)=>{}}attachBusListeners(){Ae.on("ms_socket__connected",e=>{console.log("WnCall ms_socket__connected",this.wait_call_id),this.rtc_helpers.socket=e,this.attachSocketListeners(e),this.wait_call_id&&this.prepareJoinCall()}),Ae.on("call__left",e=>{console.log("call__left",e),this.onCallLeft(e)}),Ae.on("call__join_cancelled",()=>{console.log("call__join_cancelled"),this.resetThings()}),Ae.on("call__joined",({user_id:e})=>{this.onCallJoined({user_id:e})})}attachSocketListeners(e){console.log("attachSocketListeners",e),e&&(e.on("call:rejected",n=>{console.log("call:rejected",n),this.call_id==n.call_id&&(this.leaveCall(),this.setState({call_status:"no_answer",show_closing_screen:!0}))}),e.on("call:ringing",n=>{console.log("call:ringing",n),this.call_id==n.call_id&&this.setState({call_status:"ringing"})}),e.on("call:new",n=>{this.chat={call_image:n.user.profile_image,call_name:n.user.name},this.setState({incoming_call:n}),it(".incoming-call-modal").modal("show"),this.rtc_helpers.socketEmit({event:"call:ringing",return_response:!0,data:{call_id:n.call_id,target_user_id:n.user.id}})}))}async prepareJoinCall(e={}){var{chat_id:n,chat:t,current_user:s,target_user_id:i,redial:a}=e;n&&s&&(this.chat_id=n,this.chat=t||{},this.current_user=s,this.target_user_id=i),console.log("prepareJoinCall",this.chat_id,this.context.ms_socket,this.context.ms_socket&&this.context.ms_socket.id,this.context.ms_socket&&this.context.ms_socket.connected);var u=L_("hasVideo");if((u==="true"||u===!0)&&(this.is_video=!0),!this.context.ms_socket||!this.context.ms_socket.id){this.wait_call_id=this.chat_id;return}this.wait_call_id=!1,window.incoming_call=!1,clearTimeout(this.timeout_id),this.dial_tone_ref.current.pause();var p={audio:{muted:!1,can_turn_on:!0,can_turn_off:!0},video:{muted:!this.is_video,can_turn_on:!0,can_turn_off:!0},enable_join_options:!1},c={chatId:this.chat_id},f=!1;if(this.state.incoming_call?(c.id=this.state.incoming_call.call_id,c.chat_id=this.state.incoming_call.call_id,c.room_id=this.state.incoming_call.call_id,a&&(f=!0)):f=!0,f){var{call_id:d}=await this.rtc_helpers.socketEmit({event:"call:new",return_response:!0,data:{chat_id:this.chat_id,target_user_id:i,user:this.current_user,has_video:this.is_video}});this.call_id=d,c.id=d,c.chat_id=this.chat_id,c.room_id=d,this.setState({call_status:"calling",show_closing_screen:!1}),this.dial_tone_ref.current.play(),this.timeout_id=setTimeout(()=>{this.leaveCall()},3e4)}this.setState({call:c,call_options:p,host_ids:[]},()=>{this.call_handler_ref.current.joinCall({call:c})})}onCallLeft({soft_leave:e,user_id:n}){e||n&&(n==this.current_user.id?(this.notifyReject(),this.showClosingScreen()):window.call_helpers.getParticipantsIds().length==1&&(this.leaveCall(),this.showClosingScreen()))}onCallJoined({user_id:e}){e&&e!=this.current_user.id&&(this.dial_tone_ref.current.pause(),clearTimeout(this.timeout_id),this.setState({call_status:"connected"}))}resetThings(){this.setState({call:!1,call_options:!1,user_status:"",is_host:!1,host_ids:[]})}leaveCall(){this.dial_tone_ref.current.pause(),window.leaveCall(),this.setState({call_status:"left"})}showClosingScreen(){this.dial_tone_ref.current.pause(),this.setState({show_closing_screen:!0,call_status:"left"})}closeWindow(){window.close()}redial(){this.prepareJoinCall({redial:!0})}reject(){it(".incoming-call-modal").modal("hide"),this.notifyReject(),this.showClosingScreen()}accept(){this.dial_tone_ref.current.pause(),this.setState({call_status:"connected"}),this.prepareJoinCall({}),this.rtc_helpers.socketEmit({event:"call:accepted",data:{call_id:this.state.incoming_call.call_id,chat_id:this.state.incoming_call.chat_id,target_user_id:this.state.incoming_call.user.id}}),it(".incoming-call-modal").modal("hide")}notifyReject(){this.rtc_helpers.socketEmit({event:"call:rejected",data:{call_id:this.state.incoming_call.call_id,chat_id:this.state.incoming_call.chat_id,target_user_id:this.state.incoming_call.user.id}})}render(){const{t:e}=this.props;return A.jsxs("div",{children:[A.jsx("div",{className:"call-popup-container"+(this.state.call?"":" d-none"),children:A.jsxs(A.Fragment,{children:[A.jsx(Xq,{call:this.state.call,current_user:this.current_user,call_options:this.state.call_options,is_host:this.state.is_host,host_ids:this.state.host_ids,user_status:this.state.user_status,ref:this.call_handler_ref,tflite:this.props.tflite}),this.state.call_status&&this.state.call_status!="connected"&&A.jsxs("div",{className:"precall-screen",children:[this.chat.call_image&&A.jsx("img",{src:this.chat.call_image}),this.chat.call_images&&A.jsxs("div",{class:"images",children:[A.jsx("img",{src:this.chat.call_images[0]}),A.jsx("img",{src:this.chat.call_images[1]})]}),A.jsx("span",{className:"name",children:this.chat.call_name}),(this.state.call_status=="calling"||this.state.call_status=="ringing")&&A.jsxs(A.Fragment,{children:[A.jsxs("span",{children:[this.state.call_status,"..."]}),A.jsx("div",{className:"bottom_controls",children:A.jsx("span",{className:"leave control",onClick:()=>this.leaveCall(),children:A.jsx("i",{class:"fas fa-phone-alt icon"})})})]}),this.state.call_status=="no_answer"&&A.jsx("span",{children:"No Answer"}),this.state.show_closing_screen&&A.jsxs("span",{className:"bottom_controls",children:[A.jsxs("span",{className:"redial control",onClick:()=>this.redial(),children:[A.jsx("i",{class:"fas fa-phone-alt icon"}),A.jsx("span",{children:"Redial"})]}),A.jsxs("span",{className:"cancel control",onClick:()=>this.resetThings(),children:[A.jsx("i",{class:"fas fa-times icon"}),A.jsx("span",{children:"Cancel"})]})]})]}),A.jsx("audio",{src:"/ringtone/dial_tone.mp3",ref:this.dial_tone_ref,class:"d-none",loop:!0})]})}),A.jsxs("div",{className:"incoming-call-modal modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:[A.jsx("div",{className:"popup-backdrop"}),A.jsx("div",{className:"modal-dialog popup-container",role:"document",children:A.jsxs("div",{className:"modal-content popup-inner",style:{display:"flex",alignItems:"center"},children:[this.state.incoming_call&&A.jsxs("div",{className:"top-part text-center",children:[A.jsx("img",{src:this.state.incoming_call.user.profile_image,width:"150",height:"150"}),A.jsxs("div",{className:"right-side",children:[A.jsx("p",{className:"name",children:this.state.incoming_call.user.name}),A.jsx("p",{children:"is inviting you to a private meeting"})]})]}),A.jsxs("div",{className:"bottom-part",children:[A.jsx("button",{className:"btn btn-primary",onClick:()=>this.accept(),children:"Accept"}),A.jsx("button",{className:"btn btn-danger ml-1",onClick:()=>this.reject(),children:"Reject"})]})]})})]})]})}}Fa(RT,"contextType",Za);const Qq=ls()(RT);var Xu={exports:{}};/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Zq=Xu.exports,Fk;function e6(){return Fk||(Fk=1,function(r,e){(function(n,t){t(e,Dx())})(Zq,function(n,t){function s($){return $&&typeof $=="object"&&"default"in $?$:{default:$}}var i=s(t);function a($,Y){for(var P=0;P<Y.length;P++){var B=Y[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}function u($,Y,P){return P&&a($,P),Object.defineProperty($,"prototype",{writable:!1}),$}function p(){return p=Object.assign?Object.assign.bind():function($){for(var Y=1;Y<arguments.length;Y++){var P=arguments[Y];for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&($[B]=P[B])}return $},p.apply(this,arguments)}function c($,Y){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,B){return P.__proto__=B,P},c($,Y)}var f="transitionend",d={TRANSITION_END:"bsTransitionEnd",getUID:function($){do $+=~~(1e6*Math.random());while(document.getElementById($));return $},getSelectorFromElement:function($){var Y=$.getAttribute("data-target");if(!Y||Y==="#"){var P=$.getAttribute("href");Y=P&&P!=="#"?P.trim():""}try{return document.querySelector(Y)?Y:null}catch{return null}},getTransitionDurationFromElement:function($){if(!$)return 0;var Y=i.default($).css("transition-duration"),P=i.default($).css("transition-delay"),B=parseFloat(Y),J=parseFloat(P);return B||J?(Y=Y.split(",")[0],P=P.split(",")[0],1e3*(parseFloat(Y)+parseFloat(P))):0},reflow:function($){return $.offsetHeight},triggerTransitionEnd:function($){i.default($).trigger(f)},supportsTransitionEnd:function(){return!!f},isElement:function($){return($[0]||$).nodeType},typeCheckConfig:function($,Y,P){for(var B in P)if(Object.prototype.hasOwnProperty.call(P,B)){var J=P[B],ie=Y[B],se=ie&&d.isElement(ie)?"element":(Se=ie)===null||typeof Se>"u"?""+Se:{}.toString.call(Se).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(J).test(se))throw new Error($.toUpperCase()+': Option "'+B+'" provided type "'+se+'" but expected type "'+J+'".')}var Se},findShadowRoot:function($){if(!document.documentElement.attachShadow)return null;if(typeof $.getRootNode=="function"){var Y=$.getRootNode();return Y instanceof ShadowRoot?Y:null}return $ instanceof ShadowRoot?$:$.parentNode?d.findShadowRoot($.parentNode):null},jQueryDetection:function(){if(typeof i.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var $=i.default.fn.jquery.split(" ")[0].split(".");if($[0]<2&&$[1]<9||$[0]===1&&$[1]===9&&$[2]<1||$[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),i.default.fn.emulateTransitionEnd=function($){var Y=this,P=!1;return i.default(this).one(d.TRANSITION_END,function(){P=!0}),setTimeout(function(){P||d.triggerTransitionEnd(Y)},$),this},i.default.event.special[d.TRANSITION_END]={bindType:f,delegateType:f,handle:function($){if(i.default($.target).is(this))return $.handleObj.handler.apply(this,arguments)}};var h="bs.alert",w=i.default.fn.alert,R=function(){function $(P){this._element=P}var Y=$.prototype;return Y.close=function(P){var B=this._element;P&&(B=this._getRootElement(P)),this._triggerCloseEvent(B).isDefaultPrevented()||this._removeElement(B)},Y.dispose=function(){i.default.removeData(this._element,h),this._element=null},Y._getRootElement=function(P){var B=d.getSelectorFromElement(P),J=!1;return B&&(J=document.querySelector(B)),J||(J=i.default(P).closest(".alert")[0]),J},Y._triggerCloseEvent=function(P){var B=i.default.Event("close.bs.alert");return i.default(P).trigger(B),B},Y._removeElement=function(P){var B=this;if(i.default(P).removeClass("show"),i.default(P).hasClass("fade")){var J=d.getTransitionDurationFromElement(P);i.default(P).one(d.TRANSITION_END,function(ie){return B._destroyElement(P,ie)}).emulateTransitionEnd(J)}else this._destroyElement(P)},Y._destroyElement=function(P){i.default(P).detach().trigger("closed.bs.alert").remove()},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this),J=B.data(h);J||(J=new $(this),B.data(h,J)),P==="close"&&J[P](this)})},$._handleDismiss=function(P){return function(B){B&&B.preventDefault(),P.close(this)}},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),$}();i.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',R._handleDismiss(new R)),i.default.fn.alert=R._jQueryInterface,i.default.fn.alert.Constructor=R,i.default.fn.alert.noConflict=function(){return i.default.fn.alert=w,R._jQueryInterface};var S="bs.button",_=i.default.fn.button,v="active",C='[data-toggle^="button"]',T='input:not([type="hidden"])',M=".btn",k=function(){function $(P){this._element=P,this.shouldAvoidTriggerChange=!1}var Y=$.prototype;return Y.toggle=function(){var P=!0,B=!0,J=i.default(this._element).closest('[data-toggle="buttons"]')[0];if(J){var ie=this._element.querySelector(T);if(ie){if(ie.type==="radio")if(ie.checked&&this._element.classList.contains(v))P=!1;else{var se=J.querySelector(".active");se&&i.default(se).removeClass(v)}P&&(ie.type!=="checkbox"&&ie.type!=="radio"||(ie.checked=!this._element.classList.contains(v)),this.shouldAvoidTriggerChange||i.default(ie).trigger("change")),ie.focus(),B=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(B&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(v)),P&&i.default(this._element).toggleClass(v))},Y.dispose=function(){i.default.removeData(this._element,S),this._element=null},$._jQueryInterface=function(P,B){return this.each(function(){var J=i.default(this),ie=J.data(S);ie||(ie=new $(this),J.data(S,ie)),ie.shouldAvoidTriggerChange=B,P==="toggle"&&ie[P]()})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),$}();i.default(document).on("click.bs.button.data-api",C,function($){var Y=$.target,P=Y;if(i.default(Y).hasClass("btn")||(Y=i.default(Y).closest(M)[0]),!Y||Y.hasAttribute("disabled")||Y.classList.contains("disabled"))$.preventDefault();else{var B=Y.querySelector(T);if(B&&(B.hasAttribute("disabled")||B.classList.contains("disabled")))return void $.preventDefault();P.tagName!=="INPUT"&&Y.tagName==="LABEL"||k._jQueryInterface.call(i.default(Y),"toggle",P.tagName==="INPUT")}}).on("focus.bs.button.data-api blur.bs.button.data-api",C,function($){var Y=i.default($.target).closest(M)[0];i.default(Y).toggleClass("focus",/^focus(in)?$/.test($.type))}),i.default(window).on("load.bs.button.data-api",function(){for(var $=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),Y=0,P=$.length;Y<P;Y++){var B=$[Y],J=B.querySelector(T);J.checked||J.hasAttribute("checked")?B.classList.add(v):B.classList.remove(v)}for(var ie=0,se=($=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;ie<se;ie++){var Se=$[ie];Se.getAttribute("aria-pressed")==="true"?Se.classList.add(v):Se.classList.remove(v)}}),i.default.fn.button=k._jQueryInterface,i.default.fn.button.Constructor=k,i.default.fn.button.noConflict=function(){return i.default.fn.button=_,k._jQueryInterface};var N="carousel",y="bs.carousel",F=i.default.fn[N],I="active",U="next",K="prev",Q="slid.bs.carousel",oe=".active.carousel-item",Z={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},de={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ye={TOUCH:"touch",PEN:"pen"},q=function(){function $(P,B){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(B),this._element=P,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var Y=$.prototype;return Y.next=function(){this._isSliding||this._slide(U)},Y.nextWhenVisible=function(){var P=i.default(this._element);!document.hidden&&P.is(":visible")&&P.css("visibility")!=="hidden"&&this.next()},Y.prev=function(){this._isSliding||this._slide(K)},Y.pause=function(P){P||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},Y.cycle=function(P){P||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},Y.to=function(P){var B=this;this._activeElement=this._element.querySelector(oe);var J=this._getItemIndex(this._activeElement);if(!(P>this._items.length-1||P<0))if(this._isSliding)i.default(this._element).one(Q,function(){return B.to(P)});else{if(J===P)return this.pause(),void this.cycle();var ie=P>J?U:K;this._slide(ie,this._items[P])}},Y.dispose=function(){i.default(this._element).off(".bs.carousel"),i.default.removeData(this._element,y),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},Y._getConfig=function(P){return P=p({},Z,P),d.typeCheckConfig(N,P,de),P},Y._handleSwipe=function(){var P=Math.abs(this.touchDeltaX);if(!(P<=40)){var B=P/this.touchDeltaX;this.touchDeltaX=0,B>0&&this.prev(),B<0&&this.next()}},Y._addEventListeners=function(){var P=this;this._config.keyboard&&i.default(this._element).on("keydown.bs.carousel",function(B){return P._keydown(B)}),this._config.pause==="hover"&&i.default(this._element).on("mouseenter.bs.carousel",function(B){return P.pause(B)}).on("mouseleave.bs.carousel",function(B){return P.cycle(B)}),this._config.touch&&this._addTouchEventListeners()},Y._addTouchEventListeners=function(){var P=this;if(this._touchSupported){var B=function(ie){P._pointerEvent&&ye[ie.originalEvent.pointerType.toUpperCase()]?P.touchStartX=ie.originalEvent.clientX:P._pointerEvent||(P.touchStartX=ie.originalEvent.touches[0].clientX)},J=function(ie){P._pointerEvent&&ye[ie.originalEvent.pointerType.toUpperCase()]&&(P.touchDeltaX=ie.originalEvent.clientX-P.touchStartX),P._handleSwipe(),P._config.pause==="hover"&&(P.pause(),P.touchTimeout&&clearTimeout(P.touchTimeout),P.touchTimeout=setTimeout(function(se){return P.cycle(se)},500+P._config.interval))};i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(ie){return ie.preventDefault()}),this._pointerEvent?(i.default(this._element).on("pointerdown.bs.carousel",function(ie){return B(ie)}),i.default(this._element).on("pointerup.bs.carousel",function(ie){return J(ie)}),this._element.classList.add("pointer-event")):(i.default(this._element).on("touchstart.bs.carousel",function(ie){return B(ie)}),i.default(this._element).on("touchmove.bs.carousel",function(ie){return function(se){P.touchDeltaX=se.originalEvent.touches&&se.originalEvent.touches.length>1?0:se.originalEvent.touches[0].clientX-P.touchStartX}(ie)}),i.default(this._element).on("touchend.bs.carousel",function(ie){return J(ie)}))}},Y._keydown=function(P){if(!/input|textarea/i.test(P.target.tagName))switch(P.which){case 37:P.preventDefault(),this.prev();break;case 39:P.preventDefault(),this.next()}},Y._getItemIndex=function(P){return this._items=P&&P.parentNode?[].slice.call(P.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(P)},Y._getItemByDirection=function(P,B){var J=P===U,ie=P===K,se=this._getItemIndex(B),Se=this._items.length-1;if((ie&&se===0||J&&se===Se)&&!this._config.wrap)return B;var De=(se+(P===K?-1:1))%this._items.length;return De===-1?this._items[this._items.length-1]:this._items[De]},Y._triggerSlideEvent=function(P,B){var J=this._getItemIndex(P),ie=this._getItemIndex(this._element.querySelector(oe)),se=i.default.Event("slide.bs.carousel",{relatedTarget:P,direction:B,from:ie,to:J});return i.default(this._element).trigger(se),se},Y._setActiveIndicatorElement=function(P){if(this._indicatorsElement){var B=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));i.default(B).removeClass(I);var J=this._indicatorsElement.children[this._getItemIndex(P)];J&&i.default(J).addClass(I)}},Y._updateInterval=function(){var P=this._activeElement||this._element.querySelector(oe);if(P){var B=parseInt(P.getAttribute("data-interval"),10);B?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=B):this._config.interval=this._config.defaultInterval||this._config.interval}},Y._slide=function(P,B){var J,ie,se,Se=this,De=this._element.querySelector(oe),We=this._getItemIndex(De),Ke=B||De&&this._getItemByDirection(P,De),Ge=this._getItemIndex(Ke),tt=!!this._interval;if(P===U?(J="carousel-item-left",ie="carousel-item-next",se="left"):(J="carousel-item-right",ie="carousel-item-prev",se="right"),Ke&&i.default(Ke).hasClass(I))this._isSliding=!1;else if(!this._triggerSlideEvent(Ke,se).isDefaultPrevented()&&De&&Ke){this._isSliding=!0,tt&&this.pause(),this._setActiveIndicatorElement(Ke),this._activeElement=Ke;var mt=i.default.Event(Q,{relatedTarget:Ke,direction:se,from:We,to:Ge});if(i.default(this._element).hasClass("slide")){i.default(Ke).addClass(ie),d.reflow(Ke),i.default(De).addClass(J),i.default(Ke).addClass(J);var At=d.getTransitionDurationFromElement(De);i.default(De).one(d.TRANSITION_END,function(){i.default(Ke).removeClass(J+" "+ie).addClass(I),i.default(De).removeClass("active "+ie+" "+J),Se._isSliding=!1,setTimeout(function(){return i.default(Se._element).trigger(mt)},0)}).emulateTransitionEnd(At)}else i.default(De).removeClass(I),i.default(Ke).addClass(I),this._isSliding=!1,i.default(this._element).trigger(mt);tt&&this.cycle()}},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this).data(y),J=p({},Z,i.default(this).data());typeof P=="object"&&(J=p({},J,P));var ie=typeof P=="string"?P:J.slide;if(B||(B=new $(this,J),i.default(this).data(y,B)),typeof P=="number")B.to(P);else if(typeof ie=="string"){if(typeof B[ie]>"u")throw new TypeError('No method named "'+ie+'"');B[ie]()}else J.interval&&J.ride&&(B.pause(),B.cycle())})},$._dataApiClickHandler=function(P){var B=d.getSelectorFromElement(this);if(B){var J=i.default(B)[0];if(J&&i.default(J).hasClass("carousel")){var ie=p({},i.default(J).data(),i.default(this).data()),se=this.getAttribute("data-slide-to");se&&(ie.interval=!1),$._jQueryInterface.call(i.default(J),ie),se&&i.default(J).data(y).to(se),P.preventDefault()}}},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Z}}]),$}();i.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",q._dataApiClickHandler),i.default(window).on("load.bs.carousel.data-api",function(){for(var $=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),Y=0,P=$.length;Y<P;Y++){var B=i.default($[Y]);q._jQueryInterface.call(B,B.data())}}),i.default.fn[N]=q._jQueryInterface,i.default.fn[N].Constructor=q,i.default.fn[N].noConflict=function(){return i.default.fn[N]=F,q._jQueryInterface};var ee="collapse",ce="bs.collapse",ve=i.default.fn[ee],fe="show",ke="collapse",Re="collapsing",Ue="collapsed",qe="width",Je='[data-toggle="collapse"]',kt={toggle:!0,parent:""},Xt={toggle:"boolean",parent:"(string|element)"},qt=function(){function $(P,B){this._isTransitioning=!1,this._element=P,this._config=this._getConfig(B),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+P.id+'"],[data-toggle="collapse"][data-target="#'+P.id+'"]'));for(var J=[].slice.call(document.querySelectorAll(Je)),ie=0,se=J.length;ie<se;ie++){var Se=J[ie],De=d.getSelectorFromElement(Se),We=[].slice.call(document.querySelectorAll(De)).filter(function(Ke){return Ke===P});De!==null&&We.length>0&&(this._selector=De,this._triggerArray.push(Se))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var Y=$.prototype;return Y.toggle=function(){i.default(this._element).hasClass(fe)?this.hide():this.show()},Y.show=function(){var P,B,J=this;if(!(this._isTransitioning||i.default(this._element).hasClass(fe)||(this._parent&&(P=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(We){return typeof J._config.parent=="string"?We.getAttribute("data-parent")===J._config.parent:We.classList.contains(ke)})).length===0&&(P=null),P&&(B=i.default(P).not(this._selector).data(ce))&&B._isTransitioning))){var ie=i.default.Event("show.bs.collapse");if(i.default(this._element).trigger(ie),!ie.isDefaultPrevented()){P&&($._jQueryInterface.call(i.default(P).not(this._selector),"hide"),B||i.default(P).data(ce,null));var se=this._getDimension();i.default(this._element).removeClass(ke).addClass(Re),this._element.style[se]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(Ue).attr("aria-expanded",!0),this.setTransitioning(!0);var Se="scroll"+(se[0].toUpperCase()+se.slice(1)),De=d.getTransitionDurationFromElement(this._element);i.default(this._element).one(d.TRANSITION_END,function(){i.default(J._element).removeClass(Re).addClass("collapse show"),J._element.style[se]="",J.setTransitioning(!1),i.default(J._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(De),this._element.style[se]=this._element[Se]+"px"}}},Y.hide=function(){var P=this;if(!this._isTransitioning&&i.default(this._element).hasClass(fe)){var B=i.default.Event("hide.bs.collapse");if(i.default(this._element).trigger(B),!B.isDefaultPrevented()){var J=this._getDimension();this._element.style[J]=this._element.getBoundingClientRect()[J]+"px",d.reflow(this._element),i.default(this._element).addClass(Re).removeClass("collapse show");var ie=this._triggerArray.length;if(ie>0)for(var se=0;se<ie;se++){var Se=this._triggerArray[se],De=d.getSelectorFromElement(Se);De!==null&&(i.default([].slice.call(document.querySelectorAll(De))).hasClass(fe)||i.default(Se).addClass(Ue).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[J]="";var We=d.getTransitionDurationFromElement(this._element);i.default(this._element).one(d.TRANSITION_END,function(){P.setTransitioning(!1),i.default(P._element).removeClass(Re).addClass(ke).trigger("hidden.bs.collapse")}).emulateTransitionEnd(We)}}},Y.setTransitioning=function(P){this._isTransitioning=P},Y.dispose=function(){i.default.removeData(this._element,ce),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},Y._getConfig=function(P){return(P=p({},kt,P)).toggle=!!P.toggle,d.typeCheckConfig(ee,P,Xt),P},Y._getDimension=function(){return i.default(this._element).hasClass(qe)?qe:"height"},Y._getParent=function(){var P,B=this;d.isElement(this._config.parent)?(P=this._config.parent,typeof this._config.parent.jquery<"u"&&(P=this._config.parent[0])):P=document.querySelector(this._config.parent);var J='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',ie=[].slice.call(P.querySelectorAll(J));return i.default(ie).each(function(se,Se){B._addAriaAndCollapsedClass($._getTargetFromElement(Se),[Se])}),P},Y._addAriaAndCollapsedClass=function(P,B){var J=i.default(P).hasClass(fe);B.length&&i.default(B).toggleClass(Ue,!J).attr("aria-expanded",J)},$._getTargetFromElement=function(P){var B=d.getSelectorFromElement(P);return B?document.querySelector(B):null},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this),J=B.data(ce),ie=p({},kt,B.data(),typeof P=="object"&&P?P:{});if(!J&&ie.toggle&&typeof P=="string"&&/show|hide/.test(P)&&(ie.toggle=!1),J||(J=new $(this,ie),B.data(ce,J)),typeof P=="string"){if(typeof J[P]>"u")throw new TypeError('No method named "'+P+'"');J[P]()}})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return kt}}]),$}();i.default(document).on("click.bs.collapse.data-api",Je,function($){$.currentTarget.tagName==="A"&&$.preventDefault();var Y=i.default(this),P=d.getSelectorFromElement(this),B=[].slice.call(document.querySelectorAll(P));i.default(B).each(function(){var J=i.default(this),ie=J.data(ce)?"toggle":Y.data();qt._jQueryInterface.call(J,ie)})}),i.default.fn[ee]=qt._jQueryInterface,i.default.fn[ee].Constructor=qt,i.default.fn[ee].noConflict=function(){return i.default.fn[ee]=ve,qt._jQueryInterface};var pr=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",kn=function(){for(var $=["Edge","Trident","Firefox"],Y=0;Y<$.length;Y+=1)if(pr&&navigator.userAgent.indexOf($[Y])>=0)return 1;return 0}(),Jt=pr&&window.Promise?function($){var Y=!1;return function(){Y||(Y=!0,window.Promise.resolve().then(function(){Y=!1,$()}))}}:function($){var Y=!1;return function(){Y||(Y=!0,setTimeout(function(){Y=!1,$()},kn))}};function br($){return $&&{}.toString.call($)==="[object Function]"}function Qt($,Y){if($.nodeType!==1)return[];var P=$.ownerDocument.defaultView.getComputedStyle($,null);return Y?P[Y]:P}function on($){return $.nodeName==="HTML"?$:$.parentNode||$.host}function cr($){if(!$)return document.body;switch($.nodeName){case"HTML":case"BODY":return $.ownerDocument.body;case"#document":return $.body}var Y=Qt($),P=Y.overflow,B=Y.overflowX,J=Y.overflowY;return/(auto|scroll|overlay)/.test(P+J+B)?$:cr(on($))}function xr($){return $&&$.referenceNode?$.referenceNode:$}var en=pr&&!(!window.MSInputMethodContext||!document.documentMode),jr=pr&&/MSIE 10/.test(navigator.userAgent);function vn($){return $===11?en:$===10?jr:en||jr}function xn($){if(!$)return document.documentElement;for(var Y=vn(10)?document.body:null,P=$.offsetParent||null;P===Y&&$.nextElementSibling;)P=($=$.nextElementSibling).offsetParent;var B=P&&P.nodeName;return B&&B!=="BODY"&&B!=="HTML"?["TH","TD","TABLE"].indexOf(P.nodeName)!==-1&&Qt(P,"position")==="static"?xn(P):P:$?$.ownerDocument.documentElement:document.documentElement}function Ir($){return $.parentNode!==null?Ir($.parentNode):$}function Ct($,Y){if(!($&&$.nodeType&&Y&&Y.nodeType))return document.documentElement;var P=$.compareDocumentPosition(Y)&Node.DOCUMENT_POSITION_FOLLOWING,B=P?$:Y,J=P?Y:$,ie=document.createRange();ie.setStart(B,0),ie.setEnd(J,0);var se,Se,De=ie.commonAncestorContainer;if($!==De&&Y!==De||B.contains(J))return(Se=(se=De).nodeName)==="BODY"||Se!=="HTML"&&xn(se.firstElementChild)!==se?xn(De):De;var We=Ir($);return We.host?Ct(We.host,Y):Ct($,Ir(Y).host)}function nr($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",P=Y==="top"?"scrollTop":"scrollLeft",B=$.nodeName;if(B==="BODY"||B==="HTML"){var J=$.ownerDocument.documentElement,ie=$.ownerDocument.scrollingElement||J;return ie[P]}return $[P]}function Qe($,Y){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],B=nr(Y,"top"),J=nr(Y,"left"),ie=P?-1:1;return $.top+=B*ie,$.bottom+=B*ie,$.left+=J*ie,$.right+=J*ie,$}function Yt($,Y){var P=Y==="x"?"Left":"Top",B=P==="Left"?"Right":"Bottom";return parseFloat($["border"+P+"Width"])+parseFloat($["border"+B+"Width"])}function mr($,Y,P,B){return Math.max(Y["offset"+$],Y["scroll"+$],P["client"+$],P["offset"+$],P["scroll"+$],vn(10)?parseInt(P["offset"+$])+parseInt(B["margin"+($==="Height"?"Top":"Left")])+parseInt(B["margin"+($==="Height"?"Bottom":"Right")]):0)}function lr($){var Y=$.body,P=$.documentElement,B=vn(10)&&getComputedStyle(P);return{height:mr("Height",Y,P,B),width:mr("Width",Y,P,B)}}var $n=function($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")},Gi=function(){function $(Y,P){for(var B=0;B<P.length;B++){var J=P[B];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Y,J.key,J)}}return function(Y,P,B){return P&&$(Y.prototype,P),B&&$(Y,B),Y}}(),Vr=function($,Y,P){return Y in $?Object.defineProperty($,Y,{value:P,enumerable:!0,configurable:!0,writable:!0}):$[Y]=P,$},Bt=Object.assign||function($){for(var Y=1;Y<arguments.length;Y++){var P=arguments[Y];for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&($[B]=P[B])}return $};function Sr($){return Bt({},$,{right:$.left+$.width,bottom:$.top+$.height})}function zr($){var Y={};try{if(vn(10)){Y=$.getBoundingClientRect();var P=nr($,"top"),B=nr($,"left");Y.top+=P,Y.left+=B,Y.bottom+=P,Y.right+=B}else Y=$.getBoundingClientRect()}catch{}var J={left:Y.left,top:Y.top,width:Y.right-Y.left,height:Y.bottom-Y.top},ie=$.nodeName==="HTML"?lr($.ownerDocument):{},se=ie.width||$.clientWidth||J.width,Se=ie.height||$.clientHeight||J.height,De=$.offsetWidth-se,We=$.offsetHeight-Se;if(De||We){var Ke=Qt($);De-=Yt(Ke,"x"),We-=Yt(Ke,"y"),J.width-=De,J.height-=We}return Sr(J)}function _n($,Y){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],B=vn(10),J=Y.nodeName==="HTML",ie=zr($),se=zr(Y),Se=cr($),De=Qt(Y),We=parseFloat(De.borderTopWidth),Ke=parseFloat(De.borderLeftWidth);P&&J&&(se.top=Math.max(se.top,0),se.left=Math.max(se.left,0));var Ge=Sr({top:ie.top-se.top-We,left:ie.left-se.left-Ke,width:ie.width,height:ie.height});if(Ge.marginTop=0,Ge.marginLeft=0,!B&&J){var tt=parseFloat(De.marginTop),mt=parseFloat(De.marginLeft);Ge.top-=We-tt,Ge.bottom-=We-tt,Ge.left-=Ke-mt,Ge.right-=Ke-mt,Ge.marginTop=tt,Ge.marginLeft=mt}return(B&&!P?Y.contains(Se):Y===Se&&Se.nodeName!=="BODY")&&(Ge=Qe(Ge,Y)),Ge}function Xn($){var Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=$.ownerDocument.documentElement,B=_n($,P),J=Math.max(P.clientWidth,window.innerWidth||0),ie=Math.max(P.clientHeight,window.innerHeight||0),se=Y?0:nr(P),Se=Y?0:nr(P,"left"),De={top:se-B.top+B.marginTop,left:Se-B.left+B.marginLeft,width:J,height:ie};return Sr(De)}function pt($){var Y=$.nodeName;if(Y==="BODY"||Y==="HTML")return!1;if(Qt($,"position")==="fixed")return!0;var P=on($);return!!P&&pt(P)}function Qn($){if(!$||!$.parentElement||vn())return document.documentElement;for(var Y=$.parentElement;Y&&Qt(Y,"transform")==="none";)Y=Y.parentElement;return Y||document.documentElement}function Ti($,Y,P,B){var J=arguments.length>4&&arguments[4]!==void 0&&arguments[4],ie={top:0,left:0},se=J?Qn($):Ct($,xr(Y));if(B==="viewport")ie=Xn(se,J);else{var Se=void 0;B==="scrollParent"?(Se=cr(on(Y))).nodeName==="BODY"&&(Se=$.ownerDocument.documentElement):Se=B==="window"?$.ownerDocument.documentElement:B;var De=_n(Se,se,J);if(Se.nodeName!=="HTML"||pt(se))ie=De;else{var We=lr($.ownerDocument),Ke=We.height,Ge=We.width;ie.top+=De.top-De.marginTop,ie.bottom=Ke+De.top,ie.left+=De.left-De.marginLeft,ie.right=Ge+De.left}}var tt=typeof(P=P||0)=="number";return ie.left+=tt?P:P.left||0,ie.top+=tt?P:P.top||0,ie.right-=tt?P:P.right||0,ie.bottom-=tt?P:P.bottom||0,ie}function ps($){return $.width*$.height}function Wr($,Y,P,B,J){var ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if($.indexOf("auto")===-1)return $;var se=Ti(P,B,ie,J),Se={top:{width:se.width,height:Y.top-se.top},right:{width:se.right-Y.right,height:se.height},bottom:{width:se.width,height:se.bottom-Y.bottom},left:{width:Y.left-se.left,height:se.height}},De=Object.keys(Se).map(function(tt){return Bt({key:tt},Se[tt],{area:ps(Se[tt])})}).sort(function(tt,mt){return mt.area-tt.area}),We=De.filter(function(tt){var mt=tt.width,At=tt.height;return mt>=P.clientWidth&&At>=P.clientHeight}),Ke=We.length>0?We[0].key:De[0].key,Ge=$.split("-")[1];return Ke+(Ge?"-"+Ge:"")}function ui($,Y,P){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,J=B?Qn(Y):Ct(Y,xr(P));return _n(P,J,B)}function ms($){var Y=$.ownerDocument.defaultView.getComputedStyle($),P=parseFloat(Y.marginTop||0)+parseFloat(Y.marginBottom||0),B=parseFloat(Y.marginLeft||0)+parseFloat(Y.marginRight||0);return{width:$.offsetWidth+B,height:$.offsetHeight+P}}function Ri($){var Y={left:"right",right:"left",bottom:"top",top:"bottom"};return $.replace(/left|right|bottom|top/g,function(P){return Y[P]})}function Yr($,Y,P){P=P.split("-")[0];var B=ms($),J={width:B.width,height:B.height},ie=["right","left"].indexOf(P)!==-1,se=ie?"top":"left",Se=ie?"left":"top",De=ie?"height":"width",We=ie?"width":"height";return J[se]=Y[se]+Y[De]/2-B[De]/2,J[Se]=P===Se?Y[Se]-B[We]:Y[Ri(Se)],J}function gr($,Y){return Array.prototype.find?$.find(Y):$.filter(Y)[0]}function En($,Y,P){return(P===void 0?$:$.slice(0,function(B,J,ie){if(Array.prototype.findIndex)return B.findIndex(function(Se){return Se.name===ie});var se=gr(B,function(Se){return Se.name===ie});return B.indexOf(se)}($,0,P))).forEach(function(B){B.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var J=B.function||B.fn;B.enabled&&br(J)&&(Y.offsets.popper=Sr(Y.offsets.popper),Y.offsets.reference=Sr(Y.offsets.reference),Y=J(Y,B))}),Y}function va(){if(!this.state.isDestroyed){var $={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};$.offsets.reference=ui(this.state,this.popper,this.reference,this.options.positionFixed),$.placement=Wr(this.options.placement,$.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),$.originalPlacement=$.placement,$.positionFixed=this.options.positionFixed,$.offsets.popper=Yr(this.popper,$.offsets.reference,$.placement),$.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",$=En(this.modifiers,$),this.state.isCreated?this.options.onUpdate($):(this.state.isCreated=!0,this.options.onCreate($))}}function ro($,Y){return $.some(function(P){var B=P.name;return P.enabled&&B===Y})}function gs($){for(var Y=[!1,"ms","Webkit","Moz","O"],P=$.charAt(0).toUpperCase()+$.slice(1),B=0;B<Y.length;B++){var J=Y[B],ie=J?""+J+P:$;if(typeof document.body.style[ie]<"u")return ie}return null}function di(){return this.state.isDestroyed=!0,ro(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[gs("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function fi($){var Y=$.ownerDocument;return Y?Y.defaultView:window}function hi($,Y,P,B){var J=$.nodeName==="BODY",ie=J?$.ownerDocument.defaultView:$;ie.addEventListener(Y,P,{passive:!0}),J||hi(cr(ie.parentNode),Y,P,B),B.push(ie)}function Pi($,Y,P,B){P.updateBound=B,fi($).addEventListener("resize",P.updateBound,{passive:!0});var J=cr($);return hi(J,"scroll",P.updateBound,P.scrollParents),P.scrollElement=J,P.eventsEnabled=!0,P}function Oi(){this.state.eventsEnabled||(this.state=Pi(this.reference,this.options,this.state,this.scheduleUpdate))}function Bo(){var $,Y;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=($=this.reference,Y=this.state,fi($).removeEventListener("resize",Y.updateBound),Y.scrollParents.forEach(function(P){P.removeEventListener("scroll",Y.updateBound)}),Y.updateBound=null,Y.scrollParents=[],Y.scrollElement=null,Y.eventsEnabled=!1,Y))}function vs($){return $!==""&&!isNaN(parseFloat($))&&isFinite($)}function no($,Y){Object.keys(Y).forEach(function(P){var B="";["width","height","top","right","bottom","left"].indexOf(P)!==-1&&vs(Y[P])&&(B="px"),$.style[P]=Y[P]+B})}var _s=pr&&/Firefox/i.test(navigator.userAgent);function Vt($,Y,P){var B=gr($,function(Se){return Se.name===Y}),J=!!B&&$.some(function(Se){return Se.name===P&&Se.enabled&&Se.order<B.order});if(!J){var ie="`"+Y+"`",se="`"+P+"`";console.warn(se+" modifier is required by "+ie+" modifier in order to work, be sure to include it before "+ie+"!")}return J}var Di=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$o=Di.slice(3);function Tn($){var Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=$o.indexOf($),B=$o.slice(P+1).concat($o.slice(0,P));return Y?B.reverse():B}var ys={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function($){var Y=$.placement,P=Y.split("-")[0],B=Y.split("-")[1];if(B){var J=$.offsets,ie=J.reference,se=J.popper,Se=["bottom","top"].indexOf(P)!==-1,De=Se?"left":"top",We=Se?"width":"height",Ke={start:Vr({},De,ie[De]),end:Vr({},De,ie[De]+ie[We]-se[We])};$.offsets.popper=Bt({},se,Ke[B])}return $}},offset:{order:200,enabled:!0,fn:function($,Y){var P,B=Y.offset,J=$.placement,ie=$.offsets,se=ie.popper,Se=ie.reference,De=J.split("-")[0];return P=vs(+B)?[+B,0]:function(We,Ke,Ge,tt){var mt=[0,0],At=["right","left"].indexOf(tt)!==-1,Ft=We.split(/(\+|\-)/).map(function(dr){return dr.trim()}),ur=Ft.indexOf(gr(Ft,function(dr){return dr.search(/,|\s/)!==-1}));Ft[ur]&&Ft[ur].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Cr=/\s*,\s*|\s+/,Wt=ur!==-1?[Ft.slice(0,ur).concat([Ft[ur].split(Cr)[0]]),[Ft[ur].split(Cr)[1]].concat(Ft.slice(ur+1))]:[Ft];return Wt=Wt.map(function(dr,Pr){var Sn=(Pr===1?!At:At)?"height":"width",_t=!1;return dr.reduce(function(Br,ir){return Br[Br.length-1]===""&&["+","-"].indexOf(ir)!==-1?(Br[Br.length-1]=ir,_t=!0,Br):_t?(Br[Br.length-1]+=ir,_t=!1,Br):Br.concat(ir)},[]).map(function(Br){return function(ir,dn,Ps,Os){var Ni=ir.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),fn=+Ni[1],Cn=Ni[2];return fn?Cn.indexOf("%")===0?Sr(Cn==="%p"?Ps:Os)[dn]/100*fn:Cn==="vh"||Cn==="vw"?(Cn==="vh"?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*fn:fn:ir}(Br,Sn,Ke,Ge)})}),Wt.forEach(function(dr,Pr){dr.forEach(function(Sn,_t){vs(Sn)&&(mt[Pr]+=Sn*(dr[_t-1]==="-"?-1:1))})}),mt}(B,se,Se,De),De==="left"?(se.top+=P[0],se.left-=P[1]):De==="right"?(se.top+=P[0],se.left+=P[1]):De==="top"?(se.left+=P[0],se.top-=P[1]):De==="bottom"&&(se.left+=P[0],se.top+=P[1]),$.popper=se,$},offset:0},preventOverflow:{order:300,enabled:!0,fn:function($,Y){var P=Y.boundariesElement||xn($.instance.popper);$.instance.reference===P&&(P=xn(P));var B=gs("transform"),J=$.instance.popper.style,ie=J.top,se=J.left,Se=J[B];J.top="",J.left="",J[B]="";var De=Ti($.instance.popper,$.instance.reference,Y.padding,P,$.positionFixed);J.top=ie,J.left=se,J[B]=Se,Y.boundaries=De;var We=Y.priority,Ke=$.offsets.popper,Ge={primary:function(tt){var mt=Ke[tt];return Ke[tt]<De[tt]&&!Y.escapeWithReference&&(mt=Math.max(Ke[tt],De[tt])),Vr({},tt,mt)},secondary:function(tt){var mt=tt==="right"?"left":"top",At=Ke[mt];return Ke[tt]>De[tt]&&!Y.escapeWithReference&&(At=Math.min(Ke[mt],De[tt]-(tt==="right"?Ke.width:Ke.height))),Vr({},mt,At)}};return We.forEach(function(tt){var mt=["left","top"].indexOf(tt)!==-1?"primary":"secondary";Ke=Bt({},Ke,Ge[mt](tt))}),$.offsets.popper=Ke,$},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function($){var Y=$.offsets,P=Y.popper,B=Y.reference,J=$.placement.split("-")[0],ie=Math.floor,se=["top","bottom"].indexOf(J)!==-1,Se=se?"right":"bottom",De=se?"left":"top",We=se?"width":"height";return P[Se]<ie(B[De])&&($.offsets.popper[De]=ie(B[De])-P[We]),P[De]>ie(B[Se])&&($.offsets.popper[De]=ie(B[Se])),$}},arrow:{order:500,enabled:!0,fn:function($,Y){var P;if(!Vt($.instance.modifiers,"arrow","keepTogether"))return $;var B=Y.element;if(typeof B=="string"){if(!(B=$.instance.popper.querySelector(B)))return $}else if(!$.instance.popper.contains(B))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),$;var J=$.placement.split("-")[0],ie=$.offsets,se=ie.popper,Se=ie.reference,De=["left","right"].indexOf(J)!==-1,We=De?"height":"width",Ke=De?"Top":"Left",Ge=Ke.toLowerCase(),tt=De?"left":"top",mt=De?"bottom":"right",At=ms(B)[We];Se[mt]-At<se[Ge]&&($.offsets.popper[Ge]-=se[Ge]-(Se[mt]-At)),Se[Ge]+At>se[mt]&&($.offsets.popper[Ge]+=Se[Ge]+At-se[mt]),$.offsets.popper=Sr($.offsets.popper);var Ft=Se[Ge]+Se[We]/2-At/2,ur=Qt($.instance.popper),Cr=parseFloat(ur["margin"+Ke]),Wt=parseFloat(ur["border"+Ke+"Width"]),dr=Ft-$.offsets.popper[Ge]-Cr-Wt;return dr=Math.max(Math.min(se[We]-At,dr),0),$.arrowElement=B,$.offsets.arrow=(Vr(P={},Ge,Math.round(dr)),Vr(P,tt,""),P),$},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function($,Y){if(ro($.instance.modifiers,"inner")||$.flipped&&$.placement===$.originalPlacement)return $;var P=Ti($.instance.popper,$.instance.reference,Y.padding,Y.boundariesElement,$.positionFixed),B=$.placement.split("-")[0],J=Ri(B),ie=$.placement.split("-")[1]||"",se=[];switch(Y.behavior){case"flip":se=[B,J];break;case"clockwise":se=Tn(B);break;case"counterclockwise":se=Tn(B,!0);break;default:se=Y.behavior}return se.forEach(function(Se,De){if(B!==Se||se.length===De+1)return $;B=$.placement.split("-")[0],J=Ri(B);var We=$.offsets.popper,Ke=$.offsets.reference,Ge=Math.floor,tt=B==="left"&&Ge(We.right)>Ge(Ke.left)||B==="right"&&Ge(We.left)<Ge(Ke.right)||B==="top"&&Ge(We.bottom)>Ge(Ke.top)||B==="bottom"&&Ge(We.top)<Ge(Ke.bottom),mt=Ge(We.left)<Ge(P.left),At=Ge(We.right)>Ge(P.right),Ft=Ge(We.top)<Ge(P.top),ur=Ge(We.bottom)>Ge(P.bottom),Cr=B==="left"&&mt||B==="right"&&At||B==="top"&&Ft||B==="bottom"&&ur,Wt=["top","bottom"].indexOf(B)!==-1,dr=!!Y.flipVariations&&(Wt&&ie==="start"&&mt||Wt&&ie==="end"&&At||!Wt&&ie==="start"&&Ft||!Wt&&ie==="end"&&ur),Pr=!!Y.flipVariationsByContent&&(Wt&&ie==="start"&&At||Wt&&ie==="end"&&mt||!Wt&&ie==="start"&&ur||!Wt&&ie==="end"&&Ft),Sn=dr||Pr;(tt||Cr||Sn)&&($.flipped=!0,(tt||Cr)&&(B=se[De+1]),Sn&&(ie=function(_t){return _t==="end"?"start":_t==="start"?"end":_t}(ie)),$.placement=B+(ie?"-"+ie:""),$.offsets.popper=Bt({},$.offsets.popper,Yr($.instance.popper,$.offsets.reference,$.placement)),$=En($.instance.modifiers,$,"flip"))}),$},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function($){var Y=$.placement,P=Y.split("-")[0],B=$.offsets,J=B.popper,ie=B.reference,se=["left","right"].indexOf(P)!==-1,Se=["top","left"].indexOf(P)===-1;return J[se?"left":"top"]=ie[P]-(Se?J[se?"width":"height"]:0),$.placement=Ri(Y),$.offsets.popper=Sr(J),$}},hide:{order:800,enabled:!0,fn:function($){if(!Vt($.instance.modifiers,"hide","preventOverflow"))return $;var Y=$.offsets.reference,P=gr($.instance.modifiers,function(B){return B.name==="preventOverflow"}).boundaries;if(Y.bottom<P.top||Y.left>P.right||Y.top>P.bottom||Y.right<P.left){if($.hide===!0)return $;$.hide=!0,$.attributes["x-out-of-boundaries"]=""}else{if($.hide===!1)return $;$.hide=!1,$.attributes["x-out-of-boundaries"]=!1}return $}},computeStyle:{order:850,enabled:!0,fn:function($,Y){var P=Y.x,B=Y.y,J=$.offsets.popper,ie=gr($.instance.modifiers,function(dr){return dr.name==="applyStyle"}).gpuAcceleration;ie!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var se,Se,De=ie!==void 0?ie:Y.gpuAcceleration,We=xn($.instance.popper),Ke=zr(We),Ge={position:J.position},tt=function(dr,Pr){var Sn=dr.offsets,_t=Sn.popper,Br=Sn.reference,ir=Math.round,dn=Math.floor,Ps=function(es){return es},Os=ir(Br.width),Ni=ir(_t.width),fn=["left","right"].indexOf(dr.placement)!==-1,Cn=dr.placement.indexOf("-")!==-1,An=Pr?fn||Cn||Os%2==Ni%2?ir:dn:Ps,gi=Pr?ir:Ps;return{left:An(Os%2==1&&Ni%2==1&&!Cn&&Pr?_t.left-1:_t.left),top:gi(_t.top),bottom:gi(_t.bottom),right:An(_t.right)}}($,window.devicePixelRatio<2||!_s),mt=P==="bottom"?"top":"bottom",At=B==="right"?"left":"right",Ft=gs("transform");if(Se=mt==="bottom"?We.nodeName==="HTML"?-We.clientHeight+tt.bottom:-Ke.height+tt.bottom:tt.top,se=At==="right"?We.nodeName==="HTML"?-We.clientWidth+tt.right:-Ke.width+tt.right:tt.left,De&&Ft)Ge[Ft]="translate3d("+se+"px, "+Se+"px, 0)",Ge[mt]=0,Ge[At]=0,Ge.willChange="transform";else{var ur=mt==="bottom"?-1:1,Cr=At==="right"?-1:1;Ge[mt]=Se*ur,Ge[At]=se*Cr,Ge.willChange=mt+", "+At}var Wt={"x-placement":$.placement};return $.attributes=Bt({},Wt,$.attributes),$.styles=Bt({},Ge,$.styles),$.arrowStyles=Bt({},$.offsets.arrow,$.arrowStyles),$},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function($){var Y,P;return no($.instance.popper,$.styles),Y=$.instance.popper,P=$.attributes,Object.keys(P).forEach(function(B){P[B]!==!1?Y.setAttribute(B,P[B]):Y.removeAttribute(B)}),$.arrowElement&&Object.keys($.arrowStyles).length&&no($.arrowElement,$.arrowStyles),$},onLoad:function($,Y,P,B,J){var ie=ui(J,Y,$,P.positionFixed),se=Wr(P.placement,ie,Y,$,P.modifiers.flip.boundariesElement,P.modifiers.flip.padding);return Y.setAttribute("x-placement",se),no(Y,{position:P.positionFixed?"fixed":"absolute"}),P},gpuAcceleration:void 0}}},Zn=function(){function $(Y,P){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$n(this,$),this.scheduleUpdate=function(){return requestAnimationFrame(B.update)},this.update=Jt(this.update.bind(this)),this.options=Bt({},$.Defaults,J),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=Y&&Y.jquery?Y[0]:Y,this.popper=P&&P.jquery?P[0]:P,this.options.modifiers={},Object.keys(Bt({},$.Defaults.modifiers,J.modifiers)).forEach(function(se){B.options.modifiers[se]=Bt({},$.Defaults.modifiers[se]||{},J.modifiers?J.modifiers[se]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(se){return Bt({name:se},B.options.modifiers[se])}).sort(function(se,Se){return se.order-Se.order}),this.modifiers.forEach(function(se){se.enabled&&br(se.onLoad)&&se.onLoad(B.reference,B.popper,B.options,se,B.state)}),this.update();var ie=this.options.eventsEnabled;ie&&this.enableEventListeners(),this.state.eventsEnabled=ie}return Gi($,[{key:"update",value:function(){return va.call(this)}},{key:"destroy",value:function(){return di.call(this)}},{key:"enableEventListeners",value:function(){return Oi.call(this)}},{key:"disableEventListeners",value:function(){return Bo.call(this)}}]),$}();Zn.Utils=(typeof window<"u"?window:Zu).PopperUtils,Zn.placements=Di,Zn.Defaults=ys;var pi=Zn,Rn="dropdown",ei="bs.dropdown",_a=i.default.fn[Rn],tn=new RegExp("38|40|27"),Zt="disabled",an="show",Uo="dropdown-menu-right",io="hide.bs.dropdown",so="hidden.bs.dropdown",Mi="click.bs.dropdown.data-api",oo="keydown.bs.dropdown.data-api",ws='[data-toggle="dropdown"]',Ji=".dropdown-menu",ao={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},cn={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Fr=function(){function $(P,B){this._element=P,this._popper=null,this._config=this._getConfig(B),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var Y=$.prototype;return Y.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Zt)){var P=i.default(this._menu).hasClass(an);$._clearMenus(),P||this.show(!0)}},Y.show=function(P){if(P===void 0&&(P=!1),!(this._element.disabled||i.default(this._element).hasClass(Zt)||i.default(this._menu).hasClass(an))){var B={relatedTarget:this._element},J=i.default.Event("show.bs.dropdown",B),ie=$._getParentFromElement(this._element);if(i.default(ie).trigger(J),!J.isDefaultPrevented()){if(!this._inNavbar&&P){if(typeof pi>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var se=this._element;this._config.reference==="parent"?se=ie:d.isElement(this._config.reference)&&(se=this._config.reference,typeof this._config.reference.jquery<"u"&&(se=this._config.reference[0])),this._config.boundary!=="scrollParent"&&i.default(ie).addClass("position-static"),this._popper=new pi(se,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&i.default(ie).closest(".navbar-nav").length===0&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass(an),i.default(ie).toggleClass(an).trigger(i.default.Event("shown.bs.dropdown",B))}}},Y.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Zt)&&i.default(this._menu).hasClass(an)){var P={relatedTarget:this._element},B=i.default.Event(io,P),J=$._getParentFromElement(this._element);i.default(J).trigger(B),B.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(an),i.default(J).toggleClass(an).trigger(i.default.Event(so,P)))}},Y.dispose=function(){i.default.removeData(this._element,ei),i.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},Y.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},Y._addEventListeners=function(){var P=this;i.default(this._element).on("click.bs.dropdown",function(B){B.preventDefault(),B.stopPropagation(),P.toggle()})},Y._getConfig=function(P){return P=p({},this.constructor.Default,i.default(this._element).data(),P),d.typeCheckConfig(Rn,P,this.constructor.DefaultType),P},Y._getMenuElement=function(){if(!this._menu){var P=$._getParentFromElement(this._element);P&&(this._menu=P.querySelector(Ji))}return this._menu},Y._getPlacement=function(){var P=i.default(this._element.parentNode),B="bottom-start";return P.hasClass("dropup")?B=i.default(this._menu).hasClass(Uo)?"top-end":"top-start":P.hasClass("dropright")?B="right-start":P.hasClass("dropleft")?B="left-start":i.default(this._menu).hasClass(Uo)&&(B="bottom-end"),B},Y._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},Y._getOffset=function(){var P=this,B={};return typeof this._config.offset=="function"?B.fn=function(J){return J.offsets=p({},J.offsets,P._config.offset(J.offsets,P._element)),J}:B.offset=this._config.offset,B},Y._getPopperConfig=function(){var P={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(P.modifiers.applyStyle={enabled:!1}),p({},P,this._config.popperConfig)},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this).data(ei);if(B||(B=new $(this,typeof P=="object"?P:null),i.default(this).data(ei,B)),typeof P=="string"){if(typeof B[P]>"u")throw new TypeError('No method named "'+P+'"');B[P]()}})},$._clearMenus=function(P){if(!P||P.which!==3&&(P.type!=="keyup"||P.which===9))for(var B=[].slice.call(document.querySelectorAll(ws)),J=0,ie=B.length;J<ie;J++){var se=$._getParentFromElement(B[J]),Se=i.default(B[J]).data(ei),De={relatedTarget:B[J]};if(P&&P.type==="click"&&(De.clickEvent=P),Se){var We=Se._menu;if(i.default(se).hasClass(an)&&!(P&&(P.type==="click"&&/input|textarea/i.test(P.target.tagName)||P.type==="keyup"&&P.which===9)&&i.default.contains(se,P.target))){var Ke=i.default.Event(io,De);i.default(se).trigger(Ke),Ke.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),B[J].setAttribute("aria-expanded","false"),Se._popper&&Se._popper.destroy(),i.default(We).removeClass(an),i.default(se).removeClass(an).trigger(i.default.Event(so,De)))}}}},$._getParentFromElement=function(P){var B,J=d.getSelectorFromElement(P);return J&&(B=document.querySelector(J)),B||P.parentNode},$._dataApiKeydownHandler=function(P){if(!(/input|textarea/i.test(P.target.tagName)?P.which===32||P.which!==27&&(P.which!==40&&P.which!==38||i.default(P.target).closest(Ji).length):!tn.test(P.which))&&!this.disabled&&!i.default(this).hasClass(Zt)){var B=$._getParentFromElement(this),J=i.default(B).hasClass(an);if(J||P.which!==27){if(P.preventDefault(),P.stopPropagation(),!J||P.which===27||P.which===32)return P.which===27&&i.default(B.querySelector(ws)).trigger("focus"),void i.default(this).trigger("click");var ie=[].slice.call(B.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(Se){return i.default(Se).is(":visible")});if(ie.length!==0){var se=ie.indexOf(P.target);P.which===38&&se>0&&se--,P.which===40&&se<ie.length-1&&se++,se<0&&(se=0),ie[se].focus()}}}},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ao}},{key:"DefaultType",get:function(){return cn}}]),$}();i.default(document).on(oo,ws,Fr._dataApiKeydownHandler).on(oo,Ji,Fr._dataApiKeydownHandler).on(Mi+" keyup.bs.dropdown.data-api",Fr._clearMenus).on(Mi,ws,function($){$.preventDefault(),$.stopPropagation(),Fr._jQueryInterface.call(i.default(this),"toggle")}).on(Mi,".dropdown form",function($){$.stopPropagation()}),i.default.fn[Rn]=Fr._jQueryInterface,i.default.fn[Rn].Constructor=Fr,i.default.fn[Rn].noConflict=function(){return i.default.fn[Rn]=_a,Fr._jQueryInterface};var er="bs.modal",rn=i.default.fn.modal,Un="modal-open",Pn="fade",ti="show",bs="modal-static",Ss="hidden.bs.modal",ri="show.bs.modal",yn="focusin.bs.modal",Cs="resize.bs.modal",co="click.dismiss.bs.modal",Kr="keydown.dismiss.bs.modal",lo="mousedown.dismiss.bs.modal",Xi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ai={backdrop:!0,keyboard:!0,focus:!0,show:!0},ya={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},nn=function(){function $(P,B){this._config=this._getConfig(B),this._element=P,this._dialog=P.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var Y=$.prototype;return Y.toggle=function(P){return this._isShown?this.hide():this.show(P)},Y.show=function(P){var B=this;if(!this._isShown&&!this._isTransitioning){var J=i.default.Event(ri,{relatedTarget:P});i.default(this._element).trigger(J),J.isDefaultPrevented()||(this._isShown=!0,i.default(this._element).hasClass(Pn)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(co,'[data-dismiss="modal"]',function(ie){return B.hide(ie)}),i.default(this._dialog).on(lo,function(){i.default(B._element).one("mouseup.dismiss.bs.modal",function(ie){i.default(ie.target).is(B._element)&&(B._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return B._showElement(P)}))}},Y.hide=function(P){var B=this;if(P&&P.preventDefault(),this._isShown&&!this._isTransitioning){var J=i.default.Event("hide.bs.modal");if(i.default(this._element).trigger(J),this._isShown&&!J.isDefaultPrevented()){this._isShown=!1;var ie=i.default(this._element).hasClass(Pn);if(ie&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(yn),i.default(this._element).removeClass(ti),i.default(this._element).off(co),i.default(this._dialog).off(lo),ie){var se=d.getTransitionDurationFromElement(this._element);i.default(this._element).one(d.TRANSITION_END,function(Se){return B._hideModal(Se)}).emulateTransitionEnd(se)}else this._hideModal()}}},Y.dispose=function(){[window,this._element,this._dialog].forEach(function(P){return i.default(P).off(".bs.modal")}),i.default(document).off(yn),i.default.removeData(this._element,er),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},Y.handleUpdate=function(){this._adjustDialog()},Y._getConfig=function(P){return P=p({},Ai,P),d.typeCheckConfig("modal",P,ya),P},Y._triggerBackdropTransition=function(){var P=this,B=i.default.Event("hidePrevented.bs.modal");if(i.default(this._element).trigger(B),!B.isDefaultPrevented()){var J=this._element.scrollHeight>document.documentElement.clientHeight;J||(this._element.style.overflowY="hidden"),this._element.classList.add(bs);var ie=d.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(d.TRANSITION_END),i.default(this._element).one(d.TRANSITION_END,function(){P._element.classList.remove(bs),J||i.default(P._element).one(d.TRANSITION_END,function(){P._element.style.overflowY=""}).emulateTransitionEnd(P._element,ie)}).emulateTransitionEnd(ie),this._element.focus()}},Y._showElement=function(P){var B=this,J=i.default(this._element).hasClass(Pn),ie=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass("modal-dialog-scrollable")&&ie?ie.scrollTop=0:this._element.scrollTop=0,J&&d.reflow(this._element),i.default(this._element).addClass(ti),this._config.focus&&this._enforceFocus();var se=i.default.Event("shown.bs.modal",{relatedTarget:P}),Se=function(){B._config.focus&&B._element.focus(),B._isTransitioning=!1,i.default(B._element).trigger(se)};if(J){var De=d.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(d.TRANSITION_END,Se).emulateTransitionEnd(De)}else Se()},Y._enforceFocus=function(){var P=this;i.default(document).off(yn).on(yn,function(B){document!==B.target&&P._element!==B.target&&i.default(P._element).has(B.target).length===0&&P._element.focus()})},Y._setEscapeEvent=function(){var P=this;this._isShown?i.default(this._element).on(Kr,function(B){P._config.keyboard&&B.which===27?(B.preventDefault(),P.hide()):P._config.keyboard||B.which!==27||P._triggerBackdropTransition()}):this._isShown||i.default(this._element).off(Kr)},Y._setResizeEvent=function(){var P=this;this._isShown?i.default(window).on(Cs,function(B){return P.handleUpdate(B)}):i.default(window).off(Cs)},Y._hideModal=function(){var P=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){i.default(document.body).removeClass(Un),P._resetAdjustments(),P._resetScrollbar(),i.default(P._element).trigger(Ss)})},Y._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},Y._showBackdrop=function(P){var B=this,J=i.default(this._element).hasClass(Pn)?Pn:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",J&&this._backdrop.classList.add(J),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(co,function(De){B._ignoreBackdropClick?B._ignoreBackdropClick=!1:De.target===De.currentTarget&&(B._config.backdrop==="static"?B._triggerBackdropTransition():B.hide())}),J&&d.reflow(this._backdrop),i.default(this._backdrop).addClass(ti),!P)return;if(!J)return void P();var ie=d.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(d.TRANSITION_END,P).emulateTransitionEnd(ie)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(ti);var se=function(){B._removeBackdrop(),P&&P()};if(i.default(this._element).hasClass(Pn)){var Se=d.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(d.TRANSITION_END,se).emulateTransitionEnd(Se)}else se()}else P&&P()},Y._adjustDialog=function(){var P=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&P&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!P&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},Y._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},Y._checkScrollbar=function(){var P=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(P.left+P.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},Y._setScrollbar=function(){var P=this;if(this._isBodyOverflowing){var B=[].slice.call(document.querySelectorAll(Xi)),J=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(B).each(function(Se,De){var We=De.style.paddingRight,Ke=i.default(De).css("padding-right");i.default(De).data("padding-right",We).css("padding-right",parseFloat(Ke)+P._scrollbarWidth+"px")}),i.default(J).each(function(Se,De){var We=De.style.marginRight,Ke=i.default(De).css("margin-right");i.default(De).data("margin-right",We).css("margin-right",parseFloat(Ke)-P._scrollbarWidth+"px")});var ie=document.body.style.paddingRight,se=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",ie).css("padding-right",parseFloat(se)+this._scrollbarWidth+"px")}i.default(document.body).addClass(Un)},Y._resetScrollbar=function(){var P=[].slice.call(document.querySelectorAll(Xi));i.default(P).each(function(ie,se){var Se=i.default(se).data("padding-right");i.default(se).removeData("padding-right"),se.style.paddingRight=Se||""});var B=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(B).each(function(ie,se){var Se=i.default(se).data("margin-right");typeof Se<"u"&&i.default(se).css("margin-right",Se).removeData("margin-right")});var J=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=J||""},Y._getScrollbarWidth=function(){var P=document.createElement("div");P.className="modal-scrollbar-measure",document.body.appendChild(P);var B=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),B},$._jQueryInterface=function(P,B){return this.each(function(){var J=i.default(this).data(er),ie=p({},Ai,i.default(this).data(),typeof P=="object"&&P?P:{});if(J||(J=new $(this,ie),i.default(this).data(er,J)),typeof P=="string"){if(typeof J[P]>"u")throw new TypeError('No method named "'+P+'"');J[P](B)}else ie.show&&J.show(B)})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Ai}}]),$}();i.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function($){var Y,P=this,B=d.getSelectorFromElement(this);B&&(Y=document.querySelector(B));var J=i.default(Y).data(er)?"toggle":p({},i.default(Y).data(),i.default(this).data());this.tagName!=="A"&&this.tagName!=="AREA"||$.preventDefault();var ie=i.default(Y).one(ri,function(se){se.isDefaultPrevented()||ie.one(Ss,function(){i.default(P).is(":visible")&&P.focus()})});nn._jQueryInterface.call(i.default(Y),J,this)}),i.default.fn.modal=nn._jQueryInterface,i.default.fn.modal.Constructor=nn,i.default.fn.modal.noConflict=function(){return i.default.fn.modal=rn,nn._jQueryInterface};var ln=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],ks=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,qo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function ni($,Y,P){if($.length===0)return $;if(P&&typeof P=="function")return P($);for(var B=new window.DOMParser().parseFromString($,"text/html"),J=Object.keys(Y),ie=[].slice.call(B.body.querySelectorAll("*")),se=function(We,Ke){var Ge=ie[We],tt=Ge.nodeName.toLowerCase();if(J.indexOf(Ge.nodeName.toLowerCase())===-1)return Ge.parentNode.removeChild(Ge),"continue";var mt=[].slice.call(Ge.attributes),At=[].concat(Y["*"]||[],Y[tt]||[]);mt.forEach(function(Ft){(function(ur,Cr){var Wt=ur.nodeName.toLowerCase();if(Cr.indexOf(Wt)!==-1)return ln.indexOf(Wt)===-1||!!(ks.test(ur.nodeValue)||qo.test(ur.nodeValue));for(var dr=Cr.filter(function(_t){return _t instanceof RegExp}),Pr=0,Sn=dr.length;Pr<Sn;Pr++)if(dr[Pr].test(Wt))return!0;return!1})(Ft,At)||Ge.removeAttribute(Ft.nodeName)})},Se=0,De=ie.length;Se<De;Se++)se(Se);return B.body.innerHTML}var uo="tooltip",On="bs.tooltip",fo=i.default.fn.tooltip,Ho=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ho=["sanitize","whiteList","sanitizeFn"],mi="fade",po="show",ji="show",xs="out",zt="hover",Li="focus",tc={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Qi={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Es={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Vo={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Dn=function(){function $(P,B){if(typeof pi>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=P,this.config=this._getConfig(B),this.tip=null,this._setListeners()}var Y=$.prototype;return Y.enable=function(){this._isEnabled=!0},Y.disable=function(){this._isEnabled=!1},Y.toggleEnabled=function(){this._isEnabled=!this._isEnabled},Y.toggle=function(P){if(this._isEnabled)if(P){var B=this.constructor.DATA_KEY,J=i.default(P.currentTarget).data(B);J||(J=new this.constructor(P.currentTarget,this._getDelegateConfig()),i.default(P.currentTarget).data(B,J)),J._activeTrigger.click=!J._activeTrigger.click,J._isWithActiveTrigger()?J._enter(null,J):J._leave(null,J)}else{if(i.default(this.getTipElement()).hasClass(po))return void this._leave(null,this);this._enter(null,this)}},Y.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},Y.show=function(){var P=this;if(i.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var B=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(B);var J=d.findShadowRoot(this.element),ie=i.default.contains(J!==null?J:this.element.ownerDocument.documentElement,this.element);if(B.isDefaultPrevented()||!ie)return;var se=this.getTipElement(),Se=d.getUID(this.constructor.NAME);se.setAttribute("id",Se),this.element.setAttribute("aria-describedby",Se),this.setContent(),this.config.animation&&i.default(se).addClass(mi);var De=typeof this.config.placement=="function"?this.config.placement.call(this,se,this.element):this.config.placement,We=this._getAttachment(De);this.addAttachmentClass(We);var Ke=this._getContainer();i.default(se).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(se).appendTo(Ke),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new pi(this.element,se,this._getPopperConfig(We)),i.default(se).addClass(po),i.default(se).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var Ge=function(){P.config.animation&&P._fixTransition();var mt=P._hoverState;P._hoverState=null,i.default(P.element).trigger(P.constructor.Event.SHOWN),mt===xs&&P._leave(null,P)};if(i.default(this.tip).hasClass(mi)){var tt=d.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(d.TRANSITION_END,Ge).emulateTransitionEnd(tt)}else Ge()}},Y.hide=function(P){var B=this,J=this.getTipElement(),ie=i.default.Event(this.constructor.Event.HIDE),se=function(){B._hoverState!==ji&&J.parentNode&&J.parentNode.removeChild(J),B._cleanTipClass(),B.element.removeAttribute("aria-describedby"),i.default(B.element).trigger(B.constructor.Event.HIDDEN),B._popper!==null&&B._popper.destroy(),P&&P()};if(i.default(this.element).trigger(ie),!ie.isDefaultPrevented()){if(i.default(J).removeClass(po),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass(mi)){var Se=d.getTransitionDurationFromElement(J);i.default(J).one(d.TRANSITION_END,se).emulateTransitionEnd(Se)}else se();this._hoverState=""}},Y.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},Y.isWithContent=function(){return!!this.getTitle()},Y.addAttachmentClass=function(P){i.default(this.getTipElement()).addClass("bs-tooltip-"+P)},Y.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},Y.setContent=function(){var P=this.getTipElement();this.setElementContent(i.default(P.querySelectorAll(".tooltip-inner")),this.getTitle()),i.default(P).removeClass("fade show")},Y.setElementContent=function(P,B){typeof B!="object"||!B.nodeType&&!B.jquery?this.config.html?(this.config.sanitize&&(B=ni(B,this.config.whiteList,this.config.sanitizeFn)),P.html(B)):P.text(B):this.config.html?i.default(B).parent().is(P)||P.empty().append(B):P.text(i.default(B).text())},Y.getTitle=function(){var P=this.element.getAttribute("data-original-title");return P||(P=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),P},Y._getPopperConfig=function(P){var B=this;return p({},{placement:P,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(J){J.originalPlacement!==J.placement&&B._handlePopperPlacementChange(J)},onUpdate:function(J){return B._handlePopperPlacementChange(J)}},this.config.popperConfig)},Y._getOffset=function(){var P=this,B={};return typeof this.config.offset=="function"?B.fn=function(J){return J.offsets=p({},J.offsets,P.config.offset(J.offsets,P.element)),J}:B.offset=this.config.offset,B},Y._getContainer=function(){return this.config.container===!1?document.body:d.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},Y._getAttachment=function(P){return tc[P.toUpperCase()]},Y._setListeners=function(){var P=this;this.config.trigger.split(" ").forEach(function(B){if(B==="click")i.default(P.element).on(P.constructor.Event.CLICK,P.config.selector,function(se){return P.toggle(se)});else if(B!=="manual"){var J=B===zt?P.constructor.Event.MOUSEENTER:P.constructor.Event.FOCUSIN,ie=B===zt?P.constructor.Event.MOUSELEAVE:P.constructor.Event.FOCUSOUT;i.default(P.element).on(J,P.config.selector,function(se){return P._enter(se)}).on(ie,P.config.selector,function(se){return P._leave(se)})}}),this._hideModalHandler=function(){P.element&&P.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=p({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},Y._fixTitle=function(){var P=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||P!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},Y._enter=function(P,B){var J=this.constructor.DATA_KEY;(B=B||i.default(P.currentTarget).data(J))||(B=new this.constructor(P.currentTarget,this._getDelegateConfig()),i.default(P.currentTarget).data(J,B)),P&&(B._activeTrigger[P.type==="focusin"?Li:zt]=!0),i.default(B.getTipElement()).hasClass(po)||B._hoverState===ji?B._hoverState=ji:(clearTimeout(B._timeout),B._hoverState=ji,B.config.delay&&B.config.delay.show?B._timeout=setTimeout(function(){B._hoverState===ji&&B.show()},B.config.delay.show):B.show())},Y._leave=function(P,B){var J=this.constructor.DATA_KEY;(B=B||i.default(P.currentTarget).data(J))||(B=new this.constructor(P.currentTarget,this._getDelegateConfig()),i.default(P.currentTarget).data(J,B)),P&&(B._activeTrigger[P.type==="focusout"?Li:zt]=!1),B._isWithActiveTrigger()||(clearTimeout(B._timeout),B._hoverState=xs,B.config.delay&&B.config.delay.hide?B._timeout=setTimeout(function(){B._hoverState===xs&&B.hide()},B.config.delay.hide):B.hide())},Y._isWithActiveTrigger=function(){for(var P in this._activeTrigger)if(this._activeTrigger[P])return!0;return!1},Y._getConfig=function(P){var B=i.default(this.element).data();return Object.keys(B).forEach(function(J){ho.indexOf(J)!==-1&&delete B[J]}),typeof(P=p({},this.constructor.Default,B,typeof P=="object"&&P?P:{})).delay=="number"&&(P.delay={show:P.delay,hide:P.delay}),typeof P.title=="number"&&(P.title=P.title.toString()),typeof P.content=="number"&&(P.content=P.content.toString()),d.typeCheckConfig(uo,P,this.constructor.DefaultType),P.sanitize&&(P.template=ni(P.template,P.whiteList,P.sanitizeFn)),P},Y._getDelegateConfig=function(){var P={};if(this.config)for(var B in this.config)this.constructor.Default[B]!==this.config[B]&&(P[B]=this.config[B]);return P},Y._cleanTipClass=function(){var P=i.default(this.getTipElement()),B=P.attr("class").match(Ho);B!==null&&B.length&&P.removeClass(B.join(""))},Y._handlePopperPlacementChange=function(P){this.tip=P.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(P.placement))},Y._fixTransition=function(){var P=this.getTipElement(),B=this.config.animation;P.getAttribute("x-placement")===null&&(i.default(P).removeClass(mi),this.config.animation=!1,this.hide(),this.show(),this.config.animation=B)},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this),J=B.data(On),ie=typeof P=="object"&&P;if((J||!/dispose|hide/.test(P))&&(J||(J=new $(this,ie),B.data(On,J)),typeof P=="string")){if(typeof J[P]>"u")throw new TypeError('No method named "'+P+'"');J[P]()}})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Qi}},{key:"NAME",get:function(){return uo}},{key:"DATA_KEY",get:function(){return On}},{key:"Event",get:function(){return Vo}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Es}}]),$}();i.default.fn.tooltip=Dn._jQueryInterface,i.default.fn.tooltip.Constructor=Dn,i.default.fn.tooltip.noConflict=function(){return i.default.fn.tooltip=fo,Dn._jQueryInterface};var ii="bs.popover",Ts=i.default.fn.popover,Rs=new RegExp("(^|\\s)bs-popover\\S+","g"),qn=p({},Dn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),wa=p({},Dn.DefaultType,{content:"(string|element|function)"}),ba={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Zi=function($){var Y,P;function B(){return $.apply(this,arguments)||this}P=$,(Y=B).prototype=Object.create(P.prototype),Y.prototype.constructor=Y,c(Y,P);var J=B.prototype;return J.isWithContent=function(){return this.getTitle()||this._getContent()},J.addAttachmentClass=function(ie){i.default(this.getTipElement()).addClass("bs-popover-"+ie)},J.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},J.setContent=function(){var ie=i.default(this.getTipElement());this.setElementContent(ie.find(".popover-header"),this.getTitle());var se=this._getContent();typeof se=="function"&&(se=se.call(this.element)),this.setElementContent(ie.find(".popover-body"),se),ie.removeClass("fade show")},J._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},J._cleanTipClass=function(){var ie=i.default(this.getTipElement()),se=ie.attr("class").match(Rs);se!==null&&se.length>0&&ie.removeClass(se.join(""))},B._jQueryInterface=function(ie){return this.each(function(){var se=i.default(this).data(ii),Se=typeof ie=="object"?ie:null;if((se||!/dispose|hide/.test(ie))&&(se||(se=new B(this,Se),i.default(this).data(ii,se)),typeof ie=="string")){if(typeof se[ie]>"u")throw new TypeError('No method named "'+ie+'"');se[ie]()}})},u(B,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return qn}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return ii}},{key:"Event",get:function(){return ba}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return wa}}]),B}(Dn);i.default.fn.popover=Zi._jQueryInterface,i.default.fn.popover.Constructor=Zi,i.default.fn.popover.noConflict=function(){return i.default.fn.popover=Ts,Zi._jQueryInterface};var wn="scrollspy",zo="bs.scrollspy",mo=i.default.fn[wn],bn="active",Wo="position",un=".nav, .list-group",go={offset:10,method:"auto",target:""},si={offset:"number",method:"string",target:"(string|element)"},Mn=function(){function $(P,B){var J=this;this._element=P,this._scrollElement=P.tagName==="BODY"?window:P,this._config=this._getConfig(B),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on("scroll.bs.scrollspy",function(ie){return J._process(ie)}),this.refresh(),this._process()}var Y=$.prototype;return Y.refresh=function(){var P=this,B=this._scrollElement===this._scrollElement.window?"offset":Wo,J=this._config.method==="auto"?B:this._config.method,ie=J===Wo?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(se){var Se,De=d.getSelectorFromElement(se);if(De&&(Se=document.querySelector(De)),Se){var We=Se.getBoundingClientRect();if(We.width||We.height)return[i.default(Se)[J]().top+ie,De]}return null}).filter(Boolean).sort(function(se,Se){return se[0]-Se[0]}).forEach(function(se){P._offsets.push(se[0]),P._targets.push(se[1])})},Y.dispose=function(){i.default.removeData(this._element,zo),i.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},Y._getConfig=function(P){if(typeof(P=p({},go,typeof P=="object"&&P?P:{})).target!="string"&&d.isElement(P.target)){var B=i.default(P.target).attr("id");B||(B=d.getUID(wn),i.default(P.target).attr("id",B)),P.target="#"+B}return d.typeCheckConfig(wn,P,si),P},Y._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},Y._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},Y._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},Y._process=function(){var P=this._getScrollTop()+this._config.offset,B=this._getScrollHeight(),J=this._config.offset+B-this._getOffsetHeight();if(this._scrollHeight!==B&&this.refresh(),P>=J){var ie=this._targets[this._targets.length-1];this._activeTarget!==ie&&this._activate(ie)}else{if(this._activeTarget&&P<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var se=this._offsets.length;se--;)this._activeTarget!==this._targets[se]&&P>=this._offsets[se]&&(typeof this._offsets[se+1]>"u"||P<this._offsets[se+1])&&this._activate(this._targets[se])}},Y._activate=function(P){this._activeTarget=P,this._clear();var B=this._selector.split(",").map(function(ie){return ie+'[data-target="'+P+'"],'+ie+'[href="'+P+'"]'}),J=i.default([].slice.call(document.querySelectorAll(B.join(","))));J.hasClass("dropdown-item")?(J.closest(".dropdown").find(".dropdown-toggle").addClass(bn),J.addClass(bn)):(J.addClass(bn),J.parents(un).prev(".nav-link, .list-group-item").addClass(bn),J.parents(un).prev(".nav-item").children(".nav-link").addClass(bn)),i.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:P})},Y._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(P){return P.classList.contains(bn)}).forEach(function(P){return P.classList.remove(bn)})},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this).data(zo);if(B||(B=new $(this,typeof P=="object"&&P),i.default(this).data(zo,B)),typeof P=="string"){if(typeof B[P]>"u")throw new TypeError('No method named "'+P+'"');B[P]()}})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return go}}]),$}();i.default(window).on("load.bs.scrollspy.data-api",function(){for(var $=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),Y=$.length;Y--;){var P=i.default($[Y]);Mn._jQueryInterface.call(P,P.data())}}),i.default.fn[wn]=Mn._jQueryInterface,i.default.fn[wn].Constructor=Mn,i.default.fn[wn].noConflict=function(){return i.default.fn[wn]=mo,Mn._jQueryInterface};var g="bs.tab",b=i.default.fn.tab,D="active",L="fade",z="show",V=".active",G="> li > .active",ue=function(){function $(P){this._element=P}var Y=$.prototype;return Y.show=function(){var P=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(D)||i.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var B,J,ie=i.default(this._element).closest(".nav, .list-group")[0],se=d.getSelectorFromElement(this._element);if(ie){var Se=ie.nodeName==="UL"||ie.nodeName==="OL"?G:V;J=(J=i.default.makeArray(i.default(ie).find(Se)))[J.length-1]}var De=i.default.Event("hide.bs.tab",{relatedTarget:this._element}),We=i.default.Event("show.bs.tab",{relatedTarget:J});if(J&&i.default(J).trigger(De),i.default(this._element).trigger(We),!We.isDefaultPrevented()&&!De.isDefaultPrevented()){se&&(B=document.querySelector(se)),this._activate(this._element,ie);var Ke=function(){var Ge=i.default.Event("hidden.bs.tab",{relatedTarget:P._element}),tt=i.default.Event("shown.bs.tab",{relatedTarget:J});i.default(J).trigger(Ge),i.default(P._element).trigger(tt)};B?this._activate(B,B.parentNode,Ke):Ke()}}},Y.dispose=function(){i.default.removeData(this._element,g),this._element=null},Y._activate=function(P,B,J){var ie=this,se=(!B||B.nodeName!=="UL"&&B.nodeName!=="OL"?i.default(B).children(V):i.default(B).find(G))[0],Se=J&&se&&i.default(se).hasClass(L),De=function(){return ie._transitionComplete(P,se,J)};if(se&&Se){var We=d.getTransitionDurationFromElement(se);i.default(se).removeClass(z).one(d.TRANSITION_END,De).emulateTransitionEnd(We)}else De()},Y._transitionComplete=function(P,B,J){if(B){i.default(B).removeClass(D);var ie=i.default(B.parentNode).find("> .dropdown-menu .active")[0];ie&&i.default(ie).removeClass(D),B.getAttribute("role")==="tab"&&B.setAttribute("aria-selected",!1)}i.default(P).addClass(D),P.getAttribute("role")==="tab"&&P.setAttribute("aria-selected",!0),d.reflow(P),P.classList.contains(L)&&P.classList.add(z);var se=P.parentNode;if(se&&se.nodeName==="LI"&&(se=se.parentNode),se&&i.default(se).hasClass("dropdown-menu")){var Se=i.default(P).closest(".dropdown")[0];if(Se){var De=[].slice.call(Se.querySelectorAll(".dropdown-toggle"));i.default(De).addClass(D)}P.setAttribute("aria-expanded",!0)}J&&J()},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this),J=B.data(g);if(J||(J=new $(this),B.data(g,J)),typeof P=="string"){if(typeof J[P]>"u")throw new TypeError('No method named "'+P+'"');J[P]()}})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),$}();i.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function($){$.preventDefault(),ue._jQueryInterface.call(i.default(this),"show")}),i.default.fn.tab=ue._jQueryInterface,i.default.fn.tab.Constructor=ue,i.default.fn.tab.noConflict=function(){return i.default.fn.tab=b,ue._jQueryInterface};var ae="bs.toast",ge=i.default.fn.toast,Te="hide",Oe="show",be="showing",Ie="click.dismiss.bs.toast",vt={animation:!0,autohide:!0,delay:500},Dt={animation:"boolean",autohide:"boolean",delay:"number"},wt=function(){function $(P,B){this._element=P,this._config=this._getConfig(B),this._timeout=null,this._setListeners()}var Y=$.prototype;return Y.show=function(){var P=this,B=i.default.Event("show.bs.toast");if(i.default(this._element).trigger(B),!B.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var J=function(){P._element.classList.remove(be),P._element.classList.add(Oe),i.default(P._element).trigger("shown.bs.toast"),P._config.autohide&&(P._timeout=setTimeout(function(){P.hide()},P._config.delay))};if(this._element.classList.remove(Te),d.reflow(this._element),this._element.classList.add(be),this._config.animation){var ie=d.getTransitionDurationFromElement(this._element);i.default(this._element).one(d.TRANSITION_END,J).emulateTransitionEnd(ie)}else J()}},Y.hide=function(){if(this._element.classList.contains(Oe)){var P=i.default.Event("hide.bs.toast");i.default(this._element).trigger(P),P.isDefaultPrevented()||this._close()}},Y.dispose=function(){this._clearTimeout(),this._element.classList.contains(Oe)&&this._element.classList.remove(Oe),i.default(this._element).off(Ie),i.default.removeData(this._element,ae),this._element=null,this._config=null},Y._getConfig=function(P){return P=p({},vt,i.default(this._element).data(),typeof P=="object"&&P?P:{}),d.typeCheckConfig("toast",P,this.constructor.DefaultType),P},Y._setListeners=function(){var P=this;i.default(this._element).on(Ie,'[data-dismiss="toast"]',function(){return P.hide()})},Y._close=function(){var P=this,B=function(){P._element.classList.add(Te),i.default(P._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(Oe),this._config.animation){var J=d.getTransitionDurationFromElement(this._element);i.default(this._element).one(d.TRANSITION_END,B).emulateTransitionEnd(J)}else B()},Y._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},$._jQueryInterface=function(P){return this.each(function(){var B=i.default(this),J=B.data(ae);if(J||(J=new $(this,typeof P=="object"&&P),B.data(ae,J)),typeof P=="string"){if(typeof J[P]>"u")throw new TypeError('No method named "'+P+'"');J[P](this)}})},u($,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Dt}},{key:"Default",get:function(){return vt}}]),$}();i.default.fn.toast=wt._jQueryInterface,i.default.fn.toast.Constructor=wt,i.default.fn.toast.noConflict=function(){return i.default.fn.toast=ge,wt._jQueryInterface},n.Alert=R,n.Button=k,n.Carousel=q,n.Collapse=qt,n.Dropdown=Fr,n.Modal=nn,n.Popover=Zi,n.Scrollspy=Mn,n.Tab=ue,n.Toast=wt,n.Tooltip=Dn,n.Util=d,Object.defineProperty(n,"__esModule",{value:!0})})}(Xu,Xu.exports)),Xu.exports}e6();function v_(r){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(r)}var PT=[],t6=PT.forEach,r6=PT.slice;function __(r){return t6.call(r6.call(arguments,1),function(e){if(e)for(var n in e)r[n]===void 0&&(r[n]=e[n])}),r}function OT(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":v_(XMLHttpRequest))==="object"}function n6(r){return!!r&&typeof r.then=="function"}function i6(r){return n6(r)?r:Promise.resolve(r)}function s6(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ah={exports:{}},Qu={exports:{}},o6=Qu.exports,Bk;function a6(){return Bk||(Bk=1,function(r,e){var n=typeof self<"u"?self:o6,t=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var u={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function p(Z){return Z&&DataView.prototype.isPrototypeOf(Z)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(Z){return Z&&c.indexOf(Object.prototype.toString.call(Z))>-1};function d(Z){if(typeof Z!="string"&&(Z=String(Z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Z))throw new TypeError("Invalid character in header field name");return Z.toLowerCase()}function h(Z){return typeof Z!="string"&&(Z=String(Z)),Z}function w(Z){var de={next:function(){var ye=Z.shift();return{done:ye===void 0,value:ye}}};return u.iterable&&(de[Symbol.iterator]=function(){return de}),de}function R(Z){this.map={},Z instanceof R?Z.forEach(function(de,ye){this.append(ye,de)},this):Array.isArray(Z)?Z.forEach(function(de){this.append(de[0],de[1])},this):Z&&Object.getOwnPropertyNames(Z).forEach(function(de){this.append(de,Z[de])},this)}R.prototype.append=function(Z,de){Z=d(Z),de=h(de);var ye=this.map[Z];this.map[Z]=ye?ye+", "+de:de},R.prototype.delete=function(Z){delete this.map[d(Z)]},R.prototype.get=function(Z){return Z=d(Z),this.has(Z)?this.map[Z]:null},R.prototype.has=function(Z){return this.map.hasOwnProperty(d(Z))},R.prototype.set=function(Z,de){this.map[d(Z)]=h(de)},R.prototype.forEach=function(Z,de){for(var ye in this.map)this.map.hasOwnProperty(ye)&&Z.call(de,this.map[ye],ye,this)},R.prototype.keys=function(){var Z=[];return this.forEach(function(de,ye){Z.push(ye)}),w(Z)},R.prototype.values=function(){var Z=[];return this.forEach(function(de){Z.push(de)}),w(Z)},R.prototype.entries=function(){var Z=[];return this.forEach(function(de,ye){Z.push([ye,de])}),w(Z)},u.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);function S(Z){if(Z.bodyUsed)return Promise.reject(new TypeError("Already read"));Z.bodyUsed=!0}function _(Z){return new Promise(function(de,ye){Z.onload=function(){de(Z.result)},Z.onerror=function(){ye(Z.error)}})}function v(Z){var de=new FileReader,ye=_(de);return de.readAsArrayBuffer(Z),ye}function C(Z){var de=new FileReader,ye=_(de);return de.readAsText(Z),ye}function T(Z){for(var de=new Uint8Array(Z),ye=new Array(de.length),q=0;q<de.length;q++)ye[q]=String.fromCharCode(de[q]);return ye.join("")}function M(Z){if(Z.slice)return Z.slice(0);var de=new Uint8Array(Z.byteLength);return de.set(new Uint8Array(Z)),de.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(Z){this._bodyInit=Z,Z?typeof Z=="string"?this._bodyText=Z:u.blob&&Blob.prototype.isPrototypeOf(Z)?this._bodyBlob=Z:u.formData&&FormData.prototype.isPrototypeOf(Z)?this._bodyFormData=Z:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(Z)?this._bodyText=Z.toString():u.arrayBuffer&&u.blob&&p(Z)?(this._bodyArrayBuffer=M(Z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Z)||f(Z))?this._bodyArrayBuffer=M(Z):this._bodyText=Z=Object.prototype.toString.call(Z):this._bodyText="",this.headers.get("content-type")||(typeof Z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(Z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var Z=S(this);if(Z)return Z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var Z=S(this);if(Z)return Z;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(Z){var de=Z.toUpperCase();return N.indexOf(de)>-1?de:Z}function F(Z,de){de=de||{};var ye=de.body;if(Z instanceof F){if(Z.bodyUsed)throw new TypeError("Already read");this.url=Z.url,this.credentials=Z.credentials,de.headers||(this.headers=new R(Z.headers)),this.method=Z.method,this.mode=Z.mode,this.signal=Z.signal,!ye&&Z._bodyInit!=null&&(ye=Z._bodyInit,Z.bodyUsed=!0)}else this.url=String(Z);if(this.credentials=de.credentials||this.credentials||"same-origin",(de.headers||!this.headers)&&(this.headers=new R(de.headers)),this.method=y(de.method||this.method||"GET"),this.mode=de.mode||this.mode||null,this.signal=de.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ye)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ye)}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function I(Z){var de=new FormData;return Z.trim().split("&").forEach(function(ye){if(ye){var q=ye.split("="),ee=q.shift().replace(/\+/g," "),ce=q.join("=").replace(/\+/g," ");de.append(decodeURIComponent(ee),decodeURIComponent(ce))}}),de}function U(Z){var de=new R,ye=Z.replace(/\r?\n[\t ]+/g," ");return ye.split(/\r?\n/).forEach(function(q){var ee=q.split(":"),ce=ee.shift().trim();if(ce){var ve=ee.join(":").trim();de.append(ce,ve)}}),de}k.call(F.prototype);function K(Z,de){de||(de={}),this.type="default",this.status=de.status===void 0?200:de.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in de?de.statusText:"OK",this.headers=new R(de.headers),this.url=de.url||"",this._initBody(Z)}k.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},K.error=function(){var Z=new K(null,{status:0,statusText:""});return Z.type="error",Z};var Q=[301,302,303,307,308];K.redirect=function(Z,de){if(Q.indexOf(de)===-1)throw new RangeError("Invalid status code");return new K(null,{status:de,headers:{location:Z}})},a.DOMException=i.DOMException;try{new a.DOMException}catch{a.DOMException=function(de,ye){this.message=de,this.name=ye;var q=Error(de);this.stack=q.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function oe(Z,de){return new Promise(function(ye,q){var ee=new F(Z,de);if(ee.signal&&ee.signal.aborted)return q(new a.DOMException("Aborted","AbortError"));var ce=new XMLHttpRequest;function ve(){ce.abort()}ce.onload=function(){var fe={status:ce.status,statusText:ce.statusText,headers:U(ce.getAllResponseHeaders()||"")};fe.url="responseURL"in ce?ce.responseURL:fe.headers.get("X-Request-URL");var ke="response"in ce?ce.response:ce.responseText;ye(new K(ke,fe))},ce.onerror=function(){q(new TypeError("Network request failed"))},ce.ontimeout=function(){q(new TypeError("Network request failed"))},ce.onabort=function(){q(new a.DOMException("Aborted","AbortError"))},ce.open(ee.method,ee.url,!0),ee.credentials==="include"?ce.withCredentials=!0:ee.credentials==="omit"&&(ce.withCredentials=!1),"responseType"in ce&&u.blob&&(ce.responseType="blob"),ee.headers.forEach(function(fe,ke){ce.setRequestHeader(ke,fe)}),ee.signal&&(ee.signal.addEventListener("abort",ve),ce.onreadystatechange=function(){ce.readyState===4&&ee.signal.removeEventListener("abort",ve)}),ce.send(typeof ee._bodyInit>"u"?null:ee._bodyInit)})}return oe.polyfill=!0,i.fetch||(i.fetch=oe,i.Headers=R,i.Request=F,i.Response=K),a.Headers=R,a.Request=F,a.Response=K,a.fetch=oe,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(t),t.fetch.ponyfill=!0,delete t.fetch.polyfill;var s=t;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,r.exports=e}(Qu,Qu.exports)),Qu.exports}var $k;function c6(){return $k||($k=1,function(r,e){var n;if(typeof fetch=="function"&&(typeof Zu<"u"&&Zu.fetch?n=Zu.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof s6<"u"&&(typeof window>"u"||typeof window.document>"u")){var t=n||a6();t.default&&(t=t.default),e.default=t,r.exports=e.default}}(ah,ah.exports)),ah.exports}var DT=c6();const MT=Ei(DT),Uk=w_({__proto__:null,default:MT},[DT]);function Fh(r){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(r)}var ua;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ua=global.fetch:typeof window<"u"&&window.fetch?ua=window.fetch:ua=fetch);var Cd;OT()&&(typeof global<"u"&&global.XMLHttpRequest?Cd=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Cd=window.XMLHttpRequest));var Bh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Bh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Bh=window.ActiveXObject));!ua&&Uk&&!Cd&&!Bh&&(ua=MT||Uk);typeof ua!="function"&&(ua=void 0);var y_=function(e,n){if(n&&Fh(n)==="object"){var t="";for(var s in n)t+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s]);if(!t)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+t.slice(1)}return e},qk=function(e,n,t){ua(e,n).then(function(s){if(!s.ok)return t(s.statusText||"Error",{status:s.status});s.text().then(function(i){t(null,{status:s.status,data:i})}).catch(t)}).catch(t)},Hk=!1,l6=function(e,n,t,s){e.queryStringParams&&(n=y_(n,e.queryStringParams));var i=__({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);t&&(i["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(t):e.requestOptions,u=__({method:t?"POST":"GET",body:t?e.stringify(t):void 0,headers:i},Hk?{}:a);try{qk(n,u,s)}catch(p){if(!a||Object.keys(a).length===0||!p.message||p.message.indexOf("not implemented")<0)return s(p);try{Object.keys(a).forEach(function(c){delete u[c]}),qk(n,u,s),Hk=!0}catch(c){s(c)}}},u6=function(e,n,t,s){t&&Fh(t)==="object"&&(t=y_("",t).slice(1)),e.queryStringParams&&(n=y_(n,e.queryStringParams));try{var i;Cd?i=new Cd:i=new Bh("MSXML2.XMLHTTP.3.0"),i.open(t?"POST":"GET",n,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,t&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var u in a)i.setRequestHeader(u,a[u]);i.onreadystatechange=function(){i.readyState>3&&s(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(t)}catch(p){console&&console.log(p)}},d6=function(e,n,t,s){if(typeof t=="function"&&(s=t,t=void 0),s=s||function(){},ua)return l6(e,n,t,s);if(OT()||typeof ActiveXObject=="function")return u6(e,n,t,s);s(new Error("No fetch and no xhr implementation found!"))};function f6(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function h6(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function p6(r,e,n){return e&&h6(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function m6(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var g6=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,t,s){return m6({},t,s||"")},request:d6,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},AT=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f6(this,r),this.services=e,this.options=n,this.allOptions=t,this.type="backend",this.init(e,n,t)}return p6(r,[{key:"init",value:function(n){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=__(s,this.options||{},g6()),this.allOptions=i,this.services&&this.options.reloadInterval&&setInterval(function(){return t.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,t,s){this._readAny(n,n,t,t,s)}},{key:"read",value:function(n,t,s){this._readAny([n],n,[t],t,s)}},{key:"_readAny",value:function(n,t,s,i,a){var u=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(n,s)),p=i6(p),p.then(function(c){if(!c)return a(null,{});var f=u.services.interpolator.interpolate(c,{lng:n.join("+"),ns:s.join("+")});u.loadUrl(f,a,t,i)})}},{key:"loadUrl",value:function(n,t,s,i){var a=this;this.options.request(this.options,n,void 0,function(u,p){if(p&&(p.status>=500&&p.status<600||!p.status))return t("failed loading "+n+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return t("failed loading "+n+"; status code: "+p.status,!1);if(!p&&u&&u.message&&u.message.indexOf("Failed to fetch")>-1)return t("failed loading "+n+": "+u.message,!0);if(u)return t(u,!1);var c,f;try{typeof p.data=="string"?c=a.options.parse(p.data,s,i):c=p.data}catch{f="failed parsing "+n+" to json"}if(f)return t(f,!1);t(null,c)})}},{key:"create",value:function(n,t,s,i,a){var u=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var p=this.options.parsePayload(t,s,i),c=0,f=[],d=[];n.forEach(function(h){var w=u.options.addPath;typeof u.options.addPath=="function"&&(w=u.options.addPath(h,t));var R=u.services.interpolator.interpolate(w,{lng:h,ns:t});u.options.request(u.options,R,p,function(S,_){c+=1,f.push(S),d.push(_),c===n.length&&a&&a(f,d)})})}}},{key:"reload",value:function(){var n=this,t=this.services,s=t.backendConnector,i=t.languageUtils,a=t.logger,u=s.language;if(!(u&&u.toLowerCase()==="cimode")){var p=[],c=function(d){var h=i.toResolveHierarchy(d);h.forEach(function(w){p.indexOf(w)<0&&p.push(w)})};c(u),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return c(f)}),p.forEach(function(f){n.allOptions.ns.forEach(function(d){s.read(f,d,"read",null,null,function(h,w){h&&a.warn("loading namespace ".concat(d," for language ").concat(f," failed"),h),!h&&w&&a.log("loaded namespace ".concat(d," for language ").concat(f),w),s.loaded("".concat(f,"|").concat(d),h,w)})})})}}}]),r}();AT.type="backend";var jT=[],v6=jT.forEach,_6=jT.slice;function y6(r){return v6.call(_6.call(arguments,1),function(e){if(e)for(var n in e)r[n]===void 0&&(r[n]=e[n])}),r}var Vk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,w6=function(e,n,t){var s=t||{};s.path=s.path||"/";var i=encodeURIComponent(n),a="".concat(e,"=").concat(i);if(s.maxAge>0){var u=s.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(u))}if(s.domain){if(!Vk.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!Vk.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var p=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(p){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},zk={create:function(e,n,t,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),s&&(i.domain=s),document.cookie=w6(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),t=document.cookie.split(";"),s=0;s<t.length;s++){for(var i=t[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},b6={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var t=zk.read(e.lookupCookie);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&zk.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},S6={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var t=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(t=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=t.substring(1),i=s.split("&"),a=0;a<i.length;a++){var u=i[a].indexOf("=");if(u>0){var p=i[a].substring(0,u);p===e.lookupQuerystring&&(n=i[a].substring(u+1))}}}return n}},Hu=null,Wk=function(){if(Hu!==null)return Hu;try{Hu=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Hu=!1}return Hu},C6={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&Wk()){var t=window.localStorage.getItem(e.lookupLocalStorage);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&Wk()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},Vu=null,Yk=function(){if(Vu!==null)return Vu;try{Vu=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Vu=!1}return Vu},k6={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&Yk()){var t=window.sessionStorage.getItem(e.lookupSessionStorage);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&Yk()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},x6={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var t=0;t<navigator.languages.length;t++)n.push(navigator.languages[t]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},E6={name:"htmlTag",lookup:function(e){var n,t=e.htmlTag||(typeof document<"u"?document.documentElement:null);return t&&typeof t.getAttribute=="function"&&(n=t.getAttribute("lang")),n}},T6={name:"path",lookup:function(e){var n;if(typeof window<"u"){var t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(t instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof t[e.lookupFromPathIndex]!="string")return;n=t[e.lookupFromPathIndex].replace("/","")}else n=t[0].replace("/","")}return n}},R6={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,t=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[n]}};function P6(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var LT=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};eo(this,r),this.type="languageDetector",this.detectors={},this.init(e,n)}return zi(r,[{key:"init",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=y6(t,this.options||{},P6()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(b6),this.addDetector(S6),this.addDetector(C6),this.addDetector(k6),this.addDetector(x6),this.addDetector(E6),this.addDetector(T6),this.addDetector(R6)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var t=this;n||(n=this.options.order);var s=[];return n.forEach(function(i){if(t.detectors[i]){var a=t.detectors[i].lookup(t.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,t){var s=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||t.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(n,s.options)}))}}]),r}();LT.type="languageDetector";let jy="en";localStorage.getItem("locale")&&(jy=localStorage.getItem("locale"));document.documentElement.lang=jy;Fe.use(AT).use(LT).use(mO).init({supportedLngs:["en","ar","ja","ko"],lng:jy,fallbackLng:"en",detection:{order:["htmlTag","cookie","localStorage","path"],caches:["cookie"]},interpolation:{escapeValue:!1},resources:{},react:{useSuspense:!0}});var O6=new URL(window.location.href);const NT=new URLSearchParams(O6.search);var D6=NT.get("user_id")||123;NT.get("target_user_id");const M6=r=>{const[e,n]=le.useState(!1);return le.useEffect(()=>{var t=D_("https://rtc.profexsol.com",{query:{user_id:r.current_user?r.current_user.id:D6},transports:["websocket"]});window.ms_socket=t,t.on("connect",function(){console.log("ms_socket connectedd"),Ae.dispatch("ms_socket__connected",t)}),n(t)},[]),A.jsx(wP,{store:HP,children:A.jsxs(Za.Provider,{value:{ms_socket:e},children:[A.jsx(M_,{}),A.jsx(Qq,{current_user:r.current_user})]})})};var A6=new URL(window.location.href);const IT=new URLSearchParams(A6.search);var j6=IT.get("name")||"John Doe",Kk=IT.get("user_id"),Gk="https://cdn.wnsocial.com/icon-person.png";function L6(){const[r,e]=le.useState(!1),[n,t]=le.useState([]),[s,i]=le.useState(j6),[a,u]=le.useState({}),[p,c]=le.useState(!Kk),f={display:"inline-block",width:"10px",height:"10px",borderRadius:"100px",background:"green",marginLeft:"5px"},d={background:"red"};le.useEffect(()=>{var R=ox("https://userapi.profexsol.com",{query:{},transports:["websocket"]});e(R)},[]),le.useEffect(()=>{r&&(r.on("connect",function(){console.log("ms_socket connected"),p||w(Kk)}),r.on("call-demo:users-list-updated",({users:R})=>{console.log("call-demo:users-list-updated",R),t(R)}))},[r]);const h=R=>{window.prepareJoinCall({chat_id:12345,chat:{id:12345,call_name:R.name,call_image:R.profile_image},target_user_id:R.id,current_user:a})},w=R=>{var S={name:s,profile_image:Gk};R&&(S.id=R),r.emit("call-demo:join",S,({user_id:_})=>{u({id:_,name:s,firstname:s,lastname:"",profile_image:Gk});const v=new URL(window.location);v.searchParams.set("user_id",_),v.searchParams.set("name",s),window.history.pushState({},"",v)}),c(!1)};return A.jsxs(A.Fragment,{children:[p&&A.jsxs("div",{className:"name-screen",children:[A.jsx("h3",{className:"mb-4 text-center",children:"Call Demo"}),A.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your name",value:s,onChange:R=>i(R.target.value)}),A.jsx("input",{type:"button",className:"btn btn-primary mt-2",value:"Join",onClick:()=>w()})]}),!p&&A.jsxs("div",{className:"users-list-parent",children:[A.jsxs("h3",{className:"mb-4",children:["Demo Users (Logged in as: ",s,")"]}),A.jsx("div",{className:"users-list",children:n.filter(R=>R.id!==a.id).map(R=>A.jsxs("div",{className:"users-list-item",children:[R.name," (",R.id,")",R.is_online?A.jsx("span",{style:f}):A.jsx("span",{style:{...f,...d}}),R.is_online&&A.jsx("button",{className:"btn btn-success btn-sm ml-2",onClick:()=>h(R),children:"Call"})]},R.id))})]}),a.id&&A.jsx("div",{className:"call-demo",children:A.jsx(M6,{current_user:a})})]})}zu.render(A.jsx(L6,{}),document.getElementById("root"))});export default N6();
